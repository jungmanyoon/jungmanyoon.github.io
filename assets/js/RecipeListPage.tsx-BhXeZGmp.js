var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,r,s)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[r]=s,i=(e,a)=>{for(var r in a||(a={}))t.call(a,r)&&n(e,r,a[r]);if(s)for(var r of s(a))l.call(a,r)&&n(e,r,a[r]);return e},o=(e,s)=>a(e,r(s));import{c as d,u as c,r as u,j as b,l as m,X as x,a as p,s as h,b as f,t as g,m as v}from"./index-BdhQelWT.js";import{F as j}from"./chunk-Dy1BoFqF.js";import{C as y}from"./chunk-Bw3nNXBl.js";import{S as N}from"./chunk-BTcqNXCj.js";
/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=d("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),C=({value:e,onChange:a,placeholder:r,debounceMs:s=300,className:t=""})=>{const{t:l}=c(),n=null!=r?r:l("components.searchBar.placeholder"),[i,o]=u.useState(e);u.useEffect(()=>{o(e)},[e]),u.useEffect(()=>{const r=setTimeout(()=>{i!==e&&a(i)},s);return()=>clearTimeout(r)},[i,e,a,s]);const d=u.useCallback(()=>{o(""),a("")},[a]),p=u.useCallback(e=>{o(e.target.value)},[]);return b.jsx("div",{className:`relative ${t}`,children:b.jsxs("div",{className:"relative",children:[b.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-bread-600 pointer-events-none","aria-hidden":"true"}),b.jsx("input",{type:"text",value:i,onChange:p,placeholder:n,"aria-label":l("components.searchBar.ariaLabel"),className:"\n            w-full pl-10 pr-10 py-2.5\n            border border-bread-200 rounded-lg\n            bg-white\n            text-bread-900 placeholder-bread-400\n            focus:outline-none focus:ring-2 focus:ring-bread-500 focus:border-transparent\n            transition-all duration-200\n            hover:border-bread-300\n          "}),i&&b.jsx("button",{onClick:d,"aria-label":l("components.searchBar.clearAriaLabel"),className:"\n              absolute right-3 top-1/2 -translate-y-1/2\n              w-5 h-5\n              text-bread-400 hover:text-bread-600\n              transition-colors duration-200\n              focus:outline-none focus:ring-2 focus:ring-bread-500 rounded\n            ",children:b.jsx(x,{className:"w-full h-full"})})]})})},k=({filters:e,sortBy:a,onFilterChange:r,onSortChange:s,onClearFilters:t,availableTags:l=[],className:n=""})=>{const{t:d}=c(),m=[{value:"beginner",labelKey:"filter.beginner"},{value:"intermediate",labelKey:"filter.intermediate"},{value:"advanced",labelKey:"filter.advanced"},{value:"professional",labelKey:"filter.expert"}],p=[{value:{min:0,max:30},labelKey:"filter.under30min"},{value:{min:30,max:60},labelKey:"filter.30to60min"},{value:{min:60,max:120},labelKey:"filter.1to2hours"},{value:{min:120,max:9999},labelKey:"filter.over2hours"}],h=u.useMemo(()=>{let a=0;return e.difficulty&&e.difficulty.length>0&&a++,e.productType&&e.productType.length>0&&a++,e.timeRange&&a++,e.tags&&e.tags.length>0&&a++,a},[e]),f=a=>{r(o(i({},e),{timeRange:a||void 0}))};return b.jsxs("div",{className:`bg-white border border-bread-200 rounded-lg p-4 ${n}`,children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-bread-700 font-medium",children:[b.jsx(j,{className:"w-5 h-5"}),b.jsx("span",{children:d("filter.title")}),h>0&&b.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-bread-600 rounded-full",children:h})]}),b.jsxs("div",{className:"flex-1 flex flex-wrap items-center gap-3",children:[b.jsxs("div",{className:"relative group",children:[b.jsxs("button",{className:"\n                px-3 py-2\n                border border-bread-200 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-700 text-sm\n                transition-colors duration-200\n                flex items-center gap-2\n              ",children:[d("filter.difficulty"),b.jsx(y,{className:"w-4 h-4"})]}),b.jsx("div",{className:"\n              absolute top-full left-0 mt-1\n              w-48\n              bg-white border border-bread-200 rounded-lg shadow-lg\n              opacity-0 invisible group-hover:opacity-100 group-hover:visible\n              transition-all duration-200\n              z-10\n            ",children:b.jsx("div",{className:"p-2 space-y-1",children:m.map(({value:a,labelKey:s})=>{var t;return b.jsxs("label",{className:"\n                      flex items-center gap-2 px-3 py-2\n                      hover:bg-bread-50 rounded cursor-pointer\n                      transition-colors duration-150\n                    ",children:[b.jsx("input",{type:"checkbox",checked:(null==(t=e.difficulty)?void 0:t.includes(a))||!1,onChange:()=>(a=>{const s=e.difficulty||[],t=s.includes(a)?s.filter(e=>e!==a):[...s,a];r(o(i({},e),{difficulty:t}))})(a),className:"w-4 h-4 text-bread-600 border-bread-300 rounded focus:ring-bread-500"}),b.jsx("span",{className:"text-sm text-bread-700",children:d(s)})]},a)})})})]}),b.jsxs("div",{className:"relative group",children:[b.jsxs("button",{className:"\n                px-3 py-2\n                border border-bread-200 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-700 text-sm\n                transition-colors duration-200\n                flex items-center gap-2\n              ",children:[d("advDashboard.productType"),b.jsx(y,{className:"w-4 h-4"})]}),b.jsx("div",{className:"\n              absolute top-full left-0 mt-1\n              w-48\n              bg-white border border-bread-200 rounded-lg shadow-lg\n              opacity-0 invisible group-hover:opacity-100 group-hover:visible\n              transition-all duration-200\n              z-10\n            ",children:b.jsx("div",{className:"p-2 space-y-1",children:[{value:"bread",labelKey:"advDashboard.productTypeBread"},{value:"pastry",labelKey:"advDashboard.productTypePastry"}].map(({value:a,labelKey:s})=>{var t;return b.jsxs("label",{className:"\n                      flex items-center gap-2 px-3 py-2\n                      hover:bg-bread-50 rounded cursor-pointer\n                      transition-colors duration-150\n                    ",children:[b.jsx("input",{type:"checkbox",checked:(null==(t=e.productType)?void 0:t.includes(a))||!1,onChange:()=>(a=>{const s=e.productType||[],t=s.includes(a)?s.filter(e=>e!==a):[...s,a];r(o(i({},e),{productType:t}))})(a),className:"w-4 h-4 text-bread-600 border-bread-300 rounded focus:ring-bread-500"}),b.jsx("span",{className:"text-sm text-bread-700",children:d(s)})]},a)})})})]}),b.jsxs("div",{className:"relative group",children:[b.jsxs("button",{className:"\n                px-3 py-2\n                border border-bread-200 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-700 text-sm\n                transition-colors duration-200\n                flex items-center gap-2\n              ",children:[d("filter.time"),b.jsx(y,{className:"w-4 h-4"})]}),b.jsx("div",{className:"\n              absolute top-full left-0 mt-1\n              w-48\n              bg-white border border-bread-200 rounded-lg shadow-lg\n              opacity-0 invisible group-hover:opacity-100 group-hover:visible\n              transition-all duration-200\n              z-10\n            ",children:b.jsxs("div",{className:"p-2 space-y-1",children:[b.jsx("button",{onClick:()=>f(null),className:`\n                    w-full text-left px-3 py-2\n                    hover:bg-bread-50 rounded\n                    transition-colors duration-150\n                    text-sm text-bread-700\n                    ${e.timeRange?"":"bg-bread-100 font-medium"}\n                  `,children:d("common.all")}),p.map(({value:a,labelKey:r})=>{var s,t;return b.jsx("button",{onClick:()=>f(a),className:`\n                      w-full text-left px-3 py-2\n                      hover:bg-bread-50 rounded\n                      transition-colors duration-150\n                      text-sm text-bread-700\n                      ${(null==(s=e.timeRange)?void 0:s.min)===a.min&&(null==(t=e.timeRange)?void 0:t.max)===a.max?"bg-bread-100 font-medium":""}\n                    `,children:d(r)},r)})]})})]}),l.length>0&&b.jsxs("div",{className:"relative group",children:[b.jsxs("button",{className:"\n                  px-3 py-2\n                  border border-bread-200 rounded-lg\n                  bg-white hover:bg-bread-50\n                  text-bread-700 text-sm\n                  transition-colors duration-200\n                  flex items-center gap-2\n                ",children:[d("filter.tags"),b.jsx(y,{className:"w-4 h-4"})]}),b.jsx("div",{className:"\n                absolute top-full left-0 mt-1\n                w-56\n                bg-white border border-bread-200 rounded-lg shadow-lg\n                opacity-0 invisible group-hover:opacity-100 group-hover:visible\n                transition-all duration-200\n                z-10\n                max-h-64 overflow-y-auto\n              ",children:b.jsx("div",{className:"p-2 space-y-1",children:l.map(a=>{var s;return b.jsxs("label",{className:"\n                        flex items-center gap-2 px-3 py-2\n                        hover:bg-bread-50 rounded cursor-pointer\n                        transition-colors duration-150\n                      ",children:[b.jsx("input",{type:"checkbox",checked:(null==(s=e.tags)?void 0:s.includes(a))||!1,onChange:()=>(a=>{const s=e.tags||[],t=s.includes(a)?s.filter(e=>e!==a):[...s,a];r(o(i({},e),{tags:t}))})(a),className:"w-4 h-4 text-bread-600 border-bread-300 rounded focus:ring-bread-500"}),b.jsx("span",{className:"text-sm text-bread-700",children:a})]},a)})})})]}),b.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[b.jsxs("label",{htmlFor:"sort-select",className:"text-sm text-bread-600",children:[d("filter.sortBy"),":"]}),b.jsx("select",{id:"sort-select",value:a,onChange:e=>s(e.target.value),className:"\n                px-3 py-2\n                border border-bread-200 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-700 text-sm\n                transition-colors duration-200\n                focus:outline-none focus:ring-2 focus:ring-bread-500\n                cursor-pointer\n              ",children:[{value:"name",labelKey:"filter.sortName"},{value:"createdAt",labelKey:"filter.sortCreated"},{value:"updatedAt",labelKey:"filter.sortModified"},{value:"difficulty",labelKey:"filter.sortDifficulty"},{value:"totalTime",labelKey:"filter.sortTime"}].map(({value:e,labelKey:a})=>b.jsx("option",{value:e,children:d(a)},e))})]}),h>0&&b.jsxs("button",{onClick:t,className:"\n                px-3 py-2\n                border border-bread-300 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-600 hover:text-bread-700 text-sm\n                transition-colors duration-200\n                flex items-center gap-2\n              ",children:[b.jsx(x,{className:"w-4 h-4"}),d("filter.resetFilter")]})]})]}),h>0&&b.jsx("div",{className:"mt-3 pt-3 border-t border-bread-100",children:b.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.difficulty&&e.difficulty.length>0&&b.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-bread-100 text-bread-700 text-xs rounded",children:[b.jsxs("span",{className:"font-medium",children:[d("filter.difficulty"),":"]}),b.jsx("span",{children:e.difficulty.map(e=>{const a=m.find(a=>a.value===e);return a?d(a.labelKey):e}).join(", ")})]}),e.timeRange&&b.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-bread-100 text-bread-700 text-xs rounded",children:[b.jsxs("span",{className:"font-medium",children:[d("filter.time"),":"]}),b.jsx("span",{children:(()=>{const a=p.find(a=>a.value.min===e.timeRange.min&&a.value.max===e.timeRange.max);return a?d(a.labelKey):""})()})]}),e.tags&&e.tags.length>0&&b.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-bread-100 text-bread-700 text-xs rounded",children:[b.jsxs("span",{className:"font-medium",children:[d("filter.tags"),":"]}),b.jsx("span",{children:e.tags.join(", ")})]})]})})]})};function T({isOpen:e,onClose:a,onComplete:r}){const{t:s}=c(),t=u.useCallback(()=>{r(),a()},[r,a]);return e?b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[b.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),b.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[b.jsx("div",{className:"bg-gradient-to-r from-bread-500 to-amber-500 px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(w,{className:"w-5 h-5 text-white"}),b.jsx("span",{className:"text-white font-medium",children:s("adModal.thankYouTitle")})]}),b.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors","aria-label":"Close",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),b.jsxs("div",{className:"p-6 text-center",children:[b.jsx("div",{className:"mb-4 flex justify-center",children:b.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center",children:b.jsx(N,{className:"w-8 h-8 text-amber-500"})})}),b.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:s("adModal.thankYouMessage")}),b.jsx("p",{className:"text-gray-600 text-sm mb-4",children:s("adModal.supportMessage")}),b.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:b.jsx("p",{className:"text-amber-700 text-sm",children:s("adModal.recipeCountInfo")})})]}),b.jsx("div",{className:"px-6 pb-6",children:b.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium transition-all bg-bread-600 text-white hover:bg-bread-700 active:scale-[0.98]",children:s("adModal.continueCreating")})})]})]}):null}const K=()=>{const{t:e}=c(),{recipes:a,filters:r,sortBy:s,addRecipe:t,deleteRecipe:l,setCurrentRecipe:n,setFilters:d,setSortBy:m,clearFilters:x,getAvailableTags:j,resetToSampleRecipes:y}=p(),N=p(h),w=p(j),{setActiveTab:K}=f(),[R,M]=u.useState(!1);u.useEffect(()=>{if(!a||0===a.length)return y(),void g.success(e("message.sampleRecipesLoaded"));if(a.some(e=>!e.source)&&a.length>0){a.every(e=>!e.source)&&(y(),g.success(e("message.sampleRecipesUpdated")))}},[]);const O=u.useCallback(e=>{n(e),setTimeout(()=>K("dashboard"),0)},[n,K]),B=u.useCallback(e=>{l(e)},[l]),D=u.useCallback(e=>{t(e)},[t]),F=u.useCallback(e=>{n(e),setTimeout(()=>K("editor"),0)},[n,K]),S=u.useCallback(()=>{const a={id:`recipe-${Date.now()}`,name:e("recipe.newRecipe"),description:"",category:"bread",method:"straight",servings:1,ingredients:[],createdAt:new Date,updatedAt:new Date,tags:[]};t(a),n(a),setTimeout(()=>K("dashboard"),0)},[t,n,K,e]),A=u.useCallback(()=>{a.length>=10?M(!0):S()},[a.length,S]),L=u.useCallback(()=>{M(!1),S(),g.success(e("message.adThanks"))},[S,e]),P=u.useCallback(e=>{d(o(i({},r),{searchQuery:e}))},[r,d]),z=u.useCallback(e=>{d(e)},[d]),E=u.useCallback(e=>{m(e)},[m]),$=u.useCallback(()=>{x()},[x]);return b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"flex-none space-y-3 p-4 bg-bread-50 border-b border-bread-200",children:[b.jsx(C,{value:r.searchQuery||"",onChange:P,placeholder:e("recipeList.searchPlaceholder")}),b.jsx(k,{filters:r,sortBy:s,onFilterChange:z,onSortChange:E,onClearFilters:$,availableTags:w})]}),b.jsx("div",{className:"flex-1 overflow-auto",children:b.jsx(v,{recipes:N,onSelect:O,onDelete:B,onEdit:F,onNew:A,onRestore:D})}),b.jsx(T,{isOpen:R,onClose:()=>M(!1),onComplete:L})]})};export{K as default};
//# sourceMappingURL=RecipeListPage.tsx-BhXeZGmp.js.map
