var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,i=(e,a)=>{for(var s in a||(a={}))r.call(a,s)&&n(e,s,a[s]);if(t)for(var s of t(a))l.call(a,s)&&n(e,s,a[s]);return e},o=(e,t)=>a(e,s(t));import{c as d,u as c,r as u,j as b,l as m,X as x,a as h,s as p,b as f,t as g,m as v}from"./index-CEtM2Bfp.js";import{F as j}from"./chunk-B_MJ9JBv.js";import{C as y}from"./chunk-B3_JToAj.js";import{S as N}from"./chunk-LqcTyJGn.js";
/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=d("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),C=({value:e,onChange:a,placeholder:s,debounceMs:t=300,className:r=""})=>{const{t:l}=c(),n=null!=s?s:l("components.searchBar.placeholder"),[i,o]=u.useState(e);u.useEffect(()=>{o(e)},[e]),u.useEffect(()=>{const s=setTimeout(()=>{i!==e&&a(i)},t);return()=>clearTimeout(s)},[i,e,a,t]);const d=u.useCallback(()=>{o(""),a("")},[a]),h=u.useCallback(e=>{o(e.target.value)},[]);return b.jsx("div",{className:`relative ${r}`,children:b.jsxs("div",{className:"relative",children:[b.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-bread-600 pointer-events-none","aria-hidden":"true"}),b.jsx("input",{type:"text",value:i,onChange:h,placeholder:n,"aria-label":l("components.searchBar.ariaLabel"),className:"\n            w-full pl-10 pr-10 py-2.5\n            border border-bread-200 rounded-lg\n            bg-white\n            text-bread-900 placeholder-bread-400\n            focus:outline-none focus:ring-2 focus:ring-bread-500 focus:border-transparent\n            transition-all duration-200\n            hover:border-bread-300\n          "}),i&&b.jsx("button",{onClick:d,"aria-label":l("components.searchBar.clearAriaLabel"),className:"\n              absolute right-3 top-1/2 -translate-y-1/2\n              w-5 h-5\n              text-bread-400 hover:text-bread-600\n              transition-colors duration-200\n              focus:outline-none focus:ring-2 focus:ring-bread-500 rounded\n            ",children:b.jsx(x,{className:"w-full h-full"})})]})})},k=({filters:e,sortBy:a,onFilterChange:s,onSortChange:t,onClearFilters:r,availableTags:l=[],className:n=""})=>{const{t:d}=c(),m=[{value:"beginner",labelKey:"filter.beginner"},{value:"intermediate",labelKey:"filter.intermediate"},{value:"advanced",labelKey:"filter.advanced"},{value:"professional",labelKey:"filter.expert"}],h=[{value:{min:0,max:30},labelKey:"filter.under30min"},{value:{min:30,max:60},labelKey:"filter.30to60min"},{value:{min:60,max:120},labelKey:"filter.1to2hours"},{value:{min:120,max:9999},labelKey:"filter.over2hours"}],p=u.useMemo(()=>{let a=0;return e.difficulty&&e.difficulty.length>0&&a++,e.timeRange&&a++,e.tags&&e.tags.length>0&&a++,a},[e]),f=a=>{s(o(i({},e),{timeRange:a||void 0}))};return b.jsxs("div",{className:`bg-white border border-bread-200 rounded-lg p-4 ${n}`,children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-bread-700 font-medium",children:[b.jsx(j,{className:"w-5 h-5"}),b.jsx("span",{children:d("filter.title")}),p>0&&b.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-bread-600 rounded-full",children:p})]}),b.jsxs("div",{className:"flex-1 flex flex-wrap items-center gap-3",children:[b.jsxs("div",{className:"relative group",children:[b.jsxs("button",{className:"\n                px-3 py-2\n                border border-bread-200 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-700 text-sm\n                transition-colors duration-200\n                flex items-center gap-2\n              ",children:[d("filter.difficulty"),b.jsx(y,{className:"w-4 h-4"})]}),b.jsx("div",{className:"\n              absolute top-full left-0 mt-1\n              w-48\n              bg-white border border-bread-200 rounded-lg shadow-lg\n              opacity-0 invisible group-hover:opacity-100 group-hover:visible\n              transition-all duration-200\n              z-10\n            ",children:b.jsx("div",{className:"p-2 space-y-1",children:m.map(({value:a,labelKey:t})=>{var r;return b.jsxs("label",{className:"\n                      flex items-center gap-2 px-3 py-2\n                      hover:bg-bread-50 rounded cursor-pointer\n                      transition-colors duration-150\n                    ",children:[b.jsx("input",{type:"checkbox",checked:(null==(r=e.difficulty)?void 0:r.includes(a))||!1,onChange:()=>(a=>{const t=e.difficulty||[],r=t.includes(a)?t.filter(e=>e!==a):[...t,a];s(o(i({},e),{difficulty:r}))})(a),className:"w-4 h-4 text-bread-600 border-bread-300 rounded focus:ring-bread-500"}),b.jsx("span",{className:"text-sm text-bread-700",children:d(t)})]},a)})})})]}),b.jsxs("div",{className:"relative group",children:[b.jsxs("button",{className:"\n                px-3 py-2\n                border border-bread-200 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-700 text-sm\n                transition-colors duration-200\n                flex items-center gap-2\n              ",children:[d("filter.time"),b.jsx(y,{className:"w-4 h-4"})]}),b.jsx("div",{className:"\n              absolute top-full left-0 mt-1\n              w-48\n              bg-white border border-bread-200 rounded-lg shadow-lg\n              opacity-0 invisible group-hover:opacity-100 group-hover:visible\n              transition-all duration-200\n              z-10\n            ",children:b.jsxs("div",{className:"p-2 space-y-1",children:[b.jsx("button",{onClick:()=>f(null),className:`\n                    w-full text-left px-3 py-2\n                    hover:bg-bread-50 rounded\n                    transition-colors duration-150\n                    text-sm text-bread-700\n                    ${e.timeRange?"":"bg-bread-100 font-medium"}\n                  `,children:d("common.all")}),h.map(({value:a,labelKey:s})=>{var t,r;return b.jsx("button",{onClick:()=>f(a),className:`\n                      w-full text-left px-3 py-2\n                      hover:bg-bread-50 rounded\n                      transition-colors duration-150\n                      text-sm text-bread-700\n                      ${(null==(t=e.timeRange)?void 0:t.min)===a.min&&(null==(r=e.timeRange)?void 0:r.max)===a.max?"bg-bread-100 font-medium":""}\n                    `,children:d(s)},s)})]})})]}),l.length>0&&b.jsxs("div",{className:"relative group",children:[b.jsxs("button",{className:"\n                  px-3 py-2\n                  border border-bread-200 rounded-lg\n                  bg-white hover:bg-bread-50\n                  text-bread-700 text-sm\n                  transition-colors duration-200\n                  flex items-center gap-2\n                ",children:[d("filter.tags"),b.jsx(y,{className:"w-4 h-4"})]}),b.jsx("div",{className:"\n                absolute top-full left-0 mt-1\n                w-56\n                bg-white border border-bread-200 rounded-lg shadow-lg\n                opacity-0 invisible group-hover:opacity-100 group-hover:visible\n                transition-all duration-200\n                z-10\n                max-h-64 overflow-y-auto\n              ",children:b.jsx("div",{className:"p-2 space-y-1",children:l.map(a=>{var t;return b.jsxs("label",{className:"\n                        flex items-center gap-2 px-3 py-2\n                        hover:bg-bread-50 rounded cursor-pointer\n                        transition-colors duration-150\n                      ",children:[b.jsx("input",{type:"checkbox",checked:(null==(t=e.tags)?void 0:t.includes(a))||!1,onChange:()=>(a=>{const t=e.tags||[],r=t.includes(a)?t.filter(e=>e!==a):[...t,a];s(o(i({},e),{tags:r}))})(a),className:"w-4 h-4 text-bread-600 border-bread-300 rounded focus:ring-bread-500"}),b.jsx("span",{className:"text-sm text-bread-700",children:a})]},a)})})})]}),b.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[b.jsxs("label",{htmlFor:"sort-select",className:"text-sm text-bread-600",children:[d("filter.sortBy"),":"]}),b.jsx("select",{id:"sort-select",value:a,onChange:e=>t(e.target.value),className:"\n                px-3 py-2\n                border border-bread-200 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-700 text-sm\n                transition-colors duration-200\n                focus:outline-none focus:ring-2 focus:ring-bread-500\n                cursor-pointer\n              ",children:[{value:"name",labelKey:"filter.sortName"},{value:"createdAt",labelKey:"filter.sortCreated"},{value:"updatedAt",labelKey:"filter.sortModified"},{value:"difficulty",labelKey:"filter.sortDifficulty"},{value:"totalTime",labelKey:"filter.sortTime"}].map(({value:e,labelKey:a})=>b.jsx("option",{value:e,children:d(a)},e))})]}),p>0&&b.jsxs("button",{onClick:r,className:"\n                px-3 py-2\n                border border-bread-300 rounded-lg\n                bg-white hover:bg-bread-50\n                text-bread-600 hover:text-bread-700 text-sm\n                transition-colors duration-200\n                flex items-center gap-2\n              ",children:[b.jsx(x,{className:"w-4 h-4"}),d("filter.resetFilter")]})]})]}),p>0&&b.jsx("div",{className:"mt-3 pt-3 border-t border-bread-100",children:b.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.difficulty&&e.difficulty.length>0&&b.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-bread-100 text-bread-700 text-xs rounded",children:[b.jsxs("span",{className:"font-medium",children:[d("filter.difficulty"),":"]}),b.jsx("span",{children:e.difficulty.map(e=>{const a=m.find(a=>a.value===e);return a?d(a.labelKey):e}).join(", ")})]}),e.timeRange&&b.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-bread-100 text-bread-700 text-xs rounded",children:[b.jsxs("span",{className:"font-medium",children:[d("filter.time"),":"]}),b.jsx("span",{children:(()=>{const a=h.find(a=>a.value.min===e.timeRange.min&&a.value.max===e.timeRange.max);return a?d(a.labelKey):""})()})]}),e.tags&&e.tags.length>0&&b.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-bread-100 text-bread-700 text-xs rounded",children:[b.jsxs("span",{className:"font-medium",children:[d("filter.tags"),":"]}),b.jsx("span",{children:e.tags.join(", ")})]})]})})]})};function K({isOpen:e,onClose:a,onComplete:s}){const{t:t}=c(),r=u.useCallback(()=>{s(),a()},[s,a]);return e?b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[b.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),b.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[b.jsx("div",{className:"bg-gradient-to-r from-bread-500 to-amber-500 px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(w,{className:"w-5 h-5 text-white"}),b.jsx("span",{className:"text-white font-medium",children:t("adModal.thankYouTitle")})]}),b.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors","aria-label":"Close",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),b.jsxs("div",{className:"p-6 text-center",children:[b.jsx("div",{className:"mb-4 flex justify-center",children:b.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center",children:b.jsx(N,{className:"w-8 h-8 text-amber-500"})})}),b.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t("adModal.thankYouMessage")}),b.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t("adModal.supportMessage")}),b.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:b.jsx("p",{className:"text-amber-700 text-sm",children:t("adModal.recipeCountInfo")})})]}),b.jsx("div",{className:"px-6 pb-6",children:b.jsx("button",{onClick:r,className:"w-full py-3 rounded-lg font-medium transition-all bg-bread-600 text-white hover:bg-bread-700 active:scale-[0.98]",children:t("adModal.continueCreating")})})]})]}):null}const R=()=>{const{t:e}=c(),{recipes:a,filters:s,sortBy:t,addRecipe:r,deleteRecipe:l,setCurrentRecipe:n,setFilters:d,setSortBy:m,clearFilters:x,getAvailableTags:j,resetToSampleRecipes:y}=h(),N=h(p),w=h(j),{setActiveTab:R}=f(),[T,M]=u.useState(!1);u.useEffect(()=>{if(!a||0===a.length)return y(),void g.success(e("message.sampleRecipesLoaded"));if(a.some(e=>!e.source)&&a.length>0){a.every(e=>!e.source)&&(y(),g.success(e("message.sampleRecipesUpdated")))}},[]);const O=u.useCallback(e=>{n(e),setTimeout(()=>R("dashboard"),0)},[n,R]),B=u.useCallback(e=>{l(e)},[l]),F=u.useCallback(e=>{r(e)},[r]),S=u.useCallback(e=>{n(e),setTimeout(()=>R("editor"),0)},[n,R]),A=u.useCallback(()=>{const a={id:`recipe-${Date.now()}`,name:e("recipe.newRecipe"),description:"",category:"bread",method:"straight",servings:1,ingredients:[],createdAt:new Date,updatedAt:new Date,tags:[]};r(a),n(a),setTimeout(()=>R("dashboard"),0)},[r,n,R,e]),L=u.useCallback(()=>{a.length>=10?M(!0):A()},[a.length,A]),D=u.useCallback(()=>{M(!1),A(),g.success(e("message.adThanks"))},[A,e]),P=u.useCallback(e=>{d(o(i({},s),{searchQuery:e}))},[s,d]),E=u.useCallback(e=>{d(e)},[d]),$=u.useCallback(e=>{m(e)},[m]),z=u.useCallback(()=>{x()},[x]);return b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"flex-none space-y-3 p-4 bg-bread-50 border-b border-bread-200",children:[b.jsx(C,{value:s.searchQuery||"",onChange:P,placeholder:e("recipeList.searchPlaceholder")}),b.jsx(k,{filters:s,sortBy:t,onFilterChange:E,onSortChange:$,onClearFilters:z,availableTags:w})]}),b.jsx("div",{className:"flex-1 overflow-auto",children:b.jsx(v,{recipes:N,onSelect:O,onDelete:B,onEdit:S,onNew:L,onRestore:F})}),b.jsx(K,{isOpen:T,onClose:()=>M(!1),onComplete:D})]})};export{R as default};
//# sourceMappingURL=RecipeListPage.tsx-D42CaTNI.js.map
