{"version":3,"file":"SettingsPage.tsx-B-K9c2K9.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/apple.js","../../../node_modules/lucide-react/dist/esm/icons/beaker.js","../../../node_modules/lucide-react/dist/esm/icons/box.js","../../../node_modules/lucide-react/dist/esm/icons/chevron-left.js","../../../node_modules/lucide-react/dist/esm/icons/coffee.js","../../../node_modules/lucide-react/dist/esm/icons/cog.js","../../../node_modules/lucide-react/dist/esm/icons/eye.js","../../../node_modules/lucide-react/dist/esm/icons/flask-conical.js","../../../node_modules/lucide-react/dist/esm/icons/folder-open.js","../../../node_modules/lucide-react/dist/esm/icons/hand.js","../../../node_modules/lucide-react/dist/esm/icons/hard-drive.js","../../../node_modules/lucide-react/dist/esm/icons/leaf.js","../../../node_modules/lucide-react/dist/esm/icons/mountain.js","../../../node_modules/lucide-react/dist/esm/icons/pen-line.js","../../../node_modules/lucide-react/dist/esm/icons/pen.js","../../../node_modules/lucide-react/dist/esm/icons/settings-2.js","../../../node_modules/lucide-react/dist/esm/icons/snowflake.js","../../../node_modules/lucide-react/dist/esm/icons/star.js","../../../node_modules/lucide-react/dist/esm/icons/sun.js","../../../node_modules/lucide-react/dist/esm/icons/thermometer.js","../../../node_modules/lucide-react/dist/esm/icons/timer.js","../../../node_modules/lucide-react/dist/esm/icons/zap.js","../../../src/utils/calculations/panScaling.ts","../../../src/components/settings/PanSettingsTab.tsx","../../../src/components/settings/EnvironmentSettingsTab.tsx","../../../src/components/settings/MethodSettingsTab.tsx","../../../src/components/settings/YieldLossSettingsTab.tsx","../../../src/data/nutritionDatabase.ts","../../../src/data/substitutionRules.ts","../../../src/components/settings/IngredientSettingsTab.tsx","../../../src/components/settings/AdvancedSettingsTab.tsx","../../../src/components/settings/StorageSettingsTab.tsx","../../../src/components/settings/LocaleSettingsTab.tsx","../../../src/components/settings/SettingsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z\",\n      key: \"3s7exb\"\n    }\n  ],\n  [\"path\", { d: \"M10 2c1 .5 2 2 2 5\", key: \"fcco2y\" }]\n];\nconst Apple = createLucideIcon(\"apple\", __iconNode);\n\nexport { __iconNode, Apple as default };\n//# sourceMappingURL=apple.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4.5 3h15\", key: \"c7n0jr\" }],\n  [\"path\", { d: \"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3\", key: \"m1uhx7\" }],\n  [\"path\", { d: \"M6 14h12\", key: \"4cwo0f\" }]\n];\nconst Beaker = createLucideIcon(\"beaker\", __iconNode);\n\nexport { __iconNode, Beaker as default };\n//# sourceMappingURL=beaker.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z\",\n      key: \"hh9hay\"\n    }\n  ],\n  [\"path\", { d: \"m3.3 7 8.7 5 8.7-5\", key: \"g66t2b\" }],\n  [\"path\", { d: \"M12 22V12\", key: \"d0xqtd\" }]\n];\nconst Box = createLucideIcon(\"box\", __iconNode);\n\nexport { __iconNode, Box as default };\n//# sourceMappingURL=box.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]];\nconst ChevronLeft = createLucideIcon(\"chevron-left\", __iconNode);\n\nexport { __iconNode, ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 2v2\", key: \"7u0qdc\" }],\n  [\"path\", { d: \"M14 2v2\", key: \"6buw04\" }],\n  [\n    \"path\",\n    {\n      d: \"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1\",\n      key: \"pwadti\"\n    }\n  ],\n  [\"path\", { d: \"M6 2v2\", key: \"colzsn\" }]\n];\nconst Coffee = createLucideIcon(\"coffee\", __iconNode);\n\nexport { __iconNode, Coffee as default };\n//# sourceMappingURL=coffee.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z\", key: \"sobvz5\" }],\n  [\"path\", { d: \"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\", key: \"11i496\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 22v-2\", key: \"1osdcq\" }],\n  [\"path\", { d: \"m17 20.66-1-1.73\", key: \"eq3orb\" }],\n  [\"path\", { d: \"M11 10.27 7 3.34\", key: \"16pf9h\" }],\n  [\"path\", { d: \"m20.66 17-1.73-1\", key: \"sg0v6f\" }],\n  [\"path\", { d: \"m3.34 7 1.73 1\", key: \"1ulond\" }],\n  [\"path\", { d: \"M14 12h8\", key: \"4f43i9\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"m20.66 7-1.73 1\", key: \"1ow05n\" }],\n  [\"path\", { d: \"m3.34 17 1.73-1\", key: \"nuk764\" }],\n  [\"path\", { d: \"m17 3.34-1 1.73\", key: \"2wel8s\" }],\n  [\"path\", { d: \"m11 13.73-4 6.93\", key: \"794ttg\" }]\n];\nconst Cog = createLucideIcon(\"cog\", __iconNode);\n\nexport { __iconNode, Cog as default };\n//# sourceMappingURL=cog.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Eye = createLucideIcon(\"eye\", __iconNode);\n\nexport { __iconNode, Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2\",\n      key: \"18mbvz\"\n    }\n  ],\n  [\"path\", { d: \"M6.453 15h11.094\", key: \"3shlmq\" }],\n  [\"path\", { d: \"M8.5 2h7\", key: \"csnxdl\" }]\n];\nconst FlaskConical = createLucideIcon(\"flask-conical\", __iconNode);\n\nexport { __iconNode, FlaskConical as default };\n//# sourceMappingURL=flask-conical.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n];\nconst FolderOpen = createLucideIcon(\"folder-open\", __iconNode);\n\nexport { __iconNode, FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2\", key: \"1fvzgz\" }],\n  [\"path\", { d: \"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2\", key: \"1kc0my\" }],\n  [\"path\", { d: \"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8\", key: \"10h0bg\" }],\n  [\n    \"path\",\n    {\n      d: \"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15\",\n      key: \"1s1gnw\"\n    }\n  ]\n];\nconst Hand = createLucideIcon(\"hand\", __iconNode);\n\nexport { __iconNode, Hand as default };\n//# sourceMappingURL=hand.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"22\", x2: \"2\", y1: \"12\", y2: \"12\", key: \"1y58io\" }],\n  [\n    \"path\",\n    {\n      d: \"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\",\n      key: \"oot6mr\"\n    }\n  ],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"16\", y2: \"16\", key: \"sgf278\" }],\n  [\"line\", { x1: \"10\", x2: \"10.01\", y1: \"16\", y2: \"16\", key: \"1l4acy\" }]\n];\nconst HardDrive = createLucideIcon(\"hard-drive\", __iconNode);\n\nexport { __iconNode, HardDrive as default };\n//# sourceMappingURL=hard-drive.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z\",\n      key: \"nnexq3\"\n    }\n  ],\n  [\"path\", { d: \"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\", key: \"mt58a7\" }]\n];\nconst Leaf = createLucideIcon(\"leaf\", __iconNode);\n\nexport { __iconNode, Leaf as default };\n//# sourceMappingURL=leaf.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m8 3 4 8 5-5 5 15H2L8 3z\", key: \"otkl63\" }]];\nconst Mountain = createLucideIcon(\"mountain\", __iconNode);\n\nexport { __iconNode, Mountain as default };\n//# sourceMappingURL=mountain.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M13 21h8\", key: \"1jsn5i\" }],\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ]\n];\nconst PenLine = createLucideIcon(\"pen-line\", __iconNode);\n\nexport { __iconNode, PenLine as default };\n//# sourceMappingURL=pen-line.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ]\n];\nconst Pen = createLucideIcon(\"pen\", __iconNode);\n\nexport { __iconNode, Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 17H5\", key: \"gfn3mx\" }],\n  [\"path\", { d: \"M19 7h-9\", key: \"6i9tg\" }],\n  [\"circle\", { cx: \"17\", cy: \"17\", r: \"3\", key: \"18b49y\" }],\n  [\"circle\", { cx: \"7\", cy: \"7\", r: \"3\", key: \"dfmy0x\" }]\n];\nconst Settings2 = createLucideIcon(\"settings-2\", __iconNode);\n\nexport { __iconNode, Settings2 as default };\n//# sourceMappingURL=settings-2.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m10 20-1.25-2.5L6 18\", key: \"18frcb\" }],\n  [\"path\", { d: \"M10 4 8.75 6.5 6 6\", key: \"7mghy3\" }],\n  [\"path\", { d: \"m14 20 1.25-2.5L18 18\", key: \"1chtki\" }],\n  [\"path\", { d: \"m14 4 1.25 2.5L18 6\", key: \"1b4wsy\" }],\n  [\"path\", { d: \"m17 21-3-6h-4\", key: \"15hhxa\" }],\n  [\"path\", { d: \"m17 3-3 6 1.5 3\", key: \"11697g\" }],\n  [\"path\", { d: \"M2 12h6.5L10 9\", key: \"kv9z4n\" }],\n  [\"path\", { d: \"m20 10-1.5 2 1.5 2\", key: \"1swlpi\" }],\n  [\"path\", { d: \"M22 12h-6.5L14 15\", key: \"1mxi28\" }],\n  [\"path\", { d: \"m4 10 1.5 2L4 14\", key: \"k9enpj\" }],\n  [\"path\", { d: \"m7 21 3-6-1.5-3\", key: \"j8hb9u\" }],\n  [\"path\", { d: \"m7 3 3 6h4\", key: \"1otusx\" }]\n];\nconst Snowflake = createLucideIcon(\"snowflake\", __iconNode);\n\nexport { __iconNode, Snowflake as default };\n//# sourceMappingURL=snowflake.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z\",\n      key: \"r04s7s\"\n    }\n  ]\n];\nconst Star = createLucideIcon(\"star\", __iconNode);\n\nexport { __iconNode, Star as default };\n//# sourceMappingURL=star.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n];\nconst Sun = createLucideIcon(\"sun\", __iconNode);\n\nexport { __iconNode, Sun as default };\n//# sourceMappingURL=sun.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z\", key: \"17jzev\" }]\n];\nconst Thermometer = createLucideIcon(\"thermometer\", __iconNode);\n\nexport { __iconNode, Thermometer as default };\n//# sourceMappingURL=thermometer.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"10\", x2: \"14\", y1: \"2\", y2: \"2\", key: \"14vaq8\" }],\n  [\"line\", { x1: \"12\", x2: \"15\", y1: \"14\", y2: \"11\", key: \"17fdiu\" }],\n  [\"circle\", { cx: \"12\", cy: \"14\", r: \"8\", key: \"1e1u0o\" }]\n];\nconst Timer = createLucideIcon(\"timer\", __iconNode);\n\nexport { __iconNode, Timer as default };\n//# sourceMappingURL=timer.js.map\n","/**\n * @license lucide-react v0.537.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",\n      key: \"1xq2db\"\n    }\n  ]\n];\nconst Zap = createLucideIcon(\"zap\", __iconNode);\n\nexport { __iconNode, Zap as default };\n//# sourceMappingURL=zap.js.map\n","export type PanType = 'round' | 'square' | 'rectangular' | 'loaf' | 'chiffon'\r\n\r\n/**\r\n * 제품 종류별 팬닝 데이터 (비용적 및 충전율)\r\n * 비용적(specificVolume): 반죽 1g당 차지하는 부피 (ml/g)\r\n * 충전율(fillRatio): 팬에 채우는 비율 (0.0~1.0)\r\n *\r\n * 출처: 제과제빵 실무 기준\r\n */\r\nexport interface PanningData {\r\n  name: string\r\n  category: 'bread' | 'cake' | 'pastry' | 'other'\r\n  specificVolume: number  // ml/g\r\n  fillRatio: number       // 0.0~1.0\r\n  description?: string\r\n  tips?: string\r\n}\r\n\r\nexport const PANNING_DATABASE: Record<string, PanningData> = {\r\n  // ===== 식빵류 =====\r\n  pullman: {\r\n    name: '풀먼식빵',\r\n    category: 'bread',\r\n    specificVolume: 3.6,\r\n    fillRatio: 0.85,\r\n    description: '뚜껑을 닫고 굽는 각형 식빵',\r\n    tips: '2차 발효시 팬 높이 90%까지'\r\n  },\r\n  mountain: {\r\n    name: '산형식빵',\r\n    category: 'bread',\r\n    specificVolume: 4.0,\r\n    fillRatio: 0.70,\r\n    description: '뚜껑 없이 굽는 볼록한 식빵',\r\n    tips: '2차 발효시 팬 높이 80%까지'\r\n  },\r\n  milk_bread: {\r\n    name: '우유식빵',\r\n    category: 'bread',\r\n    specificVolume: 3.8,\r\n    fillRatio: 0.80,\r\n    description: '부드러운 우유 식빵'\r\n  },\r\n  brioche: {\r\n    name: '브리오슈',\r\n    category: 'bread',\r\n    specificVolume: 3.5,\r\n    fillRatio: 0.65,\r\n    description: '버터가 많은 리치 도우'\r\n  },\r\n\r\n  // ===== 제과류 (케이크) =====\r\n  genoise: {\r\n    name: '제누와즈',\r\n    category: 'cake',\r\n    specificVolume: 5.8,\r\n    fillRatio: 0.60,\r\n    description: '공립법 스펀지케이크',\r\n    tips: '팬 높이 60%까지만 채움'\r\n  },\r\n  chiffon: {\r\n    name: '쉬폰케이크',\r\n    category: 'cake',\r\n    specificVolume: 6.5,\r\n    fillRatio: 0.55,\r\n    description: '가볍고 촉촉한 쉬폰',\r\n    tips: '팬의 55%만 채움, 거꾸로 식히기'\r\n  },\r\n  pound: {\r\n    name: '파운드케이크',\r\n    category: 'cake',\r\n    specificVolume: 2.4,\r\n    fillRatio: 0.70,\r\n    description: '밀도 높은 버터케이크',\r\n    tips: '팬 높이 70%까지'\r\n  },\r\n  butter_cake: {\r\n    name: '버터케이크',\r\n    category: 'cake',\r\n    specificVolume: 3.0,\r\n    fillRatio: 0.65,\r\n    description: '별립법/공립법 버터케이크'\r\n  },\r\n  layer_cake: {\r\n    name: '레이어케이크',\r\n    category: 'cake',\r\n    specificVolume: 4.0,\r\n    fillRatio: 0.60,\r\n    description: '층층이 쌓는 케이크 시트'\r\n  },\r\n  cheesecake: {\r\n    name: '치즈케이크',\r\n    category: 'cake',\r\n    specificVolume: 1.8,\r\n    fillRatio: 0.85,\r\n    description: '밀도 높은 치즈케이크',\r\n    tips: '중탕으로 굽기'\r\n  },\r\n  brownie: {\r\n    name: '브라우니',\r\n    category: 'cake',\r\n    specificVolume: 1.6,\r\n    fillRatio: 0.90,\r\n    description: '밀도 높은 초콜릿 디저트',\r\n    tips: '2cm 두께가 적정'\r\n  },\r\n  financier: {\r\n    name: '피낭시에',\r\n    category: 'cake',\r\n    specificVolume: 2.0,\r\n    fillRatio: 0.85,\r\n    description: '버터향 진한 작은 케이크'\r\n  },\r\n  madeleine: {\r\n    name: '마들렌',\r\n    category: 'cake',\r\n    specificVolume: 2.2,\r\n    fillRatio: 0.80,\r\n    description: '조개 모양 작은 케이크',\r\n    tips: '볼록한 배가 나오도록'\r\n  },\r\n  castella: {\r\n    name: '카스테라',\r\n    category: 'cake',\r\n    specificVolume: 4.5,\r\n    fillRatio: 0.65,\r\n    description: '일본식 스펀지케이크'\r\n  },\r\n\r\n  // ===== 페이스트리류 =====\r\n  croissant: {\r\n    name: '크루아상',\r\n    category: 'pastry',\r\n    specificVolume: 5.0,\r\n    fillRatio: 0.50,\r\n    description: '층층이 결이 있는 빵',\r\n    tips: '간격 넓게 배치'\r\n  },\r\n  danish: {\r\n    name: '데니쉬',\r\n    category: 'pastry',\r\n    specificVolume: 4.5,\r\n    fillRatio: 0.55,\r\n    description: '데니쉬 페이스트리'\r\n  },\r\n  puff_pastry: {\r\n    name: '퍼프페이스트리',\r\n    category: 'pastry',\r\n    specificVolume: 5.5,\r\n    fillRatio: 0.45,\r\n    description: '겹겹이 올라가는 페이스트리'\r\n  },\r\n\r\n  // ===== 일반 빵류 =====\r\n  baguette: {\r\n    name: '바게트',\r\n    category: 'bread',\r\n    specificVolume: 5.5,\r\n    fillRatio: 1.0,\r\n    description: '프랑스 바게트',\r\n    tips: '성형 무게로 계산'\r\n  },\r\n  sourdough: {\r\n    name: '사워도우',\r\n    category: 'bread',\r\n    specificVolume: 4.0,\r\n    fillRatio: 1.0,\r\n    description: '천연발효빵'\r\n  },\r\n  ciabatta: {\r\n    name: '치아바타',\r\n    category: 'bread',\r\n    specificVolume: 5.0,\r\n    fillRatio: 1.0,\r\n    description: '이탈리아 빵'\r\n  },\r\n  dinner_roll: {\r\n    name: '모닝빵/롤빵',\r\n    category: 'bread',\r\n    specificVolume: 4.0,\r\n    fillRatio: 1.0,\r\n    description: '작은 롤빵',\r\n    tips: '개당 40-50g'\r\n  },\r\n  sweet_bread: {\r\n    name: '단팥빵/소보로',\r\n    category: 'bread',\r\n    specificVolume: 3.5,\r\n    fillRatio: 1.0,\r\n    description: '달콤한 충전물 빵',\r\n    tips: '개당 60-80g'\r\n  },\r\n\r\n  // ===== 기타 =====\r\n  cookie: {\r\n    name: '쿠키',\r\n    category: 'other',\r\n    specificVolume: 1.5,\r\n    fillRatio: 1.0,\r\n    description: '구운 과자',\r\n    tips: '두께 0.5-1cm'\r\n  },\r\n  scone: {\r\n    name: '스콘',\r\n    category: 'other',\r\n    specificVolume: 2.5,\r\n    fillRatio: 1.0,\r\n    description: '영국식 스콘',\r\n    tips: '개당 50-60g'\r\n  },\r\n  tart: {\r\n    name: '타르트',\r\n    category: 'other',\r\n    specificVolume: 2.0,\r\n    fillRatio: 0.80,\r\n    description: '타르트 쉘',\r\n    tips: '블라인드 베이킹 필요'\r\n  }\r\n}\r\n\r\n/**\r\n * 제품 종류에 따른 추천 팬닝 양 계산\r\n * @param panVolume 팬 부피 (ml)\r\n * @param productType 제품 종류 키\r\n * @returns 추천 반죽 양 (g)\r\n */\r\nexport function calculateRecommendedPanningWeight(\r\n  panVolume: number,\r\n  productType: keyof typeof PANNING_DATABASE\r\n): { weight: number; tips?: string } {\r\n  const data = PANNING_DATABASE[productType]\r\n  if (!data) {\r\n    // 기본값 사용\r\n    return { weight: Math.round(panVolume / 3.5) }\r\n  }\r\n\r\n  const usableVolume = panVolume * data.fillRatio\r\n  const weight = Math.round(usableVolume / data.specificVolume)\r\n\r\n  return {\r\n    weight,\r\n    tips: data.tips\r\n  }\r\n}\r\n\r\n/**\r\n * 반죽 양에 따른 추천 팬 크기 계산\r\n * @param doughWeight 반죽 양 (g)\r\n * @param productType 제품 종류 키\r\n * @returns 추천 팬 부피 (ml)\r\n */\r\nexport function calculateRecommendedPanVolume(\r\n  doughWeight: number,\r\n  productType: keyof typeof PANNING_DATABASE\r\n): { volume: number; tips?: string } {\r\n  const data = PANNING_DATABASE[productType]\r\n  if (!data) {\r\n    return { volume: Math.round(doughWeight * 3.5) }\r\n  }\r\n\r\n  const requiredVolume = (doughWeight * data.specificVolume) / data.fillRatio\r\n\r\n  return {\r\n    volume: Math.round(requiredVolume),\r\n    tips: data.tips\r\n  }\r\n}\r\n\r\n/**\r\n * 팬닝 상태 검증 (과충전/과소충전 경고)\r\n */\r\nexport function validatePanning(\r\n  panVolume: number,\r\n  doughWeight: number,\r\n  productType: keyof typeof PANNING_DATABASE\r\n): {\r\n  status: 'ok' | 'overfill' | 'underfill'\r\n  message: string\r\n  recommendedWeight: number\r\n} {\r\n  const { weight: recommended } = calculateRecommendedPanningWeight(panVolume, productType)\r\n  const ratio = doughWeight / recommended\r\n\r\n  if (ratio > 1.15) {\r\n    return {\r\n      status: 'overfill',\r\n      message: `과충전 (${Math.round(ratio * 100)}%) - 넘칠 수 있음`,\r\n      recommendedWeight: recommended\r\n    }\r\n  } else if (ratio < 0.85) {\r\n    return {\r\n      status: 'underfill',\r\n      message: `과소충전 (${Math.round(ratio * 100)}%) - 팬이 클 수 있음`,\r\n      recommendedWeight: recommended\r\n    }\r\n  }\r\n\r\n  return {\r\n    status: 'ok',\r\n    message: '적정 팬닝량',\r\n    recommendedWeight: recommended\r\n  }\r\n}\r\n\r\nexport interface PanDimensions {\r\n  diameter?: number\r\n  height?: number\r\n  length?: number\r\n  width?: number\r\n  topLength?: number\r\n  bottomLength?: number\r\n  outerDiameter?: number\r\n  innerDiameter?: number\r\n}\r\n\r\nexport interface PanConfigTS {\r\n  type: PanType\r\n  dimensions: PanDimensions\r\n}\r\n\r\nexport class PanScalingTS {\r\n  static calculateRoundPanVolume(diameter: number, height: number): number {\r\n    const radius = diameter / 2\r\n    return Math.PI * radius * radius * height\r\n  }\r\n\r\n  static calculateSquarePanVolume(length: number, width: number, height: number): number {\r\n    return length * width * height\r\n  }\r\n\r\n  static calculateLoafPanVolume(topLength: number, bottomLength: number, width: number, height: number): number {\r\n    const avgLength = (topLength + bottomLength) / 2\r\n    return avgLength * width * height\r\n  }\r\n\r\n  static calculateChiffonPanVolume(outerDiameter: number, innerDiameter: number, height: number): number {\r\n    const outerVolume = this.calculateRoundPanVolume(outerDiameter, height)\r\n    const innerVolume = this.calculateRoundPanVolume(innerDiameter, height)\r\n    return outerVolume - innerVolume\r\n  }\r\n\r\n  static calculatePanVolume(pan: PanConfigTS): number {\r\n    const { type, dimensions } = pan\r\n    switch (type) {\r\n      case 'round':\r\n        return this.calculateRoundPanVolume(dimensions.diameter!, dimensions.height!)\r\n      case 'square':\r\n      case 'rectangular':\r\n        return this.calculateSquarePanVolume(dimensions.length!, dimensions.width!, dimensions.height!)\r\n      case 'loaf':\r\n        return this.calculateLoafPanVolume(dimensions.topLength!, dimensions.bottomLength!, dimensions.width!, dimensions.height!)\r\n      case 'chiffon':\r\n        return this.calculateChiffonPanVolume(dimensions.outerDiameter!, dimensions.innerDiameter!, dimensions.height!)\r\n      default:\r\n        throw new Error(`알 수 없는 팬 타입: ${type}`)\r\n    }\r\n  }\r\n\r\n  static weightToVolume(weight: number, density: number = 0.55): number {\r\n    return weight / density\r\n  }\r\n\r\n  static volumeToWeight(volume: number, density: number = 0.55): number {\r\n    return volume * density\r\n  }\r\n}\r\n\r\nexport default PanScalingTS\r\n\r\n","/**\r\n * 팬/틀 관리 설정 탭\r\n * 사용자가 보유한 팬을 등록하고 관리\r\n *\r\n * 적용: --persona-frontend (UX 전문가)\r\n */\r\n\r\nimport { useState, useMemo, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore, DEFAULT_PAN_IDS } from '@/stores/useSettingsStore'\r\nimport { UserPan } from '@/types/settings.types'\r\nimport { PanScalingTS } from '@/utils/calculations/panScaling.ts'\r\nimport {\r\n  Plus,\r\n  Star,\r\n  Trash2,\r\n  Edit2,\r\n  Save,\r\n  X,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Copy,\r\n  Search,\r\n  Box,\r\n  AlertCircle\r\n} from 'lucide-react'\r\n\r\n// 팬 카테고리 목록 (value는 데이터 저장용, labelKey는 번역 키)\r\nconst PAN_CATEGORIES = [\r\n  { value: '케이크팬', labelKey: 'cakePan' },\r\n  { value: '무스틀', labelKey: 'mousseRing' },\r\n  { value: '식빵틀', labelKey: 'breadPan' },\r\n  { value: '풀먼틀', labelKey: 'pullmanPan' },\r\n  { value: '파운드틀', labelKey: 'poundPan' },\r\n  { value: '쉬폰틀', labelKey: 'chiffonPan' },\r\n  { value: '타르트틀', labelKey: 'tartPan' },\r\n  { value: '머핀틀', labelKey: 'muffinPan' },\r\n  { value: '롤케이크팬', labelKey: 'rollCakePan' },\r\n  { value: '시트팬', labelKey: 'sheetPan' },\r\n  { value: '특수틀', labelKey: 'specialPan' },\r\n  { value: '빵틀', labelKey: 'loafPan' }\r\n]\r\n\r\n// 팬 타입별 세부 종류 (value는 데이터 저장용, labelKey는 번역 키)\r\nconst PAN_TYPES: Record<string, { value: string; labelKey: string }[]> = {\r\n  '케이크팬': [\r\n    { value: 'round', labelKey: 'round' },\r\n    { value: 'square', labelKey: 'square' },\r\n    { value: 'springform', labelKey: 'springform' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '무스틀': [\r\n    { value: 'round', labelKey: 'mousseRing' },\r\n    { value: 'square', labelKey: 'squareMousse' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '식빵틀': [\r\n    { value: 'loaf', labelKey: 'loaf' },\r\n    { value: 'mini_loaf', labelKey: 'miniLoaf' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '풀먼틀': [\r\n    { value: 'square', labelKey: 'pullman' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '파운드틀': [\r\n    { value: 'loaf', labelKey: 'pound' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '쉬폰틀': [\r\n    { value: 'chiffon', labelKey: 'chiffon' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '타르트틀': [\r\n    { value: 'round', labelKey: 'roundTart' },\r\n    { value: 'square', labelKey: 'squareTart' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '머핀틀': [\r\n    { value: 'round', labelKey: 'muffin' },\r\n    { value: 'mini', labelKey: 'miniMuffin' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '롤케이크팬': [\r\n    { value: 'square', labelKey: 'rollCake' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '시트팬': [\r\n    { value: 'square', labelKey: 'sheet' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '특수틀': [\r\n    { value: 'round', labelKey: 'madeleine' },\r\n    { value: 'square', labelKey: 'financier' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ],\r\n  '빵틀': [\r\n    { value: 'loaf', labelKey: 'baguette' },\r\n    { value: 'round', labelKey: 'brioche' },\r\n    { value: 'custom', labelKey: 'custom' }\r\n  ]\r\n}\r\n\r\n// 빈 팬 폼 데이터\r\nconst EMPTY_PAN_FORM = {\r\n  name: '',\r\n  category: '케이크팬',\r\n  type: 'round',\r\n  dimensions: {\r\n    length: undefined as number | undefined,\r\n    width: undefined as number | undefined,\r\n    height: undefined as number | undefined,\r\n    diameter: undefined as number | undefined,\r\n    innerDiameter: undefined as number | undefined\r\n  },\r\n  fillRatio: undefined as number | undefined,\r\n  notes: '',\r\n  isFavorite: false\r\n}\r\n\r\ntype PanFormData = typeof EMPTY_PAN_FORM\r\n\r\ninterface PanSettingsTabProps {\r\n  className?: string\r\n}\r\n\r\nexport default function PanSettingsTab({ className = '' }: PanSettingsTabProps) {\r\n  const { t } = useTranslation()\r\n  const {\r\n    pan,\r\n    addPan,\r\n    updatePan,\r\n    deletePan,\r\n    togglePanFavorite\r\n  } = useSettingsStore()\r\n\r\n  // 카테고리 라벨 번역 헬퍼\r\n  const getCategoryLabel = useCallback((categoryValue: string) => {\r\n    const cat = PAN_CATEGORIES.find(c => c.value === categoryValue)\r\n    return cat ? t(`settings.pan.categories.${cat.labelKey}`) : categoryValue\r\n  }, [t])\r\n\r\n  // 팬 이름 번역 헬퍼 (기본 팬은 번역, 사용자 팬은 그대로)\r\n  const getPanDisplayName = useCallback((panItem: UserPan) => {\r\n    if (DEFAULT_PAN_IDS.includes(panItem.id)) {\r\n      const translated = t(`settings.pan.panNames.${panItem.id}`, { defaultValue: '' })\r\n      return translated || panItem.name\r\n    }\r\n    return panItem.name\r\n  }, [t])\r\n\r\n  // 타입 라벨 번역 헬퍼\r\n  const getTypeLabel = useCallback((categoryValue: string, typeValue: string) => {\r\n    const types = PAN_TYPES[categoryValue] || []\r\n    const type = types.find(t => t.value === typeValue)\r\n    return type ? t(`settings.pan.types.${type.labelKey}`) : typeValue\r\n  }, [t])\r\n\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [editingId, setEditingId] = useState<string | null>(null)\r\n  const [formData, setFormData] = useState<PanFormData>(EMPTY_PAN_FORM)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [filterCategory, setFilterCategory] = useState<string | null>(null)\r\n  const [showFavoritesOnly, setShowFavoritesOnly] = useState(false)\r\n  const [expandedPanId, setExpandedPanId] = useState<string | null>(null)\r\n\r\n  // 필터링된 팬 목록\r\n  const filteredPans = useMemo(() => {\r\n    return pan.myPans.filter(p => {\r\n      // 검색어 필터\r\n      if (searchQuery) {\r\n        const query = searchQuery.toLowerCase()\r\n        const matchName = p.name.toLowerCase().includes(query)\r\n        const matchCategory = p.category.toLowerCase().includes(query)\r\n        const matchType = p.type.toLowerCase().includes(query)\r\n        if (!matchName && !matchCategory && !matchType) return false\r\n      }\r\n      // 카테고리 필터\r\n      if (filterCategory && p.category !== filterCategory) return false\r\n      // 즐겨찾기 필터\r\n      if (showFavoritesOnly && !p.isFavorite) return false\r\n      return true\r\n    })\r\n  }, [pan.myPans, searchQuery, filterCategory, showFavoritesOnly])\r\n\r\n  // 부피 계산 (한글 카테고리 지원)\r\n  const calculateVolume = useCallback((data: PanFormData): number | null => {\r\n    const { dimensions, category, type } = data\r\n\r\n    // 원형 계열 카테고리 (지름 사용)\r\n    const roundCategories = ['케이크팬', '무스틀', '타르트틀', '머핀틀']\r\n    // 쉬폰 (내경 있음)\r\n    const chiffonCategories = ['쉬폰틀']\r\n    // 사각형 계열 (길이×너비×높이)\r\n    const squareCategories = ['식빵틀', '풀먼틀', '파운드틀', '롤케이크팬', '시트팬', '특수틀', '빵틀']\r\n\r\n    try {\r\n      // type으로 형태 판단 (더 정확)\r\n      if (type === 'chiffon' || chiffonCategories.includes(category)) {\r\n        if (dimensions.diameter && dimensions.innerDiameter && dimensions.height) {\r\n          return PanScalingTS.calculateChiffonPanVolume(\r\n            dimensions.diameter,\r\n            dimensions.innerDiameter,\r\n            dimensions.height\r\n          )\r\n        }\r\n      } else if (type === 'round' || (roundCategories.includes(category) && dimensions.diameter)) {\r\n        if (dimensions.diameter && dimensions.height) {\r\n          return PanScalingTS.calculateRoundPanVolume(dimensions.diameter, dimensions.height)\r\n        }\r\n      } else if (type === 'loaf' || type === 'square' || squareCategories.includes(category)) {\r\n        if (dimensions.length && dimensions.width && dimensions.height) {\r\n          return PanScalingTS.calculateSquarePanVolume(\r\n            dimensions.length,\r\n            dimensions.width,\r\n            dimensions.height\r\n          )\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(t('settings.pan.volumeCalcError'), e)\r\n    }\r\n    return null\r\n  }, [t])\r\n\r\n  // 폼 계산된 부피\r\n  const calculatedVolume = useMemo(() => calculateVolume(formData), [formData, calculateVolume])\r\n\r\n  // 폼 리셋\r\n  const resetForm = useCallback(() => {\r\n    setFormData(EMPTY_PAN_FORM)\r\n    setEditingId(null)\r\n    setShowForm(false)\r\n  }, [])\r\n\r\n  // 팬 편집 시작\r\n  const startEditing = useCallback((panItem: UserPan) => {\r\n    setFormData({\r\n      name: panItem.name,\r\n      category: panItem.category,\r\n      type: panItem.type,\r\n      dimensions: {\r\n        length: panItem.dimensions?.length,\r\n        width: panItem.dimensions?.width,\r\n        height: panItem.dimensions?.height,\r\n        diameter: panItem.dimensions?.diameter,\r\n        innerDiameter: panItem.dimensions?.innerDiameter\r\n      },\r\n      fillRatio: panItem.fillRatio,\r\n      notes: panItem.notes || '',\r\n      isFavorite: panItem.isFavorite\r\n    })\r\n    setEditingId(panItem.id)\r\n    setShowForm(true)\r\n  }, [])\r\n\r\n  // 팬 저장\r\n  const handleSave = useCallback(() => {\r\n    const volume = calculateVolume(formData)\r\n    if (!volume) {\r\n      alert(t('settings.pan.dimensionError'))\r\n      return\r\n    }\r\n\r\n    const panData = {\r\n      name: formData.name || `${formData.category} ${formData.type}`,\r\n      category: formData.category,\r\n      type: formData.type,\r\n      volume,\r\n      dimensions: formData.dimensions,\r\n      fillRatio: formData.fillRatio,\r\n      notes: formData.notes || undefined,\r\n      isFavorite: formData.isFavorite\r\n    }\r\n\r\n    if (editingId) {\r\n      updatePan(editingId, panData)\r\n    } else {\r\n      addPan(panData)\r\n    }\r\n\r\n    resetForm()\r\n  }, [formData, editingId, calculateVolume, updatePan, addPan, resetForm, t])\r\n\r\n  // 팬 복제\r\n  const duplicatePan = useCallback((panItem: UserPan) => {\r\n    addPan({\r\n      name: `${getPanDisplayName(panItem)} ${t('settings.pan.copyText')}`,\r\n      category: panItem.category,\r\n      type: panItem.type,\r\n      volume: panItem.volume,\r\n      dimensions: panItem.dimensions,\r\n      fillRatio: panItem.fillRatio,\r\n      notes: panItem.notes,\r\n      isFavorite: false\r\n    })\r\n  }, [addPan, t, getPanDisplayName])\r\n\r\n  // 카테고리 변경 시 타입 리셋\r\n  const handleCategoryChange = useCallback((category: string) => {\r\n    const types = PAN_TYPES[category] || PAN_TYPES.other\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      category,\r\n      type: types[0]?.value || 'custom',\r\n      dimensions: {\r\n        length: undefined,\r\n        width: undefined,\r\n        height: undefined,\r\n        diameter: undefined,\r\n        innerDiameter: undefined\r\n      }\r\n    }))\r\n  }, [])\r\n\r\n  // 치수 입력 필드 렌더링\r\n  const renderDimensionInputs = () => {\r\n    const { category, dimensions, type } = formData\r\n    // 원형 계열 (지름 사용)\r\n    const roundCategories = ['케이크팬', '무스틀', '타르트틀', '머핀틀']\r\n    const isRound = type === 'round' || roundCategories.includes(category)\r\n    const isChiffon = type === 'chiffon' || category === '쉬폰틀'\r\n\r\n    return (\r\n      <div className=\"grid grid-cols-3 gap-2\">\r\n        {(isRound || isChiffon) ? (\r\n          <>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">\r\n                {isChiffon ? t('settings.pan.outerDiameter') : t('settings.pan.diameter')} (cm)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={dimensions.diameter || ''}\r\n                onChange={(e) => setFormData(prev => ({\r\n                  ...prev,\r\n                  dimensions: { ...prev.dimensions, diameter: parseFloat(e.target.value) || undefined }\r\n                }))}\r\n                className=\"w-full px-2 py-1.5 text-sm border rounded\"\r\n                placeholder=\"15\"\r\n                step=\"0.5\"\r\n              />\r\n            </div>\r\n            {isChiffon && (\r\n              <div>\r\n                <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.pan.innerDiameter')} (cm)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={dimensions.innerDiameter || ''}\r\n                  onChange={(e) => setFormData(prev => ({\r\n                    ...prev,\r\n                    dimensions: { ...prev.dimensions, innerDiameter: parseFloat(e.target.value) || undefined }\r\n                  }))}\r\n                  className=\"w-full px-2 py-1.5 text-sm border rounded\"\r\n                  placeholder=\"5\"\r\n                  step=\"0.5\"\r\n                />\r\n              </div>\r\n            )}\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.pan.height')} (cm)</label>\r\n              <input\r\n                type=\"number\"\r\n                value={dimensions.height || ''}\r\n                onChange={(e) => setFormData(prev => ({\r\n                  ...prev,\r\n                  dimensions: { ...prev.dimensions, height: parseFloat(e.target.value) || undefined }\r\n                }))}\r\n                className=\"w-full px-2 py-1.5 text-sm border rounded\"\r\n                placeholder=\"7\"\r\n                step=\"0.5\"\r\n              />\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.pan.length')} (cm)</label>\r\n              <input\r\n                type=\"number\"\r\n                value={dimensions.length || ''}\r\n                onChange={(e) => setFormData(prev => ({\r\n                  ...prev,\r\n                  dimensions: { ...prev.dimensions, length: parseFloat(e.target.value) || undefined }\r\n                }))}\r\n                className=\"w-full px-2 py-1.5 text-sm border rounded\"\r\n                placeholder=\"20\"\r\n                step=\"0.5\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.pan.width')} (cm)</label>\r\n              <input\r\n                type=\"number\"\r\n                value={dimensions.width || ''}\r\n                onChange={(e) => setFormData(prev => ({\r\n                  ...prev,\r\n                  dimensions: { ...prev.dimensions, width: parseFloat(e.target.value) || undefined }\r\n                }))}\r\n                className=\"w-full px-2 py-1.5 text-sm border rounded\"\r\n                placeholder=\"10\"\r\n                step=\"0.5\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.pan.height')} (cm)</label>\r\n              <input\r\n                type=\"number\"\r\n                value={dimensions.height || ''}\r\n                onChange={(e) => setFormData(prev => ({\r\n                  ...prev,\r\n                  dimensions: { ...prev.dimensions, height: parseFloat(e.target.value) || undefined }\r\n                }))}\r\n                className=\"w-full px-2 py-1.5 text-sm border rounded\"\r\n                placeholder=\"10\"\r\n                step=\"0.5\"\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // 치수 문자열 생성\r\n  const getDimensionString = (panItem: UserPan): string => {\r\n    const d = panItem.dimensions\r\n    if (!d) return ''\r\n\r\n    if (d.diameter) {\r\n      if (d.innerDiameter) {\r\n        // 쉬폰틀: 외경/내경×높이\r\n        return `ø${d.diameter}/${d.innerDiameter}×${d.height}cm`\r\n      }\r\n      // 원형: 지름×높이\r\n      return `ø${d.diameter}×${d.height}cm`\r\n    }\r\n    if (d.length && d.width) {\r\n      // 사각형: 길이×너비×높이\r\n      return `${d.length}×${d.width}×${d.height}cm`\r\n    }\r\n    return ''\r\n  }\r\n\r\n  // 팬 카드 렌더링\r\n  const renderPanCard = (panItem: UserPan) => {\r\n    const isExpanded = expandedPanId === panItem.id\r\n    const dimensionStr = getDimensionString(panItem)\r\n\r\n    return (\r\n      <div\r\n        key={panItem.id}\r\n        className={`border rounded-lg overflow-hidden transition-all ${\r\n          panItem.isFavorite ? 'border-yellow-300 bg-yellow-50/30' : 'border-gray-200 bg-white'\r\n        }`}\r\n      >\r\n        {/* 팬 헤더 - 모든 정보를 한 줄에 표시 */}\r\n        <div\r\n          className=\"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-50\"\r\n          onClick={() => setExpandedPanId(isExpanded ? null : panItem.id)}\r\n        >\r\n          <div className=\"flex items-center gap-3 flex-1 min-w-0\">\r\n            <Box className=\"w-4 h-4 text-gray-400 flex-shrink-0\" />\r\n\r\n            {/* 팬 이름 */}\r\n            <div className=\"flex items-center gap-2 min-w-0\">\r\n              <span className=\"font-medium text-gray-800 truncate\">{getPanDisplayName(panItem)}</span>\r\n              {panItem.isFavorite && (\r\n                <Star className=\"w-3.5 h-3.5 text-yellow-500 fill-yellow-500 flex-shrink-0\" />\r\n              )}\r\n            </div>\r\n\r\n            {/* 사이즈 정보 - 바로 표시 */}\r\n            {dimensionStr && (\r\n              <span className=\"text-sm text-gray-500 font-mono flex-shrink-0\">\r\n                {dimensionStr}\r\n              </span>\r\n            )}\r\n\r\n            {/* 용량 */}\r\n            <span className=\"text-sm text-blue-600 font-mono font-medium flex-shrink-0\">\r\n              {panItem.volume.toLocaleString()}ml\r\n            </span>\r\n\r\n            {/* 메모 (있으면) */}\r\n            {panItem.notes && (\r\n              <span className=\"text-xs text-gray-400 truncate hidden sm:inline\">\r\n                {panItem.notes}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-1 flex-shrink-0 ml-2\">\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation()\r\n                togglePanFavorite(panItem.id)\r\n              }}\r\n              className={`p-1.5 rounded hover:bg-gray-100 ${\r\n                panItem.isFavorite ? 'text-yellow-500' : 'text-gray-400'\r\n              }`}\r\n              title={t('settings.pan.favorites')}\r\n            >\r\n              <Star className={`w-4 h-4 ${panItem.isFavorite ? 'fill-current' : ''}`} />\r\n            </button>\r\n            {isExpanded ? (\r\n              <ChevronUp className=\"w-4 h-4 text-gray-400\" />\r\n            ) : (\r\n              <ChevronDown className=\"w-4 h-4 text-gray-400\" />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 팬 상세 (확장됨) - 편집/삭제 버튼만 */}\r\n        {isExpanded && editingId !== panItem.id && (\r\n          <div className=\"px-3 pb-3 border-t border-gray-100\">\r\n            <div className=\"pt-3 flex flex-wrap items-center gap-3\">\r\n              {/* 카테고리 뱃지 */}\r\n              <span className=\"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded\">\r\n                {getCategoryLabel(panItem.category)}\r\n              </span>\r\n\r\n              {/* 충전율 (있으면) */}\r\n              {panItem.fillRatio && (\r\n                <span className=\"text-xs text-gray-500\">\r\n                  {t('settings.pan.fillRatio')}: {(panItem.fillRatio * 100).toFixed(0)}%\r\n                </span>\r\n              )}\r\n\r\n              {/* 메모 (모바일에서도 표시) */}\r\n              {panItem.notes && (\r\n                <span className=\"text-xs text-gray-500 italic sm:hidden\">\r\n                  {panItem.notes}\r\n                </span>\r\n              )}\r\n\r\n              {/* 구분선 */}\r\n              <div className=\"flex-1\" />\r\n\r\n              {/* 액션 버튼 */}\r\n              <button\r\n                onClick={() => startEditing(panItem)}\r\n                className=\"flex items-center gap-1 px-2 py-1 text-xs bg-blue-50 text-blue-600 rounded hover:bg-blue-100\"\r\n              >\r\n                <Edit2 className=\"w-3 h-3\" />\r\n                {t('common.edit')}\r\n              </button>\r\n              <button\r\n                onClick={() => duplicatePan(panItem)}\r\n                className=\"flex items-center gap-1 px-2 py-1 text-xs bg-gray-50 text-gray-600 rounded hover:bg-gray-100\"\r\n              >\r\n                <Copy className=\"w-3 h-3\" />\r\n                {t('settings.pan.duplicate')}\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  if (confirm(t('settings.pan.deleteConfirm', { name: getPanDisplayName(panItem) }))) {\r\n                    deletePan(panItem.id)\r\n                  }\r\n                }}\r\n                className=\"flex items-center gap-1 px-2 py-1 text-xs bg-red-50 text-red-600 rounded hover:bg-red-100\"\r\n              >\r\n                <Trash2 className=\"w-3 h-3\" />\r\n                {t('common.delete')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* 인라인 편집 폼 (해당 팬 편집 중일 때) */}\r\n        {editingId === panItem.id && showForm && (\r\n          <div className=\"p-4 border-t border-orange-200 bg-orange-50/50\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h4 className=\"font-medium text-gray-800\">{t('settings.pan.editPan')}</h4>\r\n              <button onClick={resetForm} className=\"p-1 hover:bg-gray-100 rounded\">\r\n                <X className=\"w-4 h-4 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              {/* 이름 */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {t('settings.pan.nameOptional')}\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                  placeholder={t('settings.pan.namePlaceholder')}\r\n                  className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n                />\r\n              </div>\r\n\r\n              {/* 종류 및 타입 */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {t('settings.pan.category')}\r\n                  </label>\r\n                  <select\r\n                    value={formData.category}\r\n                    onChange={(e) => handleCategoryChange(e.target.value)}\r\n                    className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n                  >\r\n                    {PAN_CATEGORIES.map(cat => (\r\n                      <option key={cat.value} value={cat.value}>{t(`settings.pan.categories.${cat.labelKey}`)}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {t('settings.pan.subType')}\r\n                  </label>\r\n                  <select\r\n                    value={formData.type}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, type: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n                  >\r\n                    {(PAN_TYPES[formData.category] || PAN_TYPES['케이크팬']).map(type => (\r\n                      <option key={type.value} value={type.value}>{t(`settings.pan.types.${type.labelKey}`)}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 치수 입력 */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {t('settings.pan.dimensions')}\r\n                </label>\r\n                {renderDimensionInputs()}\r\n              </div>\r\n\r\n              {/* 계산된 부피 표시 */}\r\n              <div className=\"flex items-center gap-2 p-3 bg-blue-50 rounded-lg\">\r\n                <Box className=\"w-5 h-5 text-blue-600\" />\r\n                <div>\r\n                  <div className=\"text-sm text-blue-700\">\r\n                    {t('settings.pan.calculatedVolume')}: {' '}\r\n                    <span className=\"font-mono font-bold\">\r\n                      {calculatedVolume ? `${Math.round(calculatedVolume).toLocaleString()} ml` : t('settings.pan.enterDimensions')}\r\n                    </span>\r\n                  </div>\r\n                  {!calculatedVolume && (\r\n                    <div className=\"text-xs text-blue-500 flex items-center gap-1 mt-0.5\">\r\n                      <AlertCircle className=\"w-3 h-3\" />\r\n                      {t('settings.pan.dimensionsRequired')}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* 충전율 (선택) */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {t('settings.pan.fillRatioOptional')}\r\n                </label>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"30\"\r\n                    max=\"95\"\r\n                    step=\"5\"\r\n                    value={(formData.fillRatio || 0.7) * 100}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      fillRatio: parseInt(e.target.value) / 100\r\n                    }))}\r\n                    className=\"flex-1\"\r\n                  />\r\n                  <span className=\"w-12 text-sm text-gray-600 font-mono\">\r\n                    {formData.fillRatio ? `${(formData.fillRatio * 100).toFixed(0)}%` : '70%'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 메모 */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {t('settings.pan.notesOptional')}\r\n                </label>\r\n                <textarea\r\n                  value={formData.notes}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n                  placeholder={t('settings.pan.notesPlaceholder')}\r\n                  rows={2}\r\n                  className=\"w-full px-3 py-2 text-sm border rounded-lg resize-none\"\r\n                />\r\n              </div>\r\n\r\n              {/* 즐겨찾기 */}\r\n              <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.isFavorite}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, isFavorite: e.target.checked }))}\r\n                  className=\"rounded border-gray-300\"\r\n                />\r\n                <Star className={`w-4 h-4 ${formData.isFavorite ? 'text-yellow-500 fill-yellow-500' : 'text-gray-400'}`} />\r\n                <span className=\"text-sm text-gray-700\">{t('settings.pan.addToFavorites')}</span>\r\n              </label>\r\n\r\n              {/* 저장 버튼 */}\r\n              <div className=\"flex gap-2 pt-2\">\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={!calculatedVolume}\r\n                  className=\"flex items-center gap-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\r\n                >\r\n                  <Save className=\"w-4 h-4\" />\r\n                  {t('common.save')}\r\n                </button>\r\n                <button\r\n                  onClick={resetForm}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  {t('common.cancel')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className}`}>\r\n      {/* 헤더 */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-800\">{t('settings.pan.title')}</h3>\r\n          <p className=\"text-sm text-gray-500\">\r\n            {t('settings.pan.titleDesc')}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => {\r\n            resetForm()\r\n            setShowForm(true)\r\n          }}\r\n          className=\"flex items-center gap-1 px-3 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors\"\r\n        >\r\n          <Plus className=\"w-4 h-4\" />\r\n          {t('settings.pan.addPan')}\r\n        </button>\r\n      </div>\r\n\r\n      {/* 검색 및 필터 */}\r\n      <div className=\"flex flex-wrap gap-2\">\r\n        <div className=\"relative flex-1 min-w-[200px]\">\r\n          <Search className=\"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder={t('settings.pan.searchPlaceholder')}\r\n            className=\"w-full pl-8 pr-3 py-2 text-sm border rounded-lg\"\r\n          />\r\n        </div>\r\n        <select\r\n          value={filterCategory || ''}\r\n          onChange={(e) => setFilterCategory(e.target.value || null)}\r\n          className=\"px-3 py-2 text-sm border rounded-lg\"\r\n        >\r\n          <option value=\"\">{t('settings.pan.allTypes')}</option>\r\n          {PAN_CATEGORIES.map(cat => (\r\n            <option key={cat.value} value={cat.value}>{t(`settings.pan.categories.${cat.labelKey}`)}</option>\r\n          ))}\r\n        </select>\r\n        <button\r\n          onClick={() => setShowFavoritesOnly(!showFavoritesOnly)}\r\n          className={`flex items-center gap-1 px-3 py-2 text-sm border rounded-lg transition-colors ${\r\n            showFavoritesOnly\r\n              ? 'bg-yellow-50 border-yellow-300 text-yellow-700'\r\n              : 'hover:bg-gray-50'\r\n          }`}\r\n        >\r\n          <Star className={`w-4 h-4 ${showFavoritesOnly ? 'fill-current' : ''}`} />\r\n          {t('settings.pan.favorites')}\r\n        </button>\r\n      </div>\r\n\r\n      {/* 새 팬 추가 폼 (편집이 아닐 때만 상단에 표시) */}\r\n      {showForm && !editingId && (\r\n        <div className=\"p-4 border border-orange-200 bg-orange-50/50 rounded-lg\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h4 className=\"font-medium text-gray-800\">\r\n              {editingId ? t('settings.pan.editPan') : t('settings.pan.newPan')}\r\n            </h4>\r\n            <button onClick={resetForm} className=\"p-1 hover:bg-gray-100 rounded\">\r\n              <X className=\"w-4 h-4 text-gray-500\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            {/* 이름 */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                {t('settings.pan.nameOptional')}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.name}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                placeholder={t('settings.pan.namePlaceholder')}\r\n                className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n              />\r\n            </div>\r\n\r\n            {/* 종류 및 타입 */}\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {t('settings.pan.category')}\r\n                </label>\r\n                <select\r\n                  value={formData.category}\r\n                  onChange={(e) => handleCategoryChange(e.target.value)}\r\n                  className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n                >\r\n                  {PAN_CATEGORIES.map(cat => (\r\n                    <option key={cat.value} value={cat.value}>{t(`settings.pan.categories.${cat.labelKey}`)}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {t('settings.pan.subType')}\r\n                </label>\r\n                <select\r\n                  value={formData.type}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, type: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n                >\r\n                  {(PAN_TYPES[formData.category] || PAN_TYPES['케이크팬']).map(type => (\r\n                    <option key={type.value} value={type.value}>{t(`settings.pan.types.${type.labelKey}`)}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* 치수 입력 */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                {t('settings.pan.dimensions')}\r\n              </label>\r\n              {renderDimensionInputs()}\r\n            </div>\r\n\r\n            {/* 계산된 부피 표시 */}\r\n            <div className=\"flex items-center gap-2 p-3 bg-blue-50 rounded-lg\">\r\n              <Box className=\"w-5 h-5 text-blue-600\" />\r\n              <div>\r\n                <div className=\"text-sm text-blue-700\">\r\n                  {t('settings.pan.calculatedVolume')}: {' '}\r\n                  <span className=\"font-mono font-bold\">\r\n                    {calculatedVolume ? `${Math.round(calculatedVolume).toLocaleString()} ml` : t('settings.pan.enterDimensions')}\r\n                  </span>\r\n                </div>\r\n                {!calculatedVolume && (\r\n                  <div className=\"text-xs text-blue-500 flex items-center gap-1 mt-0.5\">\r\n                    <AlertCircle className=\"w-3 h-3\" />\r\n                    {t('settings.pan.dimensionsRequired')}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* 충전율 (선택) */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                {t('settings.pan.fillRatioOptional')}\r\n              </label>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"range\"\r\n                  min=\"30\"\r\n                  max=\"95\"\r\n                  step=\"5\"\r\n                  value={(formData.fillRatio || 0.7) * 100}\r\n                  onChange={(e) => setFormData(prev => ({\r\n                    ...prev,\r\n                    fillRatio: parseInt(e.target.value) / 100\r\n                  }))}\r\n                  className=\"flex-1\"\r\n                />\r\n                <span className=\"w-12 text-sm text-gray-600 font-mono\">\r\n                  {formData.fillRatio ? `${(formData.fillRatio * 100).toFixed(0)}%` : '70%'}\r\n                </span>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                {t('settings.pan.fillRatioDesc')}\r\n              </p>\r\n            </div>\r\n\r\n            {/* 메모 */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                {t('settings.pan.notesOptional')}\r\n              </label>\r\n              <textarea\r\n                value={formData.notes}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n                placeholder={t('settings.pan.notesPlaceholder')}\r\n                rows={2}\r\n                className=\"w-full px-3 py-2 text-sm border rounded-lg resize-none\"\r\n              />\r\n            </div>\r\n\r\n            {/* 즐겨찾기 */}\r\n            <label className=\"flex items-center gap-2 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={formData.isFavorite}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, isFavorite: e.target.checked }))}\r\n                className=\"rounded border-gray-300\"\r\n              />\r\n              <Star className={`w-4 h-4 ${formData.isFavorite ? 'text-yellow-500 fill-yellow-500' : 'text-gray-400'}`} />\r\n              <span className=\"text-sm text-gray-700\">{t('settings.pan.addToFavorites')}</span>\r\n            </label>\r\n\r\n            {/* 저장 버튼 */}\r\n            <div className=\"flex gap-2 pt-2\">\r\n              <button\r\n                onClick={handleSave}\r\n                disabled={!calculatedVolume}\r\n                className=\"flex items-center gap-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                <Save className=\"w-4 h-4\" />\r\n                {editingId ? t('common.save') : t('common.add')}\r\n              </button>\r\n              <button\r\n                onClick={resetForm}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                {t('common.cancel')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 팬 목록 */}\r\n      <div className=\"space-y-2\">\r\n        {filteredPans.length === 0 ? (\r\n          <div className=\"p-8 text-center text-gray-500 border border-dashed rounded-lg\">\r\n            {pan.myPans.length === 0 ? (\r\n              <>\r\n                <Box className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\r\n                <p className=\"font-medium\">{t('settings.pan.noPans')}</p>\r\n                <p className=\"text-sm mt-1\">\r\n                  {t('settings.pan.noPansDesc')}\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Search className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\r\n                <p className=\"font-medium\">{t('settings.pan.noResults')}</p>\r\n                <p className=\"text-sm mt-1\">\r\n                  {t('settings.pan.noResultsDesc')}\r\n                </p>\r\n              </>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          filteredPans.map(renderPanCard)\r\n        )}\r\n      </div>\r\n\r\n      {/* 통계 */}\r\n      {pan.myPans.length > 0 && (\r\n        <div className=\"text-xs text-gray-400 pt-2 border-t\">\r\n          {t('settings.pan.totalPans', { count: pan.myPans.length })}\r\n          {pan.myPans.filter(p => p.isFavorite).length > 0 && (\r\n            <> · {t('settings.pan.favoritesCount', { count: pan.myPans.filter(p => p.isFavorite).length })}</>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * 환경 설정 탭\r\n * 온도, 습도, 고도 설정 및 프로필 관리\r\n *\r\n * 적용: --persona-frontend (UX) + --persona-backend (발효 계산)\r\n */\r\n\r\nimport { useState, useMemo, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore, calculateFermentationTimeCoefficient } from '@/stores/useSettingsStore'\r\nimport { EnvironmentProfile } from '@/types/settings.types'\r\nimport {\r\n  Thermometer,\r\n  Droplets,\r\n  Mountain,\r\n  Plus,\r\n  Save,\r\n  X,\r\n  Edit2,\r\n  Trash2,\r\n  Check,\r\n  Sun,\r\n  Snowflake,\r\n  Leaf,\r\n  AlertCircle,\r\n  Info,\r\n  Timer\r\n} from 'lucide-react'\r\n\r\n// 계절 아이콘\r\nconst SEASON_ICONS: Record<string, React.ElementType> = {\r\n  spring: Leaf,\r\n  summer: Sun,\r\n  winter: Snowflake\r\n}\r\n\r\ninterface EnvironmentSettingsTabProps {\r\n  className?: string\r\n}\r\n\r\nexport default function EnvironmentSettingsTab({ className = '' }: EnvironmentSettingsTabProps) {\r\n  const { t } = useTranslation()\r\n  const {\r\n    environment,\r\n    setEnvironmentDefaults,\r\n    addEnvironmentProfile,\r\n    updateEnvironmentProfile,\r\n    deleteEnvironmentProfile,\r\n    setActiveProfile\r\n  } = useSettingsStore()\r\n\r\n  const [showProfileForm, setShowProfileForm] = useState(false)\r\n  const [editingProfileId, setEditingProfileId] = useState<string | null>(null)\r\n  const [profileForm, setProfileForm] = useState({\r\n    name: '',\r\n    temperature: 25,\r\n    humidity: 60,\r\n    altitude: 0\r\n  })\r\n\r\n  // 현재 활성 프로필\r\n  const activeProfile = useMemo(() => {\r\n    if (!environment.activeProfileId) return null\r\n    return environment.profiles.find(p => p.id === environment.activeProfileId)\r\n  }, [environment.activeProfileId, environment.profiles])\r\n\r\n  // 현재 적용 중인 환경값\r\n  const currentEnvironment = useMemo(() => {\r\n    return activeProfile || environment.defaults\r\n  }, [activeProfile, environment.defaults])\r\n\r\n  // 발효 시간 영향 계산\r\n  const fermentationImpact = useMemo(() => {\r\n    const baseTemp = 26 // 기준 온도\r\n    const coefficient = calculateFermentationTimeCoefficient(currentEnvironment.temperature, baseTemp)\r\n\r\n    if (coefficient < 1) {\r\n      // 온도가 높으면 빠르게\r\n      const percent = Math.round((1 - coefficient) * 100)\r\n      return {\r\n        direction: 'faster',\r\n        percent,\r\n        message: t('settings.environment.fermentationFaster', { percent })\r\n      }\r\n    } else if (coefficient > 1) {\r\n      // 온도가 낮으면 느리게\r\n      const percent = Math.round((coefficient - 1) * 100)\r\n      return {\r\n        direction: 'slower',\r\n        percent,\r\n        message: t('settings.environment.fermentationSlower', { percent })\r\n      }\r\n    }\r\n    return {\r\n      direction: 'normal',\r\n      percent: 0,\r\n      message: t('settings.environment.fermentationNormal')\r\n    }\r\n  }, [currentEnvironment.temperature, t])\r\n\r\n  // 고도 영향 메시지\r\n  const altitudeImpact = useMemo(() => {\r\n    const alt = currentEnvironment.altitude\r\n    if (alt < 900) return null\r\n\r\n    if (alt >= 2100) {\r\n      return {\r\n        level: 'high',\r\n        message: t('settings.environment.altitudeHigh')\r\n      }\r\n    } else if (alt >= 1500) {\r\n      return {\r\n        level: 'medium',\r\n        message: t('settings.environment.altitudeMedium')\r\n      }\r\n    } else {\r\n      return {\r\n        level: 'low',\r\n        message: t('settings.environment.altitudeLow')\r\n      }\r\n    }\r\n  }, [currentEnvironment.altitude, t])\r\n\r\n  // 습도 영향 메시지\r\n  const humidityImpact = useMemo(() => {\r\n    const hum = currentEnvironment.humidity\r\n    if (hum < 40) {\r\n      return { level: 'low', message: t('settings.environment.humidityLowWarning') }\r\n    } else if (hum > 70) {\r\n      return { level: 'high', message: t('settings.environment.humidityHighWarning') }\r\n    }\r\n    return null\r\n  }, [currentEnvironment.humidity, t])\r\n\r\n  // 빌트인 프로필 ID 목록\r\n  const BUILTIN_PROFILE_IDS = ['spring', 'summer', 'winter']\r\n\r\n  // 프로필 표시 이름 가져오기 (빌트인은 번역, 사용자 프로필은 그대로)\r\n  const getProfileDisplayName = useCallback((profile: EnvironmentProfile) => {\r\n    if (BUILTIN_PROFILE_IDS.includes(profile.id)) {\r\n      return t(`settings.environment.profileNames.${profile.id}`)\r\n    }\r\n    return profile.name\r\n  }, [t])\r\n\r\n  // 프로필 폼 리셋\r\n  const resetProfileForm = useCallback(() => {\r\n    setProfileForm({\r\n      name: '',\r\n      temperature: 25,\r\n      humidity: 60,\r\n      altitude: 0\r\n    })\r\n    setEditingProfileId(null)\r\n    setShowProfileForm(false)\r\n  }, [])\r\n\r\n  // 프로필 편집 시작\r\n  const startEditingProfile = useCallback((profile: EnvironmentProfile) => {\r\n    setProfileForm({\r\n      name: profile.name,\r\n      temperature: profile.temperature,\r\n      humidity: profile.humidity,\r\n      altitude: profile.altitude\r\n    })\r\n    setEditingProfileId(profile.id)\r\n    setShowProfileForm(true)\r\n  }, [])\r\n\r\n  // 프로필 저장\r\n  const handleSaveProfile = useCallback(() => {\r\n    if (!profileForm.name.trim()) {\r\n      alert(t('settings.environment.profileNameRequired'))\r\n      return\r\n    }\r\n\r\n    if (editingProfileId) {\r\n      updateEnvironmentProfile(editingProfileId, {\r\n        name: profileForm.name,\r\n        temperature: profileForm.temperature,\r\n        humidity: profileForm.humidity,\r\n        altitude: profileForm.altitude\r\n      })\r\n    } else {\r\n      addEnvironmentProfile({\r\n        name: profileForm.name,\r\n        temperature: profileForm.temperature,\r\n        humidity: profileForm.humidity,\r\n        altitude: profileForm.altitude\r\n      })\r\n    }\r\n    resetProfileForm()\r\n  }, [profileForm, editingProfileId, updateEnvironmentProfile, addEnvironmentProfile, resetProfileForm, t])\r\n\r\n  // 기본값 온도/습도/고도 슬라이더 핸들러\r\n  const handleDefaultChange = useCallback((\r\n    field: 'temperature' | 'humidity' | 'altitude',\r\n    value: number\r\n  ) => {\r\n    setEnvironmentDefaults({ [field]: value })\r\n  }, [setEnvironmentDefaults])\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* 현재 환경 요약 */}\r\n      <div className=\"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg border border-blue-100\">\r\n        <h3 className=\"text-sm font-semibold text-blue-800 mb-3 flex items-center gap-2\">\r\n          <Thermometer className=\"w-4 h-4\" />\r\n          {t('settings.environment.currentEnvironment')}\r\n          {activeProfile && (\r\n            <span className=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full\">\r\n              {getProfileDisplayName(activeProfile)}\r\n            </span>\r\n          )}\r\n        </h3>\r\n\r\n        <div className=\"grid grid-cols-3 gap-4\">\r\n          <div className=\"text-center p-3 bg-white/70 rounded-lg\">\r\n            <Thermometer className=\"w-5 h-5 mx-auto text-red-500 mb-1\" />\r\n            <div className=\"text-2xl font-bold text-gray-800\">\r\n              {currentEnvironment.temperature}°C\r\n            </div>\r\n            <div className=\"text-xs text-gray-500\">{t('settings.environment.temperature')}</div>\r\n          </div>\r\n          <div className=\"text-center p-3 bg-white/70 rounded-lg\">\r\n            <Droplets className=\"w-5 h-5 mx-auto text-blue-500 mb-1\" />\r\n            <div className=\"text-2xl font-bold text-gray-800\">\r\n              {currentEnvironment.humidity}%\r\n            </div>\r\n            <div className=\"text-xs text-gray-500\">{t('settings.environment.humidity')}</div>\r\n          </div>\r\n          <div className=\"text-center p-3 bg-white/70 rounded-lg\">\r\n            <Mountain className=\"w-5 h-5 mx-auto text-green-600 mb-1\" />\r\n            <div className=\"text-2xl font-bold text-gray-800\">\r\n              {currentEnvironment.altitude}m\r\n            </div>\r\n            <div className=\"text-xs text-gray-500\">{t('settings.environment.altitude')}</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 발효 영향 */}\r\n        <div className=\"mt-3 p-2 bg-white/50 rounded flex items-center gap-2\">\r\n          <Timer className=\"w-4 h-4 text-orange-500\" />\r\n          <span className=\"text-sm text-gray-700\">\r\n            {t('settings.environment.fermentationTime')}: {' '}\r\n            <span className={`font-medium ${\r\n              fermentationImpact.direction === 'faster' ? 'text-orange-600' :\r\n              fermentationImpact.direction === 'slower' ? 'text-blue-600' :\r\n              'text-green-600'\r\n            }`}>\r\n              {fermentationImpact.message}\r\n            </span>\r\n          </span>\r\n        </div>\r\n\r\n        {/* 특이사항 알림 */}\r\n        {(altitudeImpact || humidityImpact) && (\r\n          <div className=\"mt-2 space-y-1\">\r\n            {altitudeImpact && (\r\n              <div className=\"flex items-start gap-2 p-2 bg-amber-50 rounded text-xs text-amber-700\">\r\n                <AlertCircle className=\"w-4 h-4 flex-shrink-0 mt-0.5\" />\r\n                {altitudeImpact.message}\r\n              </div>\r\n            )}\r\n            {humidityImpact && (\r\n              <div className=\"flex items-start gap-2 p-2 bg-blue-50 rounded text-xs text-blue-700\">\r\n                <Info className=\"w-4 h-4 flex-shrink-0 mt-0.5\" />\r\n                {humidityImpact.message}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 기본 설정 */}\r\n      <div className=\"space-y-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800\">{t('settings.environment.defaultSettings')}</h3>\r\n        <p className=\"text-sm text-gray-500\">\r\n          {t('settings.environment.defaultSettingsDesc')}\r\n        </p>\r\n\r\n        {/* 온도 슬라이더 */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700\">\r\n              <Thermometer className=\"w-4 h-4 text-red-500\" />\r\n              {t('settings.environment.temperature')}\r\n            </label>\r\n            <span className=\"text-lg font-mono font-bold text-gray-800\">\r\n              {environment.defaults.temperature}°C\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"15\"\r\n            max=\"35\"\r\n            step=\"1\"\r\n            value={environment.defaults.temperature}\r\n            onChange={(e) => handleDefaultChange('temperature', parseInt(e.target.value))}\r\n            className=\"w-full h-2 bg-gradient-to-r from-blue-300 via-green-300 to-red-300 rounded-lg appearance-none cursor-pointer\"\r\n          />\r\n          <div className=\"flex justify-between text-xs text-gray-400\">\r\n            <span>{t('settings.environment.tempWinter')}</span>\r\n            <span>{t('settings.environment.tempOptimal')}</span>\r\n            <span>{t('settings.environment.tempSummer')}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 습도 슬라이더 */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700\">\r\n              <Droplets className=\"w-4 h-4 text-blue-500\" />\r\n              {t('settings.environment.humidity')}\r\n            </label>\r\n            <span className=\"text-lg font-mono font-bold text-gray-800\">\r\n              {environment.defaults.humidity}%\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"30\"\r\n            max=\"80\"\r\n            step=\"5\"\r\n            value={environment.defaults.humidity}\r\n            onChange={(e) => handleDefaultChange('humidity', parseInt(e.target.value))}\r\n            className=\"w-full h-2 bg-gradient-to-r from-yellow-200 via-blue-300 to-blue-500 rounded-lg appearance-none cursor-pointer\"\r\n          />\r\n          <div className=\"flex justify-between text-xs text-gray-400\">\r\n            <span>{t('settings.environment.humidityDry')}</span>\r\n            <span>{t('settings.environment.humidityOptimal')}</span>\r\n            <span>{t('settings.environment.humidityWet')}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 고도 입력 */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <label className=\"flex items-center gap-2 text-sm font-medium text-gray-700\">\r\n              <Mountain className=\"w-4 h-4 text-green-600\" />\r\n              {t('settings.environment.altitudeLabel')}\r\n            </label>\r\n            <span className=\"text-lg font-mono font-bold text-gray-800\">\r\n              {environment.defaults.altitude}m\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"3000\"\r\n            step=\"100\"\r\n            value={environment.defaults.altitude}\r\n            onChange={(e) => handleDefaultChange('altitude', parseInt(e.target.value))}\r\n            className=\"w-full\"\r\n          />\r\n          <div className=\"flex justify-between text-xs text-gray-400\">\r\n            <span>{t('settings.environment.seaLevel')}</span>\r\n            <span>{t('settings.environment.lowAltitude')}</span>\r\n            <span>1500m</span>\r\n            <span>3000m</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 환경 프로필 */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-gray-800\">{t('settings.environment.profiles')}</h3>\r\n            <p className=\"text-sm text-gray-500\">\r\n              {t('settings.environment.profilesDesc')}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={() => {\r\n              resetProfileForm()\r\n              setShowProfileForm(true)\r\n            }}\r\n            className=\"flex items-center gap-1 px-3 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            {t('settings.environment.addProfile')}\r\n          </button>\r\n        </div>\r\n\r\n        {/* 프로필 폼 */}\r\n        {showProfileForm && (\r\n          <div className=\"p-4 border border-cyan-200 bg-cyan-50/50 rounded-lg space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h4 className=\"font-medium text-gray-800\">\r\n                {editingProfileId ? t('settings.environment.editProfile') : t('settings.environment.newProfile')}\r\n              </h4>\r\n              <button onClick={resetProfileForm} className=\"p-1 hover:bg-gray-100 rounded\">\r\n                <X className=\"w-4 h-4 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                {t('settings.environment.profileName')}\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={profileForm.name}\r\n                onChange={(e) => setProfileForm(prev => ({ ...prev, name: e.target.value }))}\r\n                placeholder={t('settings.environment.profileNamePlaceholder')}\r\n                className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.environment.temperature')} (°C)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={profileForm.temperature}\r\n                  onChange={(e) => setProfileForm(prev => ({ ...prev, temperature: parseInt(e.target.value) || 25 }))}\r\n                  min=\"10\"\r\n                  max=\"40\"\r\n                  className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.environment.humidity')} (%)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={profileForm.humidity}\r\n                  onChange={(e) => setProfileForm(prev => ({ ...prev, humidity: parseInt(e.target.value) || 60 }))}\r\n                  min=\"20\"\r\n                  max=\"90\"\r\n                  className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.environment.altitude')} (m)</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={profileForm.altitude}\r\n                  onChange={(e) => setProfileForm(prev => ({ ...prev, altitude: parseInt(e.target.value) || 0 }))}\r\n                  min=\"0\"\r\n                  max=\"5000\"\r\n                  step=\"100\"\r\n                  className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={handleSaveProfile}\r\n                className=\"flex items-center gap-1 px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors\"\r\n              >\r\n                <Save className=\"w-4 h-4\" />\r\n                {editingProfileId ? t('common.save') : t('settings.environment.addProfile')}\r\n              </button>\r\n              <button\r\n                onClick={resetProfileForm}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                {t('common.cancel')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* 프로필 목록 */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n          {/* 기본값 카드 (항상 표시) */}\r\n          <button\r\n            onClick={() => setActiveProfile(null)}\r\n            className={`p-4 rounded-lg border-2 text-left transition-all ${\r\n              !environment.activeProfileId\r\n                ? 'border-cyan-500 bg-cyan-50'\r\n                : 'border-gray-200 bg-white hover:border-gray-300'\r\n            }`}\r\n          >\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <span className=\"font-medium text-gray-800\">{t('settings.environment.default')}</span>\r\n              {!environment.activeProfileId && (\r\n                <Check className=\"w-4 h-4 text-cyan-600\" />\r\n              )}\r\n            </div>\r\n            <div className=\"text-xs text-gray-500 space-y-0.5\">\r\n              <div>{environment.defaults.temperature}°C</div>\r\n              <div>{environment.defaults.humidity}% {t('settings.environment.humidityUnit')}</div>\r\n              <div>{environment.defaults.altitude}m</div>\r\n            </div>\r\n          </button>\r\n\r\n          {/* 사용자 프로필들 */}\r\n          {environment.profiles.map(profile => {\r\n            const SeasonIcon = SEASON_ICONS[profile.id] || Thermometer\r\n            const isActive = environment.activeProfileId === profile.id\r\n            const isBuiltIn = ['spring', 'summer', 'winter'].includes(profile.id)\r\n\r\n            return (\r\n              <div\r\n                key={profile.id}\r\n                className={`relative p-4 rounded-lg border-2 transition-all ${\r\n                  isActive\r\n                    ? 'border-cyan-500 bg-cyan-50'\r\n                    : 'border-gray-200 bg-white hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <button\r\n                  onClick={() => setActiveProfile(profile.id)}\r\n                  className=\"w-full text-left\"\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <SeasonIcon className={`w-4 h-4 ${\r\n                        profile.id === 'summer' ? 'text-orange-500' :\r\n                        profile.id === 'winter' ? 'text-blue-500' :\r\n                        profile.id === 'spring' ? 'text-green-500' :\r\n                        'text-gray-500'\r\n                      }`} />\r\n                      <span className=\"font-medium text-gray-800\">{getProfileDisplayName(profile)}</span>\r\n                    </div>\r\n                    {isActive && (\r\n                      <Check className=\"w-4 h-4 text-cyan-600\" />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500 space-y-0.5\">\r\n                    <div>{profile.temperature}°C</div>\r\n                    <div>{profile.humidity}% {t('settings.environment.humidityUnit')}</div>\r\n                    <div>{profile.altitude}m</div>\r\n                  </div>\r\n                </button>\r\n\r\n                {/* 편집/삭제 버튼 (빌트인 아닌 경우만) */}\r\n                {!isBuiltIn && (\r\n                  <div className=\"absolute top-2 right-2 flex gap-1 opacity-0 hover:opacity-100 transition-opacity\">\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        startEditingProfile(profile)\r\n                      }}\r\n                      className=\"p-1 bg-white rounded hover:bg-gray-100\"\r\n                    >\r\n                      <Edit2 className=\"w-3 h-3 text-gray-500\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        if (confirm(t('settings.environment.deleteProfileConfirm', { name: getProfileDisplayName(profile) }))) {\r\n                          deleteEnvironmentProfile(profile.id)\r\n                        }\r\n                      }}\r\n                      className=\"p-1 bg-white rounded hover:bg-red-50\"\r\n                    >\r\n                      <Trash2 className=\"w-3 h-3 text-red-500\" />\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* 고도 조정 팁 */}\r\n      <div className=\"p-4 bg-amber-50 border border-amber-100 rounded-lg\">\r\n        <h4 className=\"font-medium text-amber-800 mb-2 flex items-center gap-2\">\r\n          <Mountain className=\"w-4 h-4\" />\r\n          {t('settings.environment.altitudeGuide')}\r\n        </h4>\r\n        <div className=\"text-sm text-amber-700 space-y-2\">\r\n          <div className=\"grid grid-cols-4 gap-2 text-xs\">\r\n            <div className=\"font-medium\">{t('settings.environment.altitude')}</div>\r\n            <div className=\"font-medium\">{t('settings.environment.flour')}</div>\r\n            <div className=\"font-medium\">{t('settings.environment.sugar')}</div>\r\n            <div className=\"font-medium\">{t('settings.environment.yeast')}</div>\r\n          </div>\r\n          <div className=\"grid grid-cols-4 gap-2 text-xs\">\r\n            <div>900~1500m</div>\r\n            <div>+1%</div>\r\n            <div>-1~2%</div>\r\n            <div>-8~15%</div>\r\n          </div>\r\n          <div className=\"grid grid-cols-4 gap-2 text-xs\">\r\n            <div>1500~2100m</div>\r\n            <div>+2~4%</div>\r\n            <div>-2~4%</div>\r\n            <div>-20%</div>\r\n          </div>\r\n          <div className=\"grid grid-cols-4 gap-2 text-xs\">\r\n            <div>2100m+</div>\r\n            <div>+4%</div>\r\n            <div>-4~8%</div>\r\n            <div>-25%</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * 제법 설정 탭\r\n * 스트레이트, 중종법, 폴리쉬, 비가, 르방, 저온발효, 저온숙성, 오토리즈 설정\r\n *\r\n * 적용: --persona-backend (제법 계산 로직)\r\n */\r\n\r\nimport { useState, useMemo, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore } from '@/stores/useSettingsStore'\r\nimport { MethodConfig } from '@/types/settings.types'\r\nimport {\r\n  FlaskConical,\r\n  Clock,\r\n  Thermometer,\r\n  Save,\r\n  RotateCcw,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Info,\r\n  AlertCircle,\r\n  Beaker\r\n} from 'lucide-react'\r\n\r\n// 제법 아이콘 및 색상 (description은 번역 키로 대체)\r\nconst METHOD_META: Record<string, { icon: string; color: string }> = {\r\n  straight: {\r\n    icon: '🥖',\r\n    color: 'bg-gray-100 text-gray-700 border-gray-300'\r\n  },\r\n  sponge: {\r\n    icon: '🧪',\r\n    color: 'bg-amber-100 text-amber-700 border-amber-300'\r\n  },\r\n  poolish: {\r\n    icon: '🫧',\r\n    color: 'bg-blue-100 text-blue-700 border-blue-300'\r\n  },\r\n  biga: {\r\n    icon: '🇮🇹',\r\n    color: 'bg-green-100 text-green-700 border-green-300'\r\n  },\r\n  tangzhong: {\r\n    icon: '🍜',\r\n    color: 'bg-pink-100 text-pink-700 border-pink-300'\r\n  },\r\n  levain: {\r\n    icon: '🌾',\r\n    color: 'bg-orange-100 text-orange-700 border-orange-300'\r\n  },\r\n  coldFerment: {\r\n    icon: '❄️',\r\n    color: 'bg-cyan-100 text-cyan-700 border-cyan-300'\r\n  },\r\n  retard: {\r\n    icon: '🌙',\r\n    color: 'bg-indigo-100 text-indigo-700 border-indigo-300'\r\n  },\r\n  autolyse: {\r\n    icon: '💧',\r\n    color: 'bg-purple-100 text-purple-700 border-purple-300'\r\n  }\r\n}\r\n\r\ninterface MethodSettingsTabProps {\r\n  className?: string\r\n}\r\n\r\nexport default function MethodSettingsTab({ className = '' }: MethodSettingsTabProps) {\r\n  const { t } = useTranslation()\r\n  const {\r\n    method,\r\n    updateMethod,\r\n    setYeastConversion,\r\n    setBaseTemperature,\r\n    setBaseSaltPercent,\r\n    resetToDefaults\r\n  } = useSettingsStore()\r\n\r\n  const [expandedMethod, setExpandedMethod] = useState<string | null>(null)\r\n  const [editingMethod, setEditingMethod] = useState<string | null>(null)\r\n  const [editForm, setEditForm] = useState<Partial<MethodConfig>>({})\r\n\r\n  // 정렬된 제법 목록\r\n  const sortedMethods = useMemo(() => {\r\n    const order = ['straight', 'sponge', 'poolish', 'biga', 'tangzhong', 'levain', 'coldFerment', 'retard', 'autolyse']\r\n    return order\r\n      .filter(methodId => method.methods[methodId])\r\n      .map(methodId => method.methods[methodId])\r\n  }, [method.methods])\r\n\r\n  // 편집 시작\r\n  const startEditing = useCallback((methodId: string) => {\r\n    const m = method.methods[methodId]\r\n    setEditForm({\r\n      flourRatio: m.flourRatio,\r\n      waterRatio: m.waterRatio,\r\n      yeastAdjustment: m.yeastAdjustment,\r\n      prefermentTime: { ...m.prefermentTime },\r\n      prefermentTemp: { ...m.prefermentTemp },\r\n      mainDoughTime: { ...m.mainDoughTime },\r\n      description: m.description\r\n    })\r\n    setEditingMethod(methodId)\r\n    setExpandedMethod(methodId)\r\n  }, [method.methods])\r\n\r\n  // 저장\r\n  const handleSave = useCallback(() => {\r\n    if (!editingMethod) return\r\n    updateMethod(editingMethod, editForm)\r\n    setEditingMethod(null)\r\n    setEditForm({})\r\n  }, [editingMethod, editForm, updateMethod])\r\n\r\n  // 취소\r\n  const handleCancel = useCallback(() => {\r\n    setEditingMethod(null)\r\n    setEditForm({})\r\n  }, [])\r\n\r\n  // 제법 카드 렌더링\r\n  const renderMethodCard = (m: MethodConfig) => {\r\n    const meta = METHOD_META[m.id] || METHOD_META.straight\r\n    const isExpanded = expandedMethod === m.id\r\n    const isEditing = editingMethod === m.id\r\n\r\n    return (\r\n      <div\r\n        key={m.id}\r\n        className={`border rounded-lg overflow-hidden transition-all ${meta.color.split(' ')[0]} ${\r\n          isEditing ? 'ring-2 ring-orange-400' : ''\r\n        }`}\r\n      >\r\n        {/* 헤더 */}\r\n        <button\r\n          onClick={() => setExpandedMethod(isExpanded ? null : m.id)}\r\n          className={`w-full flex items-center justify-between p-4 text-left ${meta.color}`}\r\n        >\r\n          <div className=\"flex items-center gap-3\">\r\n            <span className=\"text-2xl\">{meta.icon}</span>\r\n            <div>\r\n              <div className=\"font-semibold\">{t(`settings.method.methods.${m.id}.name`)}</div>\r\n              <div className=\"text-xs opacity-75\">{m.name}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            {m.flourRatio > 0 && (\r\n              <span className=\"text-xs px-2 py-0.5 bg-white/50 rounded\">\r\n                {t('settings.method.preferment')} {(m.flourRatio * 100).toFixed(0)}%\r\n              </span>\r\n            )}\r\n            {isExpanded ? (\r\n              <ChevronUp className=\"w-5 h-5\" />\r\n            ) : (\r\n              <ChevronDown className=\"w-5 h-5\" />\r\n            )}\r\n          </div>\r\n        </button>\r\n\r\n        {/* 상세 정보 */}\r\n        {isExpanded && (\r\n          <div className=\"p-4 bg-white border-t space-y-4\">\r\n            <p className=\"text-sm text-gray-600 italic\">{t(`settings.method.methods.${m.id}.desc`)}</p>\r\n\r\n            {isEditing ? (\r\n              // 편집 모드\r\n              <div className=\"space-y-4\">\r\n                {/* 사전반죽 비율 */}\r\n                {m.id !== 'straight' && (\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-xs text-gray-500 mb-1\">\r\n                        {t('settings.method.flourRatio')}\r\n                      </label>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input\r\n                          type=\"number\"\r\n                          value={(editForm.flourRatio || 0) * 100}\r\n                          onChange={(e) => setEditForm(prev => ({\r\n                            ...prev,\r\n                            flourRatio: parseFloat(e.target.value) / 100 || 0\r\n                          }))}\r\n                          min=\"0\"\r\n                          max=\"100\"\r\n                          step=\"5\"\r\n                          className=\"w-full px-2 py-1.5 text-sm border rounded text-right font-mono\"\r\n                        />\r\n                        <span className=\"text-sm text-gray-500\">%</span>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs text-gray-500 mb-1\">\r\n                        {t('settings.method.waterRatio')}\r\n                      </label>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <input\r\n                          type=\"number\"\r\n                          value={(editForm.waterRatio || 0) * 100}\r\n                          onChange={(e) => setEditForm(prev => ({\r\n                            ...prev,\r\n                            waterRatio: parseFloat(e.target.value) / 100 || 0\r\n                          }))}\r\n                          min=\"0\"\r\n                          max=\"150\"\r\n                          step=\"5\"\r\n                          className=\"w-full px-2 py-1.5 text-sm border rounded text-right font-mono\"\r\n                        />\r\n                        <span className=\"text-sm text-gray-500\">%</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* 이스트 조정 */}\r\n                <div>\r\n                  <label className=\"block text-xs text-gray-500 mb-1\">\r\n                    {t('settings.method.yeastAdjust')}\r\n                  </label>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"0\"\r\n                      max=\"150\"\r\n                      step=\"5\"\r\n                      value={(editForm.yeastAdjustment || 1) * 100}\r\n                      onChange={(e) => setEditForm(prev => ({\r\n                        ...prev,\r\n                        yeastAdjustment: parseFloat(e.target.value) / 100\r\n                      }))}\r\n                      className=\"flex-1\"\r\n                    />\r\n                    <span className=\"w-16 text-sm text-gray-600 font-mono text-right\">\r\n                      {((editForm.yeastAdjustment || 1) * 100).toFixed(0)}%\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-400 mt-1\">\r\n                    {(editForm.yeastAdjustment || 1) === 0\r\n                      ? t('settings.method.yeastNone')\r\n                      : t('settings.method.yeastAmount', { percent: ((editForm.yeastAdjustment || 1) * 100).toFixed(0) })\r\n                    }\r\n                  </p>\r\n                </div>\r\n\r\n                {/* 발효 시간 */}\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-500 mb-1\">\r\n                      {t('settings.method.prefermentTime')}\r\n                    </label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editForm.prefermentTime?.min || 0}\r\n                        onChange={(e) => setEditForm(prev => ({\r\n                          ...prev,\r\n                          prefermentTime: {\r\n                            ...prev.prefermentTime!,\r\n                            min: parseFloat(e.target.value) || 0\r\n                          }\r\n                        }))}\r\n                        className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                        step=\"0.5\"\r\n                        min=\"0\"\r\n                      />\r\n                      <span className=\"text-gray-400\">~</span>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editForm.prefermentTime?.max || 0}\r\n                        onChange={(e) => setEditForm(prev => ({\r\n                          ...prev,\r\n                          prefermentTime: {\r\n                            ...prev.prefermentTime!,\r\n                            max: parseFloat(e.target.value) || 0\r\n                          }\r\n                        }))}\r\n                        className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                        step=\"0.5\"\r\n                        min=\"0\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-xs text-gray-500 mb-1\">\r\n                      {t('settings.method.prefermentTemp')}\r\n                    </label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editForm.prefermentTemp?.min || 0}\r\n                        onChange={(e) => setEditForm(prev => ({\r\n                          ...prev,\r\n                          prefermentTemp: {\r\n                            ...prev.prefermentTemp!,\r\n                            min: parseFloat(e.target.value) || 0\r\n                          }\r\n                        }))}\r\n                        className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                      />\r\n                      <span className=\"text-gray-400\">~</span>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={editForm.prefermentTemp?.max || 0}\r\n                        onChange={(e) => setEditForm(prev => ({\r\n                          ...prev,\r\n                          prefermentTemp: {\r\n                            ...prev.prefermentTemp!,\r\n                            max: parseFloat(e.target.value) || 0\r\n                          }\r\n                        }))}\r\n                        className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* 버튼 */}\r\n                <div className=\"flex gap-2 pt-2\">\r\n                  <button\r\n                    onClick={handleSave}\r\n                    className=\"flex items-center gap-1 px-3 py-1.5 bg-green-500 text-white rounded hover:bg-green-600 text-sm\"\r\n                  >\r\n                    <Save className=\"w-4 h-4\" />\r\n                    {t('common.save')}\r\n                  </button>\r\n                  <button\r\n                    onClick={handleCancel}\r\n                    className=\"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-50 text-sm\"\r\n                  >\r\n                    {t('common.cancel')}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              // 보기 모드\r\n              <div className=\"space-y-3\">\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm\">\r\n                  {m.flourRatio > 0 && (\r\n                    <div className=\"p-2 bg-gray-50 rounded\">\r\n                      <div className=\"text-xs text-gray-500\">{t('settings.method.flour')}</div>\r\n                      <div className=\"font-mono font-medium\">{(m.flourRatio * 100).toFixed(0)}%</div>\r\n                    </div>\r\n                  )}\r\n                  {m.waterRatio > 0 && (\r\n                    <div className=\"p-2 bg-gray-50 rounded\">\r\n                      <div className=\"text-xs text-gray-500\">{t('settings.method.water')}</div>\r\n                      <div className=\"font-mono font-medium\">{(m.waterRatio * 100).toFixed(0)}%</div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"p-2 bg-gray-50 rounded\">\r\n                    <div className=\"text-xs text-gray-500\">{t('settings.method.yeast')}</div>\r\n                    <div className=\"font-mono font-medium\">\r\n                      {m.yeastAdjustment === 0\r\n                        ? t('settings.method.none')\r\n                        : `${(m.yeastAdjustment * 100).toFixed(0)}%`\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                  {(m.prefermentTime.min > 0 || m.prefermentTime.max > 0) && (\r\n                    <div className=\"p-2 bg-gray-50 rounded\">\r\n                      <div className=\"text-xs text-gray-500\">{t('settings.method.fermentationTime')}</div>\r\n                      <div className=\"font-mono font-medium\">\r\n                        {m.prefermentTime.min}~{m.prefermentTime.max}h\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {(m.prefermentTemp.min > 0 || m.prefermentTemp.max > 0) && (\r\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                    <Thermometer className=\"w-4 h-4 text-gray-400\" />\r\n                    {t('settings.method.fermentationTemp')}: {m.prefermentTemp.min}~{m.prefermentTemp.max}°C\r\n                  </div>\r\n                )}\r\n\r\n                <button\r\n                  onClick={() => startEditing(m.id)}\r\n                  className=\"text-sm text-blue-600 hover:text-blue-700\"\r\n                >\r\n                  {t('settings.method.editSettings')}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* 헤더 */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-gray-800 flex items-center gap-2\">\r\n          <FlaskConical className=\"w-5 h-5 text-orange-500\" />\r\n          {t('settings.method.title')}\r\n        </h3>\r\n        <p className=\"text-sm text-gray-500 mt-1\">\r\n          {t('settings.method.titleDesc')}\r\n        </p>\r\n      </div>\r\n\r\n      {/* 이스트 변환 비율 */}\r\n      <div className=\"p-4 bg-amber-50 border border-amber-100 rounded-lg\">\r\n        <h4 className=\"font-medium text-amber-800 mb-3 flex items-center gap-2\">\r\n          <Beaker className=\"w-4 h-4\" />\r\n          {t('settings.method.yeastConversion')}\r\n        </h4>\r\n        <p className=\"text-xs text-amber-600 mb-3\">\r\n          {t('settings.method.yeastConversionDesc')}\r\n        </p>\r\n        <div className=\"grid grid-cols-3 gap-4\">\r\n          <div>\r\n            <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.method.freshYeast')}</label>\r\n            <input\r\n              type=\"number\"\r\n              value={method.yeastConversion.fresh}\r\n              onChange={(e) => setYeastConversion('fresh', parseFloat(e.target.value) || 1)}\r\n              step=\"0.1\"\r\n              min=\"0.1\"\r\n              max=\"2\"\r\n              className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono bg-white\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.method.activeDry')}</label>\r\n            <input\r\n              type=\"number\"\r\n              value={method.yeastConversion.activeDry}\r\n              onChange={(e) => setYeastConversion('activeDry', parseFloat(e.target.value) || 0.4)}\r\n              step=\"0.05\"\r\n              min=\"0.1\"\r\n              max=\"1\"\r\n              className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono bg-white\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.method.instant')}</label>\r\n            <input\r\n              type=\"number\"\r\n              value={method.yeastConversion.instant}\r\n              onChange={(e) => setYeastConversion('instant', parseFloat(e.target.value) || 0.33)}\r\n              step=\"0.05\"\r\n              min=\"0.1\"\r\n              max=\"1\"\r\n              className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono bg-white\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-3 text-xs text-amber-600\">\r\n          <Info className=\"w-3 h-3 inline mr-1\" />\r\n          {t('settings.method.yeastExample', { value: (10 * method.yeastConversion.instant).toFixed(1) })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* 기준 온도/소금 설정 */}\r\n      <div className=\"p-4 bg-blue-50 border border-blue-100 rounded-lg\">\r\n        <h4 className=\"font-medium text-blue-800 mb-3 flex items-center gap-2\">\r\n          <Clock className=\"w-4 h-4\" />\r\n          {t('settings.method.fermentationBase')}\r\n        </h4>\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-xs text-gray-500 mb-1\">\r\n              {t('settings.method.baseTemp')}\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={method.baseTemperature}\r\n              onChange={(e) => setBaseTemperature(parseInt(e.target.value) || 26)}\r\n              min=\"20\"\r\n              max=\"32\"\r\n              className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono bg-white\"\r\n            />\r\n            <p className=\"text-xs text-gray-400 mt-1\">\r\n              {t('settings.method.baseTempDesc')}\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-xs text-gray-500 mb-1\">\r\n              {t('settings.method.baseSalt')}\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={method.baseSaltPercent}\r\n              onChange={(e) => setBaseSaltPercent(parseFloat(e.target.value) || 1.5)}\r\n              min=\"0.5\"\r\n              max=\"3\"\r\n              step=\"0.1\"\r\n              className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono bg-white\"\r\n            />\r\n            <p className=\"text-xs text-gray-400 mt-1\">\r\n              {t('settings.method.baseSaltDesc')}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 제법 목록 */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h4 className=\"font-medium text-gray-700\">{t('settings.method.methodSettings')}</h4>\r\n          <button\r\n            onClick={() => {\r\n              if (confirm(t('settings.method.resetConfirm'))) {\r\n                resetToDefaults('method')\r\n              }\r\n            }}\r\n            className=\"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700\"\r\n          >\r\n            <RotateCcw className=\"w-4 h-4\" />\r\n            {t('settings.method.resetToDefault')}\r\n          </button>\r\n        </div>\r\n\r\n        {sortedMethods.map(m => renderMethodCard(m))}\r\n      </div>\r\n\r\n      {/* 발효 공식 설명 */}\r\n      <div className=\"p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600\">\r\n        <h4 className=\"font-medium text-gray-700 mb-2\">{t('settings.method.formulaTitle')}</h4>\r\n        <div className=\"space-y-1 text-xs font-mono\">\r\n          <div>{t('settings.method.formulaTempCoef')}</div>\r\n          <div>{t('settings.method.formulaSaltCoef')}</div>\r\n          <div>{t('settings.method.formulaAdjustedTime')}</div>\r\n        </div>\r\n        <div className=\"mt-2 text-xs text-gray-500\">\r\n          <AlertCircle className=\"w-3 h-3 inline mr-1\" />\r\n          {t('settings.method.formulaNote')}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * 수율 손실률 설정 탭\r\n * 카테고리별, 제품별 손실률 커스터마이징\r\n *\r\n * 적용: --persona-backend (수율 계산) + --persona-frontend (UI)\r\n */\r\n\r\nimport { useState, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore } from '@/stores/useSettingsStore'\r\nimport { ProcessLossRates } from '@/types/settings.types'\r\nimport {\r\n  TrendingDown,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  RotateCcw,\r\n  Save,\r\n  AlertTriangle,\r\n  Info,\r\n  Settings2,\r\n  Check\r\n} from 'lucide-react'\r\n\r\n// 기본 손실률 데이터\r\nconst DEFAULT_LOSS_RATES: Record<string, ProcessLossRates> = {\r\n  bread: {\r\n    mixing: 1.0,\r\n    fermentation: 1.5,\r\n    dividing: 2.0,\r\n    shaping: 1.0,\r\n    baking: 12.0,\r\n    cooling: 2.0\r\n  },\r\n  cake: {\r\n    mixing: 0.5,\r\n    fermentation: 0,\r\n    dividing: 0.5,\r\n    shaping: 0.5,\r\n    baking: 8.0,\r\n    cooling: 1.0\r\n  },\r\n  pastry: {\r\n    mixing: 1.0,\r\n    fermentation: 1.0,\r\n    dividing: 2.5,\r\n    shaping: 1.5,\r\n    baking: 10.0,\r\n    cooling: 1.5\r\n  },\r\n  cookie: {\r\n    mixing: 0.5,\r\n    fermentation: 0,\r\n    dividing: 1.0,\r\n    shaping: 0.5,\r\n    baking: 6.0,\r\n    cooling: 0.5\r\n  }\r\n}\r\n\r\n// 공정 정보 (아이콘과 키만 저장, 이름은 번역 사용)\r\nconst PROCESS_STAGES: { key: keyof ProcessLossRates; icon: string }[] = [\r\n  { key: 'mixing', icon: '🥣' },\r\n  { key: 'fermentation', icon: '🍞' },\r\n  { key: 'dividing', icon: '✂️' },\r\n  { key: 'shaping', icon: '👐' },\r\n  { key: 'baking', icon: '🔥' },\r\n  { key: 'cooling', icon: '❄️' }\r\n]\r\n\r\n// 카테고리 정보 (키와 색상만 저장, 이름은 번역 사용)\r\nconst CATEGORIES = [\r\n  { key: 'bread', color: 'bg-amber-100 border-amber-300' },\r\n  { key: 'cake', color: 'bg-pink-100 border-pink-300' },\r\n  { key: 'pastry', color: 'bg-blue-100 border-blue-300' },\r\n  { key: 'cookie', color: 'bg-green-100 border-green-300' }\r\n]\r\n\r\n// 제품 목록 (손실률 오버라이드 가능) - 이름은 키로 저장\r\nconst PRODUCTS: Record<string, string[]> = {\r\n  bread: ['pullman', 'mountain', 'brioche', 'baguette', 'ciabatta', 'sourdough'],\r\n  cake: ['genoise', 'chiffon', 'pound', 'brownie', 'cheesecake'],\r\n  pastry: ['croissant', 'danish', 'puff_pastry'],\r\n  cookie: ['cookie', 'scone']\r\n}\r\n\r\ninterface YieldLossSettingsTabProps {\r\n  className?: string\r\n}\r\n\r\nexport default function YieldLossSettingsTab({ className = '' }: YieldLossSettingsTabProps) {\r\n  const { t } = useTranslation()\r\n  const {\r\n    yieldLoss,\r\n    setCategoryLossOverride,\r\n    setProductLossOverride,\r\n    setEnvironmentAdjustment,\r\n    resetToDefaults\r\n  } = useSettingsStore()\r\n\r\n  const [expandedCategory, setExpandedCategory] = useState<string | null>(null)\r\n  const [editingCategory, setEditingCategory] = useState<string | null>(null)\r\n  const [editingProduct, setEditingProduct] = useState<string | null>(null)\r\n  const [categoryEditForm, setCategoryEditForm] = useState<Partial<ProcessLossRates>>({})\r\n  const [productEditForm, setProductEditForm] = useState<Partial<ProcessLossRates>>({})\r\n  const [selectedProductCategory, setSelectedProductCategory] = useState<string>('bread')\r\n\r\n  // 카테고리별 현재 적용되는 손실률\r\n  const getCategoryRates = useCallback((cat: string): ProcessLossRates => {\r\n    const baseRates = DEFAULT_LOSS_RATES[cat] || DEFAULT_LOSS_RATES.bread\r\n    const overrides = yieldLoss.categoryOverrides[cat as keyof typeof yieldLoss.categoryOverrides] || {}\r\n    return { ...baseRates, ...overrides }\r\n  }, [yieldLoss.categoryOverrides])\r\n\r\n  // 제품별 현재 적용되는 손실률\r\n  const getProductRates = useCallback((product: string, cat: string): ProcessLossRates => {\r\n    const categoryRates = getCategoryRates(cat)\r\n    const overrides = yieldLoss.productOverrides[product] || {}\r\n    return { ...categoryRates, ...overrides }\r\n  }, [getCategoryRates, yieldLoss.productOverrides])\r\n\r\n  // 총 손실률 계산\r\n  const calculateTotalLoss = useCallback((rates: ProcessLossRates): number => {\r\n    return Object.values(rates).reduce((sum, val) => sum + val, 0)\r\n  }, [])\r\n\r\n  // 카테고리 편집 시작\r\n  const startEditingCategory = useCallback((cat: string) => {\r\n    setCategoryEditForm(yieldLoss.categoryOverrides[cat as keyof typeof yieldLoss.categoryOverrides] || {})\r\n    setEditingCategory(cat)\r\n    setExpandedCategory(cat)\r\n  }, [yieldLoss.categoryOverrides])\r\n\r\n  // 카테고리 저장\r\n  const handleSaveCategory = useCallback(() => {\r\n    if (!editingCategory) return\r\n    setCategoryLossOverride(editingCategory, categoryEditForm)\r\n    setEditingCategory(null)\r\n    setCategoryEditForm({})\r\n  }, [editingCategory, categoryEditForm, setCategoryLossOverride])\r\n\r\n  // 제품 편집 시작\r\n  const startEditingProduct = useCallback((product: string) => {\r\n    setProductEditForm(yieldLoss.productOverrides[product] || {})\r\n    setEditingProduct(product)\r\n  }, [yieldLoss.productOverrides])\r\n\r\n  // 제품 저장\r\n  const handleSaveProduct = useCallback(() => {\r\n    if (!editingProduct) return\r\n    setProductLossOverride(editingProduct, productEditForm)\r\n    setEditingProduct(null)\r\n    setProductEditForm({})\r\n  }, [editingProduct, productEditForm, setProductLossOverride])\r\n\r\n  // 손실률 입력 렌더링\r\n  const renderRateInputs = (\r\n    rates: Partial<ProcessLossRates>,\r\n    baseRates: ProcessLossRates,\r\n    onChange: (key: keyof ProcessLossRates, value: number | undefined) => void,\r\n    showDiff: boolean = false\r\n  ) => (\r\n    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n      {PROCESS_STAGES.map(stage => {\r\n        const currentValue = rates[stage.key]\r\n        const baseValue = baseRates[stage.key]\r\n        const displayValue = currentValue !== undefined ? currentValue : baseValue\r\n        const isOverridden = currentValue !== undefined\r\n\r\n        return (\r\n          <div key={stage.key} className=\"relative\">\r\n            <label className=\"block text-xs text-gray-500 mb-1 flex items-center gap-1\">\r\n              <span>{stage.icon}</span>\r\n              {t(`settings.yieldLoss.stages.${stage.key}.name`)}\r\n              {isOverridden && (\r\n                <span className=\"text-orange-500\">*</span>\r\n              )}\r\n            </label>\r\n            <div className=\"flex items-center gap-1\">\r\n              <input\r\n                type=\"number\"\r\n                value={displayValue}\r\n                onChange={(e) => {\r\n                  const val = parseFloat(e.target.value)\r\n                  onChange(stage.key, isNaN(val) ? undefined : val)\r\n                }}\r\n                className={`w-full px-2 py-1.5 text-sm border rounded text-right font-mono ${\r\n                  isOverridden ? 'bg-orange-50 border-orange-200' : 'bg-white'\r\n                }`}\r\n                min=\"0\"\r\n                max=\"30\"\r\n                step=\"0.5\"\r\n              />\r\n              <span className=\"text-xs text-gray-400\">%</span>\r\n            </div>\r\n            {showDiff && isOverridden && (\r\n              <div className={`text-xs mt-0.5 ${\r\n                currentValue! > baseValue ? 'text-red-500' : 'text-green-500'\r\n              }`}>\r\n                {t('settings.yieldLoss.base')} {baseValue}%\r\n                {currentValue! > baseValue ? ' ↑' : ' ↓'}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* 헤더 */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-800 flex items-center gap-2\">\r\n            <TrendingDown className=\"w-5 h-5 text-orange-500\" />\r\n            {t('settings.yieldLoss.title')}\r\n          </h3>\r\n          <p className=\"text-sm text-gray-500 mt-1\">\r\n            {t('settings.yieldLoss.titleDesc')}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => {\r\n            if (confirm(t('settings.yieldLoss.resetConfirm'))) {\r\n              resetToDefaults('yieldLoss')\r\n            }\r\n          }}\r\n          className=\"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700\"\r\n        >\r\n          <RotateCcw className=\"w-4 h-4\" />\r\n          {t('settings.yieldLoss.resetToDefault')}\r\n        </button>\r\n      </div>\r\n\r\n      {/* 환경 조정 토글 */}\r\n      <div className=\"p-4 bg-blue-50 border border-blue-100 rounded-lg\">\r\n        <label className=\"flex items-center justify-between cursor-pointer\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Settings2 className=\"w-5 h-5 text-blue-600\" />\r\n            <div>\r\n              <div className=\"font-medium text-gray-800\">{t('settings.yieldLoss.envAdjustment')}</div>\r\n              <div className=\"text-xs text-gray-500\">\r\n                {t('settings.yieldLoss.envAdjustmentDesc')}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={`w-12 h-6 rounded-full transition-colors ${\r\n              yieldLoss.enableEnvironmentAdjustment ? 'bg-blue-500' : 'bg-gray-300'\r\n            } relative cursor-pointer`}\r\n            onClick={() => setEnvironmentAdjustment(!yieldLoss.enableEnvironmentAdjustment)}\r\n          >\r\n            <div\r\n              className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${\r\n                yieldLoss.enableEnvironmentAdjustment ? 'translate-x-7' : 'translate-x-1'\r\n              }`}\r\n            />\r\n          </div>\r\n        </label>\r\n        {yieldLoss.enableEnvironmentAdjustment && (\r\n          <div className=\"mt-2 text-xs text-blue-600 flex items-center gap-1\">\r\n            <Info className=\"w-3 h-3\" />\r\n            {t('settings.yieldLoss.envAdjustmentNote')}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 카테고리별 설정 */}\r\n      <div className=\"space-y-3\">\r\n        <h4 className=\"font-medium text-gray-700\">{t('settings.yieldLoss.categorySettings')}</h4>\r\n\r\n        {CATEGORIES.map(cat => {\r\n          const isExpanded = expandedCategory === cat.key\r\n          const isEditing = editingCategory === cat.key\r\n          const rates = getCategoryRates(cat.key)\r\n          const totalLoss = calculateTotalLoss(rates)\r\n          const hasOverrides = Object.keys(yieldLoss.categoryOverrides[cat.key as keyof typeof yieldLoss.categoryOverrides] || {}).length > 0\r\n\r\n          return (\r\n            <div key={cat.key} className={`border rounded-lg overflow-hidden ${cat.color}`}>\r\n              {/* 카테고리 헤더 */}\r\n              <button\r\n                onClick={() => setExpandedCategory(isExpanded ? null : cat.key)}\r\n                className=\"w-full flex items-center justify-between p-3 text-left\"\r\n              >\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"font-medium text-gray-800\">{t(`settings.yieldLoss.categories.${cat.key}`)}</span>\r\n                  {hasOverrides && (\r\n                    <span className=\"px-1.5 py-0.5 text-xs bg-orange-200 text-orange-700 rounded\">\r\n                      {t('settings.yieldLoss.custom')}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"text-sm font-mono\">\r\n                    {t('settings.yieldLoss.totalLoss')}: <span className=\"font-bold\">{totalLoss.toFixed(1)}%</span>\r\n                  </span>\r\n                  {isExpanded ? (\r\n                    <ChevronUp className=\"w-4 h-4\" />\r\n                  ) : (\r\n                    <ChevronDown className=\"w-4 h-4\" />\r\n                  )}\r\n                </div>\r\n              </button>\r\n\r\n              {/* 카테고리 상세 */}\r\n              {isExpanded && (\r\n                <div className=\"p-4 bg-white border-t space-y-4\">\r\n                  {isEditing ? (\r\n                    // 편집 모드\r\n                    <>\r\n                      {renderRateInputs(\r\n                        categoryEditForm,\r\n                        DEFAULT_LOSS_RATES[cat.key],\r\n                        (key, value) => setCategoryEditForm(prev => ({ ...prev, [key]: value })),\r\n                        true\r\n                      )}\r\n                      <div className=\"flex gap-2 pt-2\">\r\n                        <button\r\n                          onClick={handleSaveCategory}\r\n                          className=\"flex items-center gap-1 px-3 py-1.5 bg-green-500 text-white rounded text-sm hover:bg-green-600\"\r\n                        >\r\n                          <Save className=\"w-4 h-4\" />\r\n                          {t('common.save')}\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setEditingCategory(null)\r\n                            setCategoryEditForm({})\r\n                          }}\r\n                          className=\"px-3 py-1.5 border border-gray-300 rounded text-sm hover:bg-gray-50\"\r\n                        >\r\n                          {t('common.cancel')}\r\n                        </button>\r\n                        {hasOverrides && (\r\n                          <button\r\n                            onClick={() => {\r\n                              setCategoryLossOverride(cat.key, {})\r\n                              setEditingCategory(null)\r\n                            }}\r\n                            className=\"px-3 py-1.5 text-red-600 text-sm hover:bg-red-50 rounded\"\r\n                          >\r\n                            {t('settings.yieldLoss.resetToDefault')}\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    // 보기 모드\r\n                    <>\r\n                      <div className=\"grid grid-cols-3 md:grid-cols-6 gap-3 text-sm\">\r\n                        {PROCESS_STAGES.map(stage => (\r\n                          <div key={stage.key} className=\"text-center p-2 bg-gray-50 rounded\">\r\n                            <div className=\"text-lg\">{stage.icon}</div>\r\n                            <div className=\"text-xs text-gray-500\">{t(`settings.yieldLoss.stages.${stage.key}.name`)}</div>\r\n                            <div className=\"font-mono font-medium\">{rates[stage.key]}%</div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                      <button\r\n                        onClick={() => startEditingCategory(cat.key)}\r\n                        className=\"text-sm text-blue-600 hover:text-blue-700\"\r\n                      >\r\n                        {t('settings.yieldLoss.editLoss')}\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      {/* 제품별 오버라이드 */}\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h4 className=\"font-medium text-gray-700\">{t('settings.yieldLoss.productOverride')}</h4>\r\n          <select\r\n            value={selectedProductCategory}\r\n            onChange={(e) => setSelectedProductCategory(e.target.value)}\r\n            className=\"text-sm border rounded px-2 py-1\"\r\n          >\r\n            {CATEGORIES.map(cat => (\r\n              <option key={cat.key} value={cat.key}>{t(`settings.yieldLoss.categories.${cat.key}`)}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          {PRODUCTS[selectedProductCategory]?.map(productKey => {\r\n            const hasOverride = Boolean(yieldLoss.productOverrides[productKey])\r\n            const isEditing = editingProduct === productKey\r\n            const rates = getProductRates(productKey, selectedProductCategory)\r\n            const totalLoss = calculateTotalLoss(rates)\r\n\r\n            return (\r\n              <div\r\n                key={productKey}\r\n                className={`border rounded-lg p-3 ${\r\n                  hasOverride ? 'bg-orange-50 border-orange-200' : 'bg-white'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"font-medium text-gray-800\">{t(`settings.yieldLoss.products.${productKey}`)}</span>\r\n                    {hasOverride && (\r\n                      <Check className=\"w-4 h-4 text-orange-500\" />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <span className=\"text-sm font-mono text-gray-600\">\r\n                      {totalLoss.toFixed(1)}%\r\n                    </span>\r\n                    {isEditing ? (\r\n                      <div className=\"flex gap-1\">\r\n                        <button\r\n                          onClick={handleSaveProduct}\r\n                          className=\"px-2 py-1 bg-green-500 text-white rounded text-xs\"\r\n                        >\r\n                          {t('common.save')}\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            setEditingProduct(null)\r\n                            setProductEditForm({})\r\n                          }}\r\n                          className=\"px-2 py-1 border rounded text-xs\"\r\n                        >\r\n                          {t('common.cancel')}\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      <button\r\n                        onClick={() => startEditingProduct(productKey)}\r\n                        className=\"text-xs text-blue-600 hover:text-blue-700\"\r\n                      >\r\n                        {t('settings.yieldLoss.edit')}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {isEditing && (\r\n                  <div className=\"mt-3 pt-3 border-t\">\r\n                    {renderRateInputs(\r\n                      productEditForm,\r\n                      getCategoryRates(selectedProductCategory),\r\n                      (key, value) => setProductEditForm(prev => ({ ...prev, [key]: value })),\r\n                      true\r\n                    )}\r\n                    {hasOverride && (\r\n                      <button\r\n                        onClick={() => {\r\n                          setProductLossOverride(productKey, {})\r\n                          setEditingProduct(null)\r\n                        }}\r\n                        className=\"mt-2 text-xs text-red-600 hover:text-red-700\"\r\n                      >\r\n                        {t('settings.yieldLoss.removeOverride')}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* 손실률 가이드 */}\r\n      <div className=\"p-4 bg-gray-50 border border-gray-200 rounded-lg\">\r\n        <h4 className=\"font-medium text-gray-700 mb-3 flex items-center gap-2\">\r\n          <Info className=\"w-4 h-4\" />\r\n          {t('settings.yieldLoss.guide')}\r\n        </h4>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\r\n          {PROCESS_STAGES.map(stage => (\r\n            <div key={stage.key}>\r\n              <div className=\"font-medium text-gray-600 mb-1\">{stage.icon} {t(`settings.yieldLoss.stages.${stage.key}.name`)}</div>\r\n              <div className=\"text-xs text-gray-500\">{t(`settings.yieldLoss.stages.${stage.key}.range`)}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"mt-3 text-xs text-gray-500 flex items-start gap-1\">\r\n          <AlertTriangle className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\r\n          <span>\r\n            {t('settings.yieldLoss.guideNote')}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","/**\n * 제과제빵 재료 영양 정보 데이터베이스\n * 100g 기준 영양 성분\n */\n\nexport interface NutritionData {\n  name: string\n  nameKo: string\n  calories: number      // kcal\n  protein: number       // g\n  carbohydrates: number // g\n  fat: number          // g\n  fiber: number        // g\n  sugar: number        // g\n  sodium: number       // mg\n  cholesterol: number  // mg\n  saturatedFat?: number // g\n  transFat?: number    // g\n  calcium?: number     // mg\n  iron?: number        // mg\n  vitaminA?: number    // IU\n  vitaminC?: number    // mg\n}\n\n// 제과제빵 재료 영양 데이터베이스\nexport const nutritionDatabase: Record<string, NutritionData> = {\n  // === 밀가루류 ===\n  '강력분': {\n    name: 'bread_flour',\n    nameKo: '강력분',\n    calories: 361,\n    protein: 11.7,\n    carbohydrates: 75.3,\n    fat: 1.2,\n    fiber: 2.7,\n    sugar: 0.3,\n    sodium: 2,\n    cholesterol: 0,\n    calcium: 15,\n    iron: 1.2\n  },\n  '중력분': {\n    name: 'all_purpose_flour',\n    nameKo: '중력분',\n    calories: 364,\n    protein: 10.3,\n    carbohydrates: 76.3,\n    fat: 1.0,\n    fiber: 2.7,\n    sugar: 0.3,\n    sodium: 2,\n    cholesterol: 0\n  },\n  '박력분': {\n    name: 'cake_flour',\n    nameKo: '박력분',\n    calories: 362,\n    protein: 8.3,\n    carbohydrates: 78.3,\n    fat: 0.9,\n    fiber: 2.4,\n    sugar: 0.3,\n    sodium: 2,\n    cholesterol: 0\n  },\n  '통밀가루': {\n    name: 'whole_wheat_flour',\n    nameKo: '통밀가루',\n    calories: 340,\n    protein: 13.2,\n    carbohydrates: 71.9,\n    fat: 2.5,\n    fiber: 10.7,\n    sugar: 0.4,\n    sodium: 2,\n    cholesterol: 0,\n    iron: 3.6\n  },\n  '호밀가루': {\n    name: 'rye_flour',\n    nameKo: '호밀가루',\n    calories: 349,\n    protein: 9.8,\n    carbohydrates: 75.9,\n    fat: 1.3,\n    fiber: 11.8,\n    sugar: 0.9,\n    sodium: 2,\n    cholesterol: 0\n  },\n  '쌀가루': {\n    name: 'rice_flour',\n    nameKo: '쌀가루',\n    calories: 366,\n    protein: 5.9,\n    carbohydrates: 80.1,\n    fat: 1.4,\n    fiber: 2.4,\n    sugar: 0.1,\n    sodium: 0,\n    cholesterol: 0\n  },\n  '찹쌀가루': {\n    name: 'glutinous_rice_flour',\n    nameKo: '찹쌀가루',\n    calories: 370,\n    protein: 6.8,\n    carbohydrates: 81.7,\n    fat: 0.6,\n    fiber: 2.8,\n    sugar: 0.1,\n    sodium: 0,\n    cholesterol: 0\n  },\n  '아몬드가루': {\n    name: 'almond_flour',\n    nameKo: '아몬드가루',\n    calories: 579,\n    protein: 21.2,\n    carbohydrates: 21.5,\n    fat: 49.9,\n    fiber: 12.5,\n    sugar: 4.4,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '코코넛가루': {\n    name: 'coconut_flour',\n    nameKo: '코코넛가루',\n    calories: 443,\n    protein: 19.3,\n    carbohydrates: 60.0,\n    fat: 14.1,\n    fiber: 39.0,\n    sugar: 8.0,\n    sodium: 32,\n    cholesterol: 0\n  },\n  '옥수수전분': {\n    name: 'corn_starch',\n    nameKo: '옥수수전분',\n    calories: 381,\n    protein: 0.3,\n    carbohydrates: 91.3,\n    fat: 0.1,\n    fiber: 0.9,\n    sugar: 0,\n    sodium: 9,\n    cholesterol: 0\n  },\n  '타피오카전분': {\n    name: 'tapioca_starch',\n    nameKo: '타피오카전분',\n    calories: 358,\n    protein: 0.2,\n    carbohydrates: 88.7,\n    fat: 0.0,\n    fiber: 0.9,\n    sugar: 3.4,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '감자전분': {\n    name: 'potato_starch',\n    nameKo: '감자전분',\n    calories: 333,\n    protein: 0.1,\n    carbohydrates: 83.1,\n    fat: 0.0,\n    fiber: 0.0,\n    sugar: 0,\n    sodium: 0,\n    cholesterol: 0\n  },\n\n  // === 당류 ===\n  '설탕': {\n    name: 'sugar',\n    nameKo: '설탕',\n    calories: 387,\n    protein: 0,\n    carbohydrates: 99.9,\n    fat: 0,\n    fiber: 0,\n    sugar: 99.9,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '황설탕': {\n    name: 'brown_sugar',\n    nameKo: '황설탕',\n    calories: 380,\n    protein: 0.1,\n    carbohydrates: 98.1,\n    fat: 0,\n    fiber: 0,\n    sugar: 97.3,\n    sodium: 28,\n    cholesterol: 0,\n    calcium: 83\n  },\n  '꿀': {\n    name: 'honey',\n    nameKo: '꿀',\n    calories: 304,\n    protein: 0.3,\n    carbohydrates: 82.4,\n    fat: 0,\n    fiber: 0.2,\n    sugar: 82.1,\n    sodium: 4,\n    cholesterol: 0\n  },\n  '메이플시럽': {\n    name: 'maple_syrup',\n    nameKo: '메이플시럽',\n    calories: 260,\n    protein: 0.1,\n    carbohydrates: 67.0,\n    fat: 0.1,\n    fiber: 0,\n    sugar: 60.5,\n    sodium: 12,\n    cholesterol: 0,\n    calcium: 102\n  },\n  '흑설탕': {\n    name: 'dark_brown_sugar',\n    nameKo: '흑설탕',\n    calories: 377,\n    protein: 0.1,\n    carbohydrates: 97.3,\n    fat: 0,\n    fiber: 0,\n    sugar: 96.2,\n    sodium: 39,\n    cholesterol: 0,\n    calcium: 85\n  },\n  '슈가파우더': {\n    name: 'powdered_sugar',\n    nameKo: '슈가파우더',\n    calories: 389,\n    protein: 0,\n    carbohydrates: 99.8,\n    fat: 0,\n    fiber: 0,\n    sugar: 97.8,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '물엿': {\n    name: 'corn_syrup',\n    nameKo: '물엿',\n    calories: 286,\n    protein: 0,\n    carbohydrates: 77.0,\n    fat: 0,\n    fiber: 0,\n    sugar: 35.0,\n    sodium: 55,\n    cholesterol: 0\n  },\n  '조청': {\n    name: 'rice_syrup',\n    nameKo: '조청',\n    calories: 316,\n    protein: 0.3,\n    carbohydrates: 85.5,\n    fat: 0,\n    fiber: 0,\n    sugar: 48.0,\n    sodium: 6,\n    cholesterol: 0\n  },\n  '올리고당': {\n    name: 'oligosaccharide',\n    nameKo: '올리고당',\n    calories: 240,\n    protein: 0,\n    carbohydrates: 80.0,\n    fat: 0,\n    fiber: 0,\n    sugar: 30.0,\n    sodium: 0,\n    cholesterol: 0\n  },\n  '트레할로스': {\n    name: 'trehalose',\n    nameKo: '트레할로스',\n    calories: 380,\n    protein: 0,\n    carbohydrates: 100,\n    fat: 0,\n    fiber: 0,\n    sugar: 100,\n    sodium: 0,\n    cholesterol: 0\n  },\n\n  // === 유지류 ===\n  '버터': {\n    name: 'butter',\n    nameKo: '버터',\n    calories: 717,\n    protein: 0.9,\n    carbohydrates: 0.1,\n    fat: 81.1,\n    fiber: 0,\n    sugar: 0.1,\n    sodium: 11,\n    cholesterol: 215,\n    saturatedFat: 51.4,\n    vitaminA: 2499\n  },\n  '마가린': {\n    name: 'margarine',\n    nameKo: '마가린',\n    calories: 719,\n    protein: 0.2,\n    carbohydrates: 0.9,\n    fat: 80.5,\n    fiber: 0,\n    sugar: 0,\n    sodium: 751,\n    cholesterol: 0,\n    saturatedFat: 13.0,\n    transFat: 14.9\n  },\n  '쇼트닝': {\n    name: 'shortening',\n    nameKo: '쇼트닝',\n    calories: 884,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0,\n    cholesterol: 0,\n    saturatedFat: 25.0\n  },\n  '올리브오일': {\n    name: 'olive_oil',\n    nameKo: '올리브오일',\n    calories: 884,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 2,\n    cholesterol: 0,\n    saturatedFat: 13.8\n  },\n  '올리브유': {\n    name: 'olive_oil',\n    nameKo: '올리브유',\n    calories: 884,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 2,\n    cholesterol: 0,\n    saturatedFat: 13.8\n  },\n  '무염버터': {\n    name: 'unsalted_butter',\n    nameKo: '무염버터',\n    calories: 717,\n    protein: 0.9,\n    carbohydrates: 0.1,\n    fat: 81.1,\n    fiber: 0,\n    sugar: 0.1,\n    sodium: 11,\n    cholesterol: 215,\n    saturatedFat: 51.4\n  },\n  '가염버터': {\n    name: 'salted_butter',\n    nameKo: '가염버터',\n    calories: 717,\n    protein: 0.9,\n    carbohydrates: 0.1,\n    fat: 81.1,\n    fiber: 0,\n    sugar: 0.1,\n    sodium: 643,\n    cholesterol: 215,\n    saturatedFat: 51.4\n  },\n  '식용유': {\n    name: 'vegetable_oil',\n    nameKo: '식용유',\n    calories: 884,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0,\n    cholesterol: 0\n  },\n  '포도씨유': {\n    name: 'grapeseed_oil',\n    nameKo: '포도씨유',\n    calories: 884,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0,\n    cholesterol: 0\n  },\n  '코코넛오일': {\n    name: 'coconut_oil',\n    nameKo: '코코넛오일',\n    calories: 862,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0,\n    cholesterol: 0,\n    saturatedFat: 82.5\n  },\n  '라드': {\n    name: 'lard',\n    nameKo: '라드',\n    calories: 902,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0,\n    cholesterol: 95,\n    saturatedFat: 39.2\n  },\n\n  // === 유제품 ===\n  '우유': {\n    name: 'milk',\n    nameKo: '우유',\n    calories: 61,\n    protein: 3.2,\n    carbohydrates: 4.8,\n    fat: 3.3,\n    fiber: 0,\n    sugar: 5.1,\n    sodium: 43,\n    cholesterol: 10,\n    calcium: 113\n  },\n  '생크림': {\n    name: 'heavy_cream',\n    nameKo: '생크림',\n    calories: 345,\n    protein: 2.1,\n    carbohydrates: 2.8,\n    fat: 37.0,\n    fiber: 0,\n    sugar: 2.9,\n    sodium: 38,\n    cholesterol: 137,\n    saturatedFat: 23.0\n  },\n  '크림치즈': {\n    name: 'cream_cheese',\n    nameKo: '크림치즈',\n    calories: 342,\n    protein: 5.9,\n    carbohydrates: 4.1,\n    fat: 34.2,\n    fiber: 0,\n    sugar: 3.2,\n    sodium: 321,\n    cholesterol: 110,\n    saturatedFat: 19.3\n  },\n  '요거트': {\n    name: 'yogurt',\n    nameKo: '요거트',\n    calories: 59,\n    protein: 3.5,\n    carbohydrates: 4.7,\n    fat: 3.3,\n    fiber: 0,\n    sugar: 4.7,\n    sodium: 46,\n    cholesterol: 13,\n    calcium: 121\n  },\n  '그릭요거트': {\n    name: 'greek_yogurt',\n    nameKo: '그릭요거트',\n    calories: 97,\n    protein: 9.0,\n    carbohydrates: 3.6,\n    fat: 5.0,\n    fiber: 0,\n    sugar: 3.2,\n    sodium: 36,\n    cholesterol: 14\n  },\n  '사워크림': {\n    name: 'sour_cream',\n    nameKo: '사워크림',\n    calories: 193,\n    protein: 2.4,\n    carbohydrates: 4.6,\n    fat: 19.4,\n    fiber: 0,\n    sugar: 3.5,\n    sodium: 80,\n    cholesterol: 52\n  },\n  '마스카포네': {\n    name: 'mascarpone',\n    nameKo: '마스카포네',\n    calories: 429,\n    protein: 4.8,\n    carbohydrates: 3.6,\n    fat: 44.6,\n    fiber: 0,\n    sugar: 3.5,\n    sodium: 41,\n    cholesterol: 140\n  },\n  '리코타치즈': {\n    name: 'ricotta_cheese',\n    nameKo: '리코타치즈',\n    calories: 174,\n    protein: 11.3,\n    carbohydrates: 3.0,\n    fat: 13.0,\n    fiber: 0,\n    sugar: 0.3,\n    sodium: 84,\n    cholesterol: 51\n  },\n  '버터밀크': {\n    name: 'buttermilk',\n    nameKo: '버터밀크',\n    calories: 40,\n    protein: 3.3,\n    carbohydrates: 4.8,\n    fat: 0.9,\n    fiber: 0,\n    sugar: 4.8,\n    sodium: 105,\n    cholesterol: 4\n  },\n  '탈지분유': {\n    name: 'skim_milk_powder',\n    nameKo: '탈지분유',\n    calories: 362,\n    protein: 36.2,\n    carbohydrates: 52.0,\n    fat: 0.8,\n    fiber: 0,\n    sugar: 52.0,\n    sodium: 535,\n    cholesterol: 18\n  },\n  '두유': {\n    name: 'soy_milk',\n    nameKo: '두유',\n    calories: 54,\n    protein: 3.3,\n    carbohydrates: 6.3,\n    fat: 1.8,\n    fiber: 0.6,\n    sugar: 4.0,\n    sodium: 51,\n    cholesterol: 0\n  },\n  '아몬드우유': {\n    name: 'almond_milk',\n    nameKo: '아몬드우유',\n    calories: 17,\n    protein: 0.6,\n    carbohydrates: 2.5,\n    fat: 0.6,\n    fiber: 0.2,\n    sugar: 0,\n    sodium: 67,\n    cholesterol: 0\n  },\n  '귀리우유': {\n    name: 'oat_milk',\n    nameKo: '귀리우유',\n    calories: 47,\n    protein: 1.0,\n    carbohydrates: 9.3,\n    fat: 1.5,\n    fiber: 0.8,\n    sugar: 4.0,\n    sodium: 40,\n    cholesterol: 0\n  },\n  '코코넛밀크': {\n    name: 'coconut_milk',\n    nameKo: '코코넛밀크',\n    calories: 230,\n    protein: 2.3,\n    carbohydrates: 5.5,\n    fat: 23.8,\n    fiber: 2.2,\n    sugar: 3.3,\n    sodium: 15,\n    cholesterol: 0\n  },\n  '연유': {\n    name: 'condensed_milk',\n    nameKo: '연유',\n    calories: 321,\n    protein: 7.9,\n    carbohydrates: 54.4,\n    fat: 8.7,\n    fiber: 0,\n    sugar: 54.4,\n    sodium: 127,\n    cholesterol: 34\n  },\n\n  // === 계란 ===\n  '계란': {\n    name: 'egg',\n    nameKo: '계란',\n    calories: 155,\n    protein: 13.0,\n    carbohydrates: 1.1,\n    fat: 10.6,\n    fiber: 0,\n    sugar: 1.1,\n    sodium: 124,\n    cholesterol: 373,\n    saturatedFat: 3.1,\n    iron: 1.8\n  },\n  '계란흰자': {\n    name: 'egg_white',\n    nameKo: '계란흰자',\n    calories: 52,\n    protein: 10.9,\n    carbohydrates: 0.7,\n    fat: 0.2,\n    fiber: 0,\n    sugar: 0.7,\n    sodium: 166,\n    cholesterol: 0\n  },\n  '계란노른자': {\n    name: 'egg_yolk',\n    nameKo: '계란노른자',\n    calories: 322,\n    protein: 15.9,\n    carbohydrates: 3.6,\n    fat: 26.5,\n    fiber: 0,\n    sugar: 0.6,\n    sodium: 48,\n    cholesterol: 1085,\n    saturatedFat: 9.6\n  },\n\n  // === 견과류 ===\n  '아몬드': {\n    name: 'almond',\n    nameKo: '아몬드',\n    calories: 579,\n    protein: 21.2,\n    carbohydrates: 21.6,\n    fat: 49.9,\n    fiber: 12.5,\n    sugar: 4.4,\n    sodium: 1,\n    cholesterol: 0,\n    calcium: 269,\n    iron: 3.7\n  },\n  '호두': {\n    name: 'walnut',\n    nameKo: '호두',\n    calories: 654,\n    protein: 15.2,\n    carbohydrates: 13.7,\n    fat: 65.2,\n    fiber: 6.7,\n    sugar: 2.6,\n    sodium: 2,\n    cholesterol: 0\n  },\n  '피스타치오': {\n    name: 'pistachio',\n    nameKo: '피스타치오',\n    calories: 560,\n    protein: 20.2,\n    carbohydrates: 27.2,\n    fat: 45.3,\n    fiber: 10.6,\n    sugar: 7.7,\n    sodium: 1,\n    cholesterol: 0\n  },\n\n  // === 초콜릿 ===\n  '다크초콜릿': {\n    name: 'dark_chocolate',\n    nameKo: '다크초콜릿',\n    calories: 546,\n    protein: 4.9,\n    carbohydrates: 61.2,\n    fat: 31.3,\n    fiber: 7.0,\n    sugar: 47.9,\n    sodium: 24,\n    cholesterol: 3,\n    saturatedFat: 18.5\n  },\n  '밀크초콜릿': {\n    name: 'milk_chocolate',\n    nameKo: '밀크초콜릿',\n    calories: 535,\n    protein: 7.6,\n    carbohydrates: 59.4,\n    fat: 29.7,\n    fiber: 3.4,\n    sugar: 51.5,\n    sodium: 79,\n    cholesterol: 23,\n    saturatedFat: 18.5\n  },\n  '코코아파우더': {\n    name: 'cocoa_powder',\n    nameKo: '코코아파우더',\n    calories: 228,\n    protein: 19.6,\n    carbohydrates: 57.9,\n    fat: 13.7,\n    fiber: 33.2,\n    sugar: 1.8,\n    sodium: 21,\n    cholesterol: 0\n  },\n\n  // === 팽창제 ===\n  '이스트': {\n    name: 'yeast',\n    nameKo: '이스트',\n    calories: 325,\n    protein: 40.4,\n    carbohydrates: 41.2,\n    fat: 7.6,\n    fiber: 26.9,\n    sugar: 0,\n    sodium: 51,\n    cholesterol: 0\n  },\n  '인스턴트이스트': {\n    name: 'instant_yeast',\n    nameKo: '인스턴트이스트',\n    calories: 325,\n    protein: 40.4,\n    carbohydrates: 41.2,\n    fat: 7.6,\n    fiber: 26.9,\n    sugar: 0,\n    sodium: 51,\n    cholesterol: 0\n  },\n  '드라이이스트': {\n    name: 'active_dry_yeast',\n    nameKo: '드라이이스트',\n    calories: 325,\n    protein: 40.4,\n    carbohydrates: 41.2,\n    fat: 7.6,\n    fiber: 26.9,\n    sugar: 0,\n    sodium: 51,\n    cholesterol: 0\n  },\n  '생이스트': {\n    name: 'fresh_yeast',\n    nameKo: '생이스트',\n    calories: 105,\n    protein: 8.4,\n    carbohydrates: 18.1,\n    fat: 1.9,\n    fiber: 8.0,\n    sugar: 0,\n    sodium: 16,\n    cholesterol: 0\n  },\n  '베이킹소다': {\n    name: 'baking_soda',\n    nameKo: '베이킹소다',\n    calories: 0,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 0,\n    fiber: 0,\n    sugar: 0,\n    sodium: 27360,\n    cholesterol: 0\n  },\n  '베이킹파우더': {\n    name: 'baking_powder',\n    nameKo: '베이킹파우더',\n    calories: 53,\n    protein: 0,\n    carbohydrates: 27.7,\n    fat: 0,\n    fiber: 0.2,\n    sugar: 0,\n    sodium: 10600,\n    cholesterol: 0\n  },\n  '소금': {\n    name: 'salt',\n    nameKo: '소금',\n    calories: 0,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 0,\n    fiber: 0,\n    sugar: 0,\n    sodium: 38758,\n    cholesterol: 0\n  },\n  '바닐라추출물': {\n    name: 'vanilla_extract',\n    nameKo: '바닐라추출물',\n    calories: 288,\n    protein: 0.1,\n    carbohydrates: 12.7,\n    fat: 0.1,\n    fiber: 0,\n    sugar: 12.7,\n    sodium: 9,\n    cholesterol: 0\n  },\n  '바닐라익스트랙': {\n    name: 'vanilla_extract',\n    nameKo: '바닐라익스트랙',\n    calories: 288,\n    protein: 0.1,\n    carbohydrates: 12.7,\n    fat: 0.1,\n    fiber: 0,\n    sugar: 12.7,\n    sodium: 9,\n    cholesterol: 0\n  },\n  '천일염': {\n    name: 'sea_salt',\n    nameKo: '천일염',\n    calories: 0,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 0,\n    fiber: 0,\n    sugar: 0,\n    sodium: 37800,\n    cholesterol: 0\n  },\n\n  // === 과일류 ===\n  '건포도': {\n    name: 'raisins',\n    nameKo: '건포도',\n    calories: 299,\n    protein: 3.1,\n    carbohydrates: 79.2,\n    fat: 0.5,\n    fiber: 3.7,\n    sugar: 59.2,\n    sodium: 11,\n    cholesterol: 0\n  },\n  '건크랜베리': {\n    name: 'dried_cranberry',\n    nameKo: '건크랜베리',\n    calories: 308,\n    protein: 0.1,\n    carbohydrates: 82.4,\n    fat: 1.4,\n    fiber: 5.7,\n    sugar: 65.0,\n    sodium: 3,\n    cholesterol: 0\n  },\n  '건블루베리': {\n    name: 'dried_blueberry',\n    nameKo: '건블루베리',\n    calories: 317,\n    protein: 2.5,\n    carbohydrates: 80.0,\n    fat: 1.0,\n    fiber: 7.0,\n    sugar: 67.0,\n    sodium: 2,\n    cholesterol: 0\n  },\n  '사과': {\n    name: 'apple',\n    nameKo: '사과',\n    calories: 52,\n    protein: 0.3,\n    carbohydrates: 13.8,\n    fat: 0.2,\n    fiber: 2.4,\n    sugar: 10.4,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '바나나': {\n    name: 'banana',\n    nameKo: '바나나',\n    calories: 89,\n    protein: 1.1,\n    carbohydrates: 22.8,\n    fat: 0.3,\n    fiber: 2.6,\n    sugar: 12.2,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '딸기': {\n    name: 'strawberry',\n    nameKo: '딸기',\n    calories: 32,\n    protein: 0.7,\n    carbohydrates: 7.7,\n    fat: 0.3,\n    fiber: 2.0,\n    sugar: 4.9,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '블루베리': {\n    name: 'blueberry',\n    nameKo: '블루베리',\n    calories: 57,\n    protein: 0.7,\n    carbohydrates: 14.5,\n    fat: 0.3,\n    fiber: 2.4,\n    sugar: 10.0,\n    sodium: 1,\n    cholesterol: 0\n  },\n  '오렌지필': {\n    name: 'candied_orange_peel',\n    nameKo: '오렌지필',\n    calories: 300,\n    protein: 0.5,\n    carbohydrates: 75.0,\n    fat: 0.2,\n    fiber: 2.5,\n    sugar: 65.0,\n    sodium: 10,\n    cholesterol: 0\n  },\n\n  // === 추가 견과류 ===\n  '피칸': {\n    name: 'pecan',\n    nameKo: '피칸',\n    calories: 691,\n    protein: 9.2,\n    carbohydrates: 13.9,\n    fat: 72.0,\n    fiber: 9.6,\n    sugar: 4.0,\n    sodium: 0,\n    cholesterol: 0\n  },\n  '헤이즐넛': {\n    name: 'hazelnut',\n    nameKo: '헤이즐넛',\n    calories: 628,\n    protein: 15.0,\n    carbohydrates: 16.7,\n    fat: 60.8,\n    fiber: 9.7,\n    sugar: 4.3,\n    sodium: 0,\n    cholesterol: 0\n  },\n  '캐슈넛': {\n    name: 'cashew',\n    nameKo: '캐슈넛',\n    calories: 553,\n    protein: 18.2,\n    carbohydrates: 30.2,\n    fat: 43.8,\n    fiber: 3.3,\n    sugar: 5.9,\n    sodium: 12,\n    cholesterol: 0\n  },\n  '마카다미아': {\n    name: 'macadamia',\n    nameKo: '마카다미아',\n    calories: 718,\n    protein: 7.9,\n    carbohydrates: 13.8,\n    fat: 75.8,\n    fiber: 8.6,\n    sugar: 4.6,\n    sodium: 5,\n    cholesterol: 0\n  },\n  '땅콩': {\n    name: 'peanut',\n    nameKo: '땅콩',\n    calories: 567,\n    protein: 25.8,\n    carbohydrates: 16.1,\n    fat: 49.2,\n    fiber: 8.5,\n    sugar: 4.7,\n    sodium: 18,\n    cholesterol: 0\n  },\n\n  // === 추가 초콜릿 ===\n  '화이트초콜릿': {\n    name: 'white_chocolate',\n    nameKo: '화이트초콜릿',\n    calories: 539,\n    protein: 5.9,\n    carbohydrates: 59.2,\n    fat: 32.1,\n    fiber: 0,\n    sugar: 59.0,\n    sodium: 90,\n    cholesterol: 21\n  },\n  '초코칩': {\n    name: 'chocolate_chips',\n    nameKo: '초코칩',\n    calories: 479,\n    protein: 4.5,\n    carbohydrates: 62.5,\n    fat: 24.5,\n    fiber: 6.0,\n    sugar: 52.0,\n    sodium: 24,\n    cholesterol: 3\n  },\n  '카카오닙스': {\n    name: 'cacao_nibs',\n    nameKo: '카카오닙스',\n    calories: 228,\n    protein: 14.3,\n    carbohydrates: 34.7,\n    fat: 42.6,\n    fiber: 33.0,\n    sugar: 0,\n    sodium: 21,\n    cholesterol: 0\n  },\n  '카카오버터': {\n    name: 'cocoa_butter',\n    nameKo: '카카오버터',\n    calories: 884,\n    protein: 0,\n    carbohydrates: 0,\n    fat: 100,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0,\n    cholesterol: 0\n  },\n\n  // === 기타 ===\n  '젤라틴': {\n    name: 'gelatin',\n    nameKo: '젤라틴',\n    calories: 335,\n    protein: 85.6,\n    carbohydrates: 0,\n    fat: 0.1,\n    fiber: 0,\n    sugar: 0,\n    sodium: 196,\n    cholesterol: 0\n  },\n  '한천': {\n    name: 'agar',\n    nameKo: '한천',\n    calories: 26,\n    protein: 0.5,\n    carbohydrates: 6.8,\n    fat: 0,\n    fiber: 0.5,\n    sugar: 0,\n    sodium: 9,\n    cholesterol: 0\n  },\n  '펙틴': {\n    name: 'pectin',\n    nameKo: '펙틴',\n    calories: 325,\n    protein: 0,\n    carbohydrates: 89.0,\n    fat: 0,\n    fiber: 89.0,\n    sugar: 0,\n    sodium: 200,\n    cholesterol: 0\n  },\n  '몰트': {\n    name: 'malt',\n    nameKo: '몰트',\n    calories: 318,\n    protein: 6.0,\n    carbohydrates: 71.0,\n    fat: 1.9,\n    fiber: 0,\n    sugar: 45.0,\n    sodium: 35,\n    cholesterol: 0\n  },\n  '시나몬': {\n    name: 'cinnamon',\n    nameKo: '시나몬',\n    calories: 247,\n    protein: 4.0,\n    carbohydrates: 80.6,\n    fat: 1.2,\n    fiber: 53.1,\n    sugar: 2.2,\n    sodium: 10,\n    cholesterol: 0\n  },\n  '녹차가루': {\n    name: 'matcha',\n    nameKo: '녹차가루',\n    calories: 324,\n    protein: 29.6,\n    carbohydrates: 38.9,\n    fat: 5.3,\n    fiber: 38.5,\n    sugar: 0,\n    sodium: 32,\n    cholesterol: 0\n  },\n  '레몬즙': {\n    name: 'lemon_juice',\n    nameKo: '레몬즙',\n    calories: 22,\n    protein: 0.4,\n    carbohydrates: 6.9,\n    fat: 0.2,\n    fiber: 0.3,\n    sugar: 2.5,\n    sodium: 1,\n    cholesterol: 0\n  }\n}\n\n/**\n * 재료명으로 영양 정보 조회\n */\nexport function getNutritionData(ingredientName: string): NutritionData | null {\n  // 정확한 매칭 먼저 시도\n  if (nutritionDatabase[ingredientName]) {\n    return nutritionDatabase[ingredientName]\n  }\n  \n  // 부분 매칭 시도\n  for (const [key, value] of Object.entries(nutritionDatabase)) {\n    if (ingredientName.includes(key) || key.includes(ingredientName)) {\n      return value\n    }\n  }\n  \n  return null\n}\n\n/**\n * 영양 정보 계산 (주어진 양에 대해)\n */\nexport function calculateNutrition(\n  ingredientName: string, \n  amount: number, \n  unit: 'g' | 'kg' | 'ml' | 'L' = 'g'\n): NutritionData | null {\n  const baseData = getNutritionData(ingredientName)\n  if (!baseData) return null\n  \n  // 단위 변환\n  let amountInGrams = amount\n  if (unit === 'kg') amountInGrams = amount * 1000\n  if (unit === 'L') amountInGrams = amount * 1000\n  if (unit === 'ml') amountInGrams = amount\n  \n  // 100g 기준으로 계산\n  const ratio = amountInGrams / 100\n  \n  return {\n    ...baseData,\n    calories: Math.round(baseData.calories * ratio),\n    protein: Math.round(baseData.protein * ratio * 10) / 10,\n    carbohydrates: Math.round(baseData.carbohydrates * ratio * 10) / 10,\n    fat: Math.round(baseData.fat * ratio * 10) / 10,\n    fiber: Math.round(baseData.fiber * ratio * 10) / 10,\n    sugar: Math.round(baseData.sugar * ratio * 10) / 10,\n    sodium: Math.round(baseData.sodium * ratio),\n    cholesterol: Math.round(baseData.cholesterol * ratio),\n    saturatedFat: baseData.saturatedFat ? Math.round(baseData.saturatedFat * ratio * 10) / 10 : undefined,\n    transFat: baseData.transFat ? Math.round(baseData.transFat * ratio * 10) / 10 : undefined,\n    calcium: baseData.calcium ? Math.round(baseData.calcium * ratio) : undefined,\n    iron: baseData.iron ? Math.round(baseData.iron * ratio * 10) / 10 : undefined\n  }\n}","/**\n * 제과제빵 재료 대체 규칙 데이터베이스\n * 전문 제과제빵사 기준 대체재료 비율 및 주의사항\n *\n * 출처:\n * - King Arthur Baking (https://www.kingarthurbaking.com/)\n * - Sally's Baking Addiction\n * - The Fresh Loaf\n * - VegNews Vegan Baking Guide\n * - Good Morning America Expert Sources\n */\n\nexport interface SubstitutionRule {\n  original: string           // 원재료\n  substitute: string         // 대체재료\n  ratio: number              // 대체 비율 (원재료 대비)\n  notes?: string             // 주의사항\n  category: 'direct' | 'adjusted' | 'special'  // 대체 유형\n  qualityImpact?: 'none' | 'minor' | 'moderate' | 'significant'  // 품질 영향\n  bestFor?: string[]         // 추천 용도\n  notRecommendedFor?: string[]  // 비추천 용도\n}\n\n// 대체재료 규칙 데이터베이스\nexport const SUBSTITUTION_RULES: SubstitutionRule[] = [\n  // ===== 밀가루 대체 =====\n  {\n    original: '박력분',\n    substitute: '중력분',\n    ratio: 0.93,\n    notes: '중력분 93g + 옥수수전분 7g = 박력분 100g 효과. 글루텐 함량 차이로 옥수수전분 추가',\n    category: 'adjusted',\n    qualityImpact: 'minor',\n    bestFor: ['케이크', '쿠키', '머핀'],\n    notRecommendedFor: ['스펀지케이크', '쉬폰케이크']\n  },\n  {\n    original: '강력분',\n    substitute: '중력분',\n    ratio: 1.0,\n    notes: '중력분 100g + 글루텐 1-2g = 강력분 100g 효과. 빵의 쫄깃함 보완',\n    category: 'adjusted',\n    qualityImpact: 'moderate',\n    bestFor: ['간단한 빵', '피자도우'],\n    notRecommendedFor: ['바게트', '치아바타', '고급 유럽빵']\n  },\n  {\n    original: '통밀가루',\n    substitute: '중력분',\n    ratio: 1.0,\n    notes: '영양 및 식이섬유 손실. 수분 흡수율 다름',\n    category: 'direct',\n    qualityImpact: 'moderate',\n    bestFor: ['빵', '머핀'],\n    notRecommendedFor: ['통밀 특유 풍미 필요한 레시피']\n  },\n\n  // ===== 당류 대체 =====\n  {\n    original: '설탕',\n    substitute: '꿀',\n    ratio: 0.75,\n    notes: '설탕 100g = 꿀 75g. 액체 재료 20ml 감소 필요. 갈변 빨라짐',\n    category: 'adjusted',\n    qualityImpact: 'moderate',\n    bestFor: ['케이크', '쿠키', '빵'],\n    notRecommendedFor: ['마카롱', '머랭']\n  },\n  {\n    original: '설탕',\n    substitute: '메이플시럽',\n    ratio: 0.75,\n    notes: '설탕 100g = 메이플시럽 75g. 액체 재료 30ml 감소. 메이플 풍미 추가',\n    category: 'adjusted',\n    qualityImpact: 'moderate',\n    bestFor: ['팬케이크', '와플', '머핀']\n  },\n  {\n    original: '황설탕',\n    substitute: '설탕',\n    ratio: 1.0,\n    notes: '설탕 100g + 몰라세스 2-3큰술 = 황설탕 100g 효과',\n    category: 'adjusted',\n    qualityImpact: 'minor',\n    bestFor: ['쿠키', '케이크']\n  },\n  {\n    original: '흑설탕',\n    substitute: '설탕',\n    ratio: 1.0,\n    notes: '설탕 100g + 몰라세스 3-4큰술 = 흑설탕 100g 효과',\n    category: 'adjusted',\n    qualityImpact: 'minor',\n    bestFor: ['진저브레드', '과일케이크']\n  },\n\n  // ===== 유지류 대체 =====\n  {\n    original: '버터',\n    substitute: '식용유',\n    ratio: 0.85,\n    notes: '버터 100g = 식용유 85g. 버터 풍미 손실, 더 촉촉한 질감',\n    category: 'adjusted',\n    qualityImpact: 'moderate',\n    bestFor: ['머핀', '케이크'],\n    notRecommendedFor: ['쿠키', '파이', '크루아상']\n  },\n  {\n    original: '버터',\n    substitute: '코코넛오일',\n    ratio: 1.0,\n    notes: '1:1 대체. 고체 상태에서 사용. 코코넛 풍미 약간 느껴짐',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['비건 베이킹', '쿠키', '케이크']\n  },\n  {\n    original: '버터',\n    substitute: '마가린',\n    ratio: 1.0,\n    notes: '1:1 대체 가능. 풍미 차이 있음',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['쿠키', '케이크', '빵']\n  },\n  {\n    original: '버터',\n    substitute: '쇼트닝',\n    ratio: 1.0,\n    notes: '1:1 대체. 소금 1/2 티스푼 추가 권장',\n    category: 'adjusted',\n    qualityImpact: 'moderate',\n    bestFor: ['파이', '타르트', '쿠키'],\n    notRecommendedFor: ['버터크림', '브리오슈']\n  },\n  {\n    original: '라드',\n    substitute: '버터',\n    ratio: 0.875,\n    notes: '라드 100g = 버터 87.5g. 수분 함량 차이 보정',\n    category: 'adjusted',\n    qualityImpact: 'minor',\n    bestFor: ['파이크러스트']\n  },\n\n  // ===== 계란 대체 =====\n  {\n    original: '계란',\n    substitute: '아마씨',\n    ratio: 1.0,\n    notes: '계란 1개 = 아마씨 1큰술 + 물 3큰술 (5분 불림). 바인더 역할',\n    category: 'special',\n    qualityImpact: 'moderate',\n    bestFor: ['쿠키', '머핀', '팬케이크'],\n    notRecommendedFor: ['커스터드', '수플레', '마카롱']\n  },\n  {\n    original: '계란',\n    substitute: '치아씨드',\n    ratio: 1.0,\n    notes: '계란 1개 = 치아씨드 1큰술 + 물 3큰술 (5분 불림)',\n    category: 'special',\n    qualityImpact: 'moderate',\n    bestFor: ['쿠키', '머핀', '팬케이크']\n  },\n  {\n    original: '계란',\n    substitute: '사과소스',\n    ratio: 1.0,\n    notes: '계란 1개 = 사과소스 1/3컵 (약 80g). 촉촉함 유지',\n    category: 'special',\n    qualityImpact: 'moderate',\n    bestFor: ['케이크', '머핀', '브라우니']\n  },\n  {\n    original: '계란',\n    substitute: '바나나',\n    ratio: 1.0,\n    notes: '계란 1개 = 으깬 바나나 1/2개 (약 60g). 바나나 향 추가됨',\n    category: 'special',\n    qualityImpact: 'moderate',\n    bestFor: ['케이크', '머핀', '빵']\n  },\n  {\n    original: '계란흰자',\n    substitute: '아쿠아파바',\n    ratio: 1.0,\n    notes: '흰자 1개 = 아쿠아파바 3큰술. 머랭, 마카롱에 적합',\n    category: 'special',\n    qualityImpact: 'minor',\n    bestFor: ['머랭', '마카롱', '무스']\n  },\n\n  // ===== 유제품 대체 =====\n  {\n    original: '우유',\n    substitute: '두유',\n    ratio: 1.0,\n    notes: '1:1 대체. 무가당 사용 권장',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['케이크', '빵', '머핀']\n  },\n  {\n    original: '우유',\n    substitute: '아몬드우유',\n    ratio: 1.0,\n    notes: '1:1 대체. 우유보다 묽음, 약간의 견과향',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['케이크', '머핀', '팬케이크']\n  },\n  {\n    original: '우유',\n    substitute: '귀리우유',\n    ratio: 1.0,\n    notes: '1:1 대체. 크리미한 질감이 우유와 가장 유사',\n    category: 'direct',\n    qualityImpact: 'none',\n    bestFor: ['모든 베이킹']\n  },\n  {\n    original: '버터밀크',\n    substitute: '우유',\n    ratio: 1.0,\n    notes: '우유 1컵 + 레몬즙/식초 1큰술, 5분 방치',\n    category: 'adjusted',\n    qualityImpact: 'none',\n    bestFor: ['팬케이크', '스콘', '케이크']\n  },\n  {\n    original: '생크림',\n    substitute: '코코넛크림',\n    ratio: 1.0,\n    notes: '1:1 대체. 냉장보관한 코코넛밀크 윗층 사용',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['무스', '간나슈', '휘핑']\n  },\n  {\n    original: '사워크림',\n    substitute: '그릭요거트',\n    ratio: 1.0,\n    notes: '1:1 대체. 거의 동일한 효과',\n    category: 'direct',\n    qualityImpact: 'none',\n    bestFor: ['케이크', '머핀', '치즈케이크']\n  },\n  {\n    original: '크림치즈',\n    substitute: '마스카포네',\n    ratio: 1.0,\n    notes: '1:1 대체. 더 부드럽고 풍부한 맛',\n    category: 'direct',\n    qualityImpact: 'none',\n    bestFor: ['치즈케이크', '프로스팅', '티라미수']\n  },\n\n  // ===== 팽창제 대체 =====\n  {\n    original: '베이킹파우더',\n    substitute: '베이킹소다',\n    ratio: 0.25,\n    notes: '베이킹파우더 1ts = 베이킹소다 1/4ts + 크림오브타르타르 1/2ts',\n    category: 'adjusted',\n    qualityImpact: 'minor',\n    bestFor: ['케이크', '쿠키', '머핀']\n  },\n  {\n    original: '인스턴트이스트',\n    substitute: '드라이이스트',\n    ratio: 1.25,\n    notes: '인스턴트 1g = 드라이 1.25g. 드라이는 미지근한 물에 예비발효 필요',\n    category: 'adjusted',\n    qualityImpact: 'none',\n    bestFor: ['모든 빵 종류']\n  },\n  {\n    original: '인스턴트이스트',\n    substitute: '생이스트',\n    ratio: 3.0,\n    notes: '인스턴트 1g = 생이스트 3g. 생이스트는 신선도 중요',\n    category: 'adjusted',\n    qualityImpact: 'none',\n    bestFor: ['모든 빵 종류']\n  },\n  {\n    original: '드라이이스트',\n    substitute: '생이스트',\n    ratio: 2.5,\n    notes: '드라이 1g = 생이스트 2.5g',\n    category: 'adjusted',\n    qualityImpact: 'none',\n    bestFor: ['모든 빵 종류']\n  },\n\n  // ===== 전분류 대체 =====\n  {\n    original: '옥수수전분',\n    substitute: '감자전분',\n    ratio: 1.0,\n    notes: '1:1 대체. 거의 동일한 효과',\n    category: 'direct',\n    qualityImpact: 'none',\n    bestFor: ['소스', '커스터드', '케이크']\n  },\n  {\n    original: '옥수수전분',\n    substitute: '타피오카전분',\n    ratio: 1.0,\n    notes: '1:1 대체. 타피오카가 더 쫄깃한 질감',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['푸딩', '파이필링']\n  },\n\n  // ===== 초콜릿 대체 =====\n  {\n    original: '다크초콜릿',\n    substitute: '코코아파우더',\n    ratio: 0.33,\n    notes: '다크초콜릿 100g = 코코아 33g + 버터 17g + 설탕 50g',\n    category: 'adjusted',\n    qualityImpact: 'moderate',\n    bestFor: ['브라우니', '케이크']\n  },\n  {\n    original: '밀크초콜릿',\n    substitute: '다크초콜릿',\n    ratio: 1.0,\n    notes: '1:1 대체. 설탕 약간 추가 권장',\n    category: 'adjusted',\n    qualityImpact: 'minor',\n    bestFor: ['간나슈', '케이크']\n  },\n\n  // ===== 견과류 대체 =====\n  {\n    original: '아몬드',\n    substitute: '호두',\n    ratio: 1.0,\n    notes: '1:1 대체. 풍미와 식감 차이',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['쿠키', '케이크', '빵']\n  },\n  {\n    original: '아몬드가루',\n    substitute: '헤이즐넛가루',\n    ratio: 1.0,\n    notes: '1:1 대체. 헤이즐넛 특유의 풍미',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['마카롱', '피낭시에', '케이크']\n  },\n\n  // ===== 기타 대체 =====\n  {\n    original: '젤라틴',\n    substitute: '한천',\n    ratio: 0.5,\n    notes: '젤라틴 100g = 한천 50g. 한천이 더 단단한 질감',\n    category: 'adjusted',\n    qualityImpact: 'moderate',\n    bestFor: ['젤리', '무스', '푸딩'],\n    notRecommendedFor: ['판나코타 (부드러운 질감 필요)']\n  },\n  {\n    original: '바닐라빈',\n    substitute: '바닐라익스트랙',\n    ratio: 1.0,\n    notes: '바닐라빈 1개 = 바닐라익스트랙 1ts',\n    category: 'direct',\n    qualityImpact: 'minor',\n    bestFor: ['모든 베이킹']\n  }\n]\n\n/**\n * 원재료에 대한 대체 규칙 조회\n */\nexport function getSubstitutionRules(originalIngredient: string): SubstitutionRule[] {\n  const ingredientLower = originalIngredient.toLowerCase()\n  return SUBSTITUTION_RULES.filter(\n    rule => rule.original.toLowerCase().includes(ingredientLower) ||\n            ingredientLower.includes(rule.original.toLowerCase())\n  )\n}\n\n/**\n * 특정 대체재료로 변환할 수 있는 규칙 조회\n */\nexport function findSubstituteFor(\n  original: string,\n  substitute: string\n): SubstitutionRule | undefined {\n  return SUBSTITUTION_RULES.find(\n    rule => rule.original === original && rule.substitute === substitute\n  )\n}\n\n/**\n * 대체재료 양 계산\n * @param originalAmount - 원재료 양\n * @param rule - 대체 규칙\n * @returns 대체재료 양\n */\nexport function calculateSubstituteAmount(\n  originalAmount: number,\n  rule: SubstitutionRule\n): number {\n  return Math.round(originalAmount * rule.ratio * 10) / 10\n}\n\n/**\n * 카테고리별 대체 규칙 조회\n */\nexport function getRulesByCategory(\n  category: SubstitutionRule['category']\n): SubstitutionRule[] {\n  return SUBSTITUTION_RULES.filter(rule => rule.category === category)\n}\n\n/**\n * 품질 영향이 적은 대체 규칙만 조회\n */\nexport function getSafeSubstitutions(originalIngredient: string): SubstitutionRule[] {\n  return getSubstitutionRules(originalIngredient).filter(\n    rule => rule.qualityImpact === 'none' || rule.qualityImpact === 'minor'\n  )\n}\n\n/**\n * 특정 용도에 적합한 대체 규칙 조회\n */\nexport function getSubstitutionsForUse(\n  originalIngredient: string,\n  useCase: string\n): SubstitutionRule[] {\n  return getSubstitutionRules(originalIngredient).filter(\n    rule => rule.bestFor?.some(use =>\n      use.toLowerCase().includes(useCase.toLowerCase())\n    )\n  )\n}\n","/**\r\n * 재료 데이터베이스 설정 탭 (통합 테이블 뷰)\r\n * 모든 재료 속성을 Excel 스타일 테이블로 표시\r\n */\r\n\r\nimport React, { useState, useMemo, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore } from '@/stores/useSettingsStore'\r\nimport { CustomIngredient, IngredientSubstitution, CostOverride, NutritionOverride } from '@/types/settings.types'\r\nimport { INGREDIENT_DATABASE, IngredientInfo, PRIMARY_INGREDIENT_NAMES } from '@/data/ingredientDatabase'\r\nimport { nutritionDatabase, NutritionData } from '@/data/nutritionDatabase'\r\nimport { SUBSTITUTION_RULES, SubstitutionRule, getSubstitutionRules } from '@/data/substitutionRules'\r\nimport { findIngredientByKorean, translateBakingNote } from '@/data/ingredientTranslations'\r\nimport {\r\n  Apple,\r\n  Plus,\r\n  Trash2,\r\n  Save,\r\n  X,\r\n  Search,\r\n  ArrowRight,\r\n  Edit3,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  RefreshCw,\r\n  Filter\r\n} from 'lucide-react'\r\n\r\n// 재료 카테고리 (키와 아이콘만 정의, 라벨은 번역 사용)\r\nconst INGREDIENT_CATEGORIES: { value: IngredientInfo['category']; icon: string }[] = [\r\n  { value: 'flour', icon: '🌾' },\r\n  { value: 'liquid', icon: '💧' },\r\n  { value: 'fat', icon: '🧈' },\r\n  { value: 'sugar', icon: '🍬' },\r\n  { value: 'egg', icon: '🥚' },\r\n  { value: 'dairy', icon: '🥛' },\r\n  { value: 'leavening', icon: '🫧' },\r\n  { value: 'salt', icon: '🧂' },\r\n  { value: 'flavoring', icon: '🍋' },\r\n  { value: 'nut', icon: '🥜' },\r\n  { value: 'fruit', icon: '🍎' },\r\n  { value: 'chocolate', icon: '🍫' },\r\n  { value: 'other', icon: '📦' }\r\n]\r\n\r\nconst getCategoryInfo = (category: string) =>\r\n  INGREDIENT_CATEGORIES.find(c => c.value === category) || { value: 'other', icon: '📦' }\r\n\r\ninterface IngredientSettingsTabProps {\r\n  className?: string\r\n}\r\n\r\n// 통합 재료 정보 타입\r\ninterface UnifiedIngredient {\r\n  name: string\r\n  category: IngredientInfo['category']\r\n  moisture: number | undefined\r\n  moistureOverridden: boolean\r\n  cost: CostOverride | undefined\r\n  nutrition: NutritionOverride | undefined\r\n  defaultNutrition: NutritionData | undefined  // 기본 영양정보\r\n  substitutions: IngredientSubstitution[]\r\n  defaultSubstitutions: SubstitutionRule[]     // 기본 대체규칙\r\n  isCustom: boolean\r\n  originalData?: IngredientInfo\r\n}\r\n\r\nexport default function IngredientSettingsTab({ className = '' }: IngredientSettingsTabProps) {\r\n  const { t, i18n } = useTranslation()\r\n  const currentLang = i18n.language === 'en' ? 'en' : 'ko'\r\n\r\n  // 재료명 번역 헬퍼 함수 (기본 DB 재료 + 번역 데이터베이스 모두 검색)\r\n  const getIngredientDisplayName = useCallback((name: string): string => {\r\n    // 1. i18n 번역 시도 (PRIMARY_INGREDIENT_NAMES)\r\n    if (PRIMARY_INGREDIENT_NAMES.includes(name)) {\r\n      const translated = t(`settings.ingredient.ingredientNames.${name}`, { defaultValue: '' })\r\n      if (translated) return translated\r\n    }\r\n\r\n    // 2. 영어 모드: ingredientTranslations 데이터베이스 검색\r\n    if (currentLang === 'en') {\r\n      const translationData = findIngredientByKorean(name)\r\n      if (translationData) {\r\n        return translationData.en\r\n      }\r\n    }\r\n\r\n    return name\r\n  }, [t, currentLang])\r\n\r\n  // 재료 별칭을 현재 언어에 맞게 가져오기\r\n  const getIngredientAlias = useCallback((name: string, aliases?: string[]): string | null => {\r\n    // Try to find in translation database first\r\n    const translationData = findIngredientByKorean(name)\r\n    if (translationData?.aliases) {\r\n      const langAliases = currentLang === 'en' ? translationData.aliases.en : translationData.aliases.ko\r\n      if (langAliases && langAliases.length > 0) {\r\n        return langAliases[0]\r\n      }\r\n    }\r\n    // Fallback: filter aliases from database based on language\r\n    if (aliases && aliases.length > 0) {\r\n      const isEnglish = (str: string) => /^[a-zA-Z\\s]+$/.test(str)\r\n      if (currentLang === 'en') {\r\n        const englishAlias = aliases.find(a => isEnglish(a))\r\n        return englishAlias || null\r\n      } else {\r\n        const koreanAlias = aliases.find(a => !isEnglish(a))\r\n        return koreanAlias || null\r\n      }\r\n    }\r\n    return null\r\n  }, [currentLang])\r\n\r\n  const {\r\n    ingredient,\r\n    addCustomIngredient,\r\n    deleteCustomIngredient,\r\n    setMoistureOverride,\r\n    addSubstitution,\r\n    deleteSubstitution,\r\n    setCostOverride,\r\n    deleteCostOverride,\r\n    setNutritionOverride,\r\n    deleteNutritionOverride\r\n  } = useSettingsStore()\r\n\r\n  // 검색 및 필터\r\n  const [search, setSearch] = useState('')\r\n  const [categoryFilter, setCategoryFilter] = useState<string>('all')\r\n  const [showOnlyModified, setShowOnlyModified] = useState(false)\r\n\r\n  // 편집 상태\r\n  const [editingRow, setEditingRow] = useState<string | null>(null)\r\n  const [editForm, setEditForm] = useState<{\r\n    moisture?: number\r\n    cost?: CostOverride\r\n    nutrition?: NutritionOverride\r\n  }>({})\r\n\r\n  // 커스텀 재료 폼\r\n  const [showCustomForm, setShowCustomForm] = useState(false)\r\n  const [customForm, setCustomForm] = useState<Omit<CustomIngredient, 'id'>>({\r\n    name: '',\r\n    category: 'other',\r\n    aliases: [],\r\n    moisture: undefined,\r\n    isFlour: false\r\n  })\r\n\r\n  // 대체재료 추가 폼\r\n  const [showSubForm, setShowSubForm] = useState<string | null>(null)\r\n  const [subForm, setSubForm] = useState<Omit<IngredientSubstitution, 'id'>>({\r\n    original: '',\r\n    substitute: '',\r\n    ratio: 1,\r\n    notes: ''\r\n  })\r\n\r\n  // 확장된 행 (대체재료 보기)\r\n  const [expandedRows, setExpandedRows] = useState<Set<string>>(new Set())\r\n\r\n  // 통합 재료 목록 생성\r\n  const unifiedIngredients = useMemo((): UnifiedIngredient[] => {\r\n    const result: UnifiedIngredient[] = []\r\n\r\n    // 데이터베이스 재료\r\n    for (const ing of INGREDIENT_DATABASE) {\r\n      const moistureOverride = ingredient.moistureOverrides[ing.name]\r\n      const cost = (ingredient.costOverrides || {})[ing.name]\r\n      const nutrition = (ingredient.nutritionOverrides || {})[ing.name]\r\n      const subs = ingredient.substitutions.filter(s => s.original === ing.name)\r\n\r\n      // 기본 영양정보 조회\r\n      const defaultNutrition = nutritionDatabase[ing.name]\r\n\r\n      // 기본 대체규칙 조회\r\n      const defaultSubs = SUBSTITUTION_RULES.filter(rule => rule.original === ing.name)\r\n\r\n      result.push({\r\n        name: ing.name,\r\n        category: ing.category,\r\n        moisture: moistureOverride ?? ing.moisture,\r\n        moistureOverridden: moistureOverride !== undefined,\r\n        cost,\r\n        nutrition,\r\n        defaultNutrition,\r\n        substitutions: subs,\r\n        defaultSubstitutions: defaultSubs,\r\n        isCustom: false,\r\n        originalData: ing\r\n      })\r\n    }\r\n\r\n    // 커스텀 재료\r\n    for (const custom of ingredient.customIngredients) {\r\n      // 이미 데이터베이스에 있는지 확인\r\n      if (result.some(r => r.name === custom.name)) continue\r\n\r\n      const cost = (ingredient.costOverrides || {})[custom.name]\r\n      const nutrition = (ingredient.nutritionOverrides || {})[custom.name]\r\n      const subs = ingredient.substitutions.filter(s => s.original === custom.name)\r\n\r\n      // 커스텀 재료도 기본 데이터 조회 시도\r\n      const defaultNutrition = nutritionDatabase[custom.name]\r\n      const defaultSubs = SUBSTITUTION_RULES.filter(rule => rule.original === custom.name)\r\n\r\n      result.push({\r\n        name: custom.name,\r\n        category: custom.category,\r\n        moisture: custom.moisture,\r\n        moistureOverridden: false,\r\n        cost,\r\n        nutrition,\r\n        defaultNutrition,\r\n        substitutions: subs,\r\n        defaultSubstitutions: defaultSubs,\r\n        isCustom: true\r\n      })\r\n    }\r\n\r\n    return result\r\n  }, [ingredient])\r\n\r\n  // 필터링된 목록\r\n  const filteredIngredients = useMemo(() => {\r\n    let list = unifiedIngredients\r\n\r\n    // 검색 필터\r\n    if (search) {\r\n      const searchLower = search.toLowerCase()\r\n      list = list.filter(ing => {\r\n        const nameMatch = ing.name.toLowerCase().includes(searchLower)\r\n        const aliasMatch = ing.originalData?.aliases?.some(a =>\r\n          a.toLowerCase().includes(searchLower)\r\n        )\r\n        return nameMatch || aliasMatch\r\n      })\r\n    }\r\n\r\n    // 카테고리 필터\r\n    if (categoryFilter !== 'all') {\r\n      list = list.filter(ing => ing.category === categoryFilter)\r\n    }\r\n\r\n    // 수정된 항목만\r\n    if (showOnlyModified) {\r\n      list = list.filter(ing =>\r\n        ing.moistureOverridden ||\r\n        ing.cost !== undefined ||\r\n        ing.nutrition !== undefined ||\r\n        ing.substitutions.length > 0 ||\r\n        ing.isCustom\r\n      )\r\n    }\r\n\r\n    return list\r\n  }, [unifiedIngredients, search, categoryFilter, showOnlyModified])\r\n\r\n  // 편집 시작\r\n  const handleStartEdit = useCallback((name: string) => {\r\n    const ing = unifiedIngredients.find(i => i.name === name)\r\n    if (!ing) return\r\n\r\n    setEditingRow(name)\r\n    setEditForm({\r\n      moisture: ing.moisture,\r\n      cost: ing.cost ? { ...ing.cost } : {},\r\n      nutrition: ing.nutrition ? { ...ing.nutrition } : {}\r\n    })\r\n  }, [unifiedIngredients])\r\n\r\n  // 편집 저장\r\n  const handleSaveEdit = useCallback(() => {\r\n    if (!editingRow) return\r\n\r\n    const ing = unifiedIngredients.find(i => i.name === editingRow)\r\n    if (!ing) return\r\n\r\n    // 수분함량 저장\r\n    if (editForm.moisture !== undefined && editForm.moisture !== ing.originalData?.moisture) {\r\n      setMoistureOverride(editingRow, editForm.moisture)\r\n    }\r\n\r\n    // 원가 저장\r\n    if (editForm.cost && Object.keys(editForm.cost).length > 0) {\r\n      const cleaned: CostOverride = {}\r\n      if (editForm.cost.retailPrice && editForm.cost.retailPrice > 0) {\r\n        cleaned.retailPrice = editForm.cost.retailPrice\r\n      }\r\n      if (editForm.cost.wholesalePrice && editForm.cost.wholesalePrice > 0) {\r\n        cleaned.wholesalePrice = editForm.cost.wholesalePrice\r\n      }\r\n      if (editForm.cost.bulkPrice && editForm.cost.bulkPrice > 0) {\r\n        cleaned.bulkPrice = editForm.cost.bulkPrice\r\n      }\r\n      if (Object.keys(cleaned).length > 0) {\r\n        setCostOverride(editingRow, cleaned)\r\n      }\r\n    }\r\n\r\n    // 영양정보 저장\r\n    if (editForm.nutrition && Object.keys(editForm.nutrition).length > 0) {\r\n      const cleaned: NutritionOverride = {}\r\n      if (editForm.nutrition.calories !== undefined && editForm.nutrition.calories >= 0) {\r\n        cleaned.calories = editForm.nutrition.calories\r\n      }\r\n      if (editForm.nutrition.protein !== undefined && editForm.nutrition.protein >= 0) {\r\n        cleaned.protein = editForm.nutrition.protein\r\n      }\r\n      if (editForm.nutrition.carbohydrates !== undefined && editForm.nutrition.carbohydrates >= 0) {\r\n        cleaned.carbohydrates = editForm.nutrition.carbohydrates\r\n      }\r\n      if (editForm.nutrition.fat !== undefined && editForm.nutrition.fat >= 0) {\r\n        cleaned.fat = editForm.nutrition.fat\r\n      }\r\n      if (Object.keys(cleaned).length > 0) {\r\n        setNutritionOverride(editingRow, cleaned)\r\n      }\r\n    }\r\n\r\n    setEditingRow(null)\r\n    setEditForm({})\r\n  }, [editingRow, editForm, unifiedIngredients, setMoistureOverride, setCostOverride, setNutritionOverride])\r\n\r\n  // 편집 취소\r\n  const handleCancelEdit = useCallback(() => {\r\n    setEditingRow(null)\r\n    setEditForm({})\r\n  }, [])\r\n\r\n  // 커스텀 재료 저장\r\n  const handleSaveCustom = useCallback(() => {\r\n    if (!customForm.name.trim()) {\r\n      alert(t('settings.ingredient.alerts.nameRequired'))\r\n      return\r\n    }\r\n    addCustomIngredient(customForm)\r\n    setCustomForm({\r\n      name: '',\r\n      category: 'other',\r\n      aliases: [],\r\n      moisture: undefined,\r\n      isFlour: false\r\n    })\r\n    setShowCustomForm(false)\r\n  }, [customForm, addCustomIngredient, t])\r\n\r\n  // 대체재료 저장\r\n  const handleSaveSubstitution = useCallback(() => {\r\n    if (!subForm.original.trim() || !subForm.substitute.trim()) {\r\n      alert(t('settings.ingredient.alerts.substituteRequired'))\r\n      return\r\n    }\r\n    addSubstitution(subForm)\r\n    setSubForm({\r\n      original: '',\r\n      substitute: '',\r\n      ratio: 1,\r\n      notes: ''\r\n    })\r\n    setShowSubForm(null)\r\n  }, [subForm, addSubstitution, t])\r\n\r\n  // 행 확장 토글\r\n  const toggleRowExpand = useCallback((name: string) => {\r\n    setExpandedRows(prev => {\r\n      const next = new Set(prev)\r\n      if (next.has(name)) {\r\n        next.delete(name)\r\n      } else {\r\n        next.add(name)\r\n      }\r\n      return next\r\n    })\r\n  }, [])\r\n\r\n  // 데이터 초기화 (특정 재료)\r\n  const handleResetIngredient = useCallback((name: string) => {\r\n    const ing = unifiedIngredients.find(i => i.name === name)\r\n    if (!ing) return\r\n\r\n    if (ing.moistureOverridden) {\r\n      // 수분함량 오버라이드 삭제 (원본 값으로 복원)\r\n      if (ing.originalData?.moisture !== undefined) {\r\n        setMoistureOverride(name, ing.originalData.moisture)\r\n      }\r\n    }\r\n    if (ing.cost) {\r\n      deleteCostOverride(name)\r\n    }\r\n    if (ing.nutrition) {\r\n      deleteNutritionOverride(name)\r\n    }\r\n  }, [unifiedIngredients, setMoistureOverride, deleteCostOverride, deleteNutritionOverride])\r\n\r\n  // 수정된 항목 수 계산\r\n  const modifiedCount = useMemo(() => {\r\n    return unifiedIngredients.filter(ing =>\r\n      ing.moistureOverridden ||\r\n      ing.cost !== undefined ||\r\n      ing.nutrition !== undefined ||\r\n      ing.substitutions.length > 0 ||\r\n      ing.isCustom\r\n    ).length\r\n  }, [unifiedIngredients])\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className}`}>\r\n      {/* 헤더 */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-800 flex items-center gap-2\">\r\n            <Apple className=\"w-5 h-5 text-green-500\" />\r\n            {t('settings.ingredient.title')}\r\n            <span className=\"text-sm font-normal text-gray-500\">\r\n              ({t('settings.ingredient.databaseCount', { dbCount: INGREDIENT_DATABASE.length, customCount: ingredient.customIngredients.length })})\r\n            </span>\r\n          </h3>\r\n          <p className=\"text-sm text-gray-500 mt-1\">\r\n            {t('settings.ingredient.titleDesc')}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowCustomForm(true)}\r\n          className=\"flex items-center gap-1 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm\"\r\n        >\r\n          <Plus className=\"w-4 h-4\" />\r\n          {t('settings.ingredient.addIngredient')}\r\n        </button>\r\n      </div>\r\n\r\n      {/* 커스텀 재료 추가 폼 */}\r\n      {showCustomForm && (\r\n        <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h4 className=\"font-medium text-gray-800\">{t('settings.ingredient.newIngredient')}</h4>\r\n            <button onClick={() => setShowCustomForm(false)} className=\"p-1 hover:bg-white rounded\">\r\n              <X className=\"w-4 h-4 text-gray-500\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"grid grid-cols-4 gap-3\">\r\n            <input\r\n              type=\"text\"\r\n              value={customForm.name}\r\n              onChange={(e) => setCustomForm(prev => ({ ...prev, name: e.target.value }))}\r\n              placeholder={t('settings.ingredient.ingredientName')}\r\n              className=\"px-3 py-2 text-sm border rounded-lg\"\r\n            />\r\n            <select\r\n              value={customForm.category}\r\n              onChange={(e) => setCustomForm(prev => ({\r\n                ...prev,\r\n                category: e.target.value as IngredientInfo['category']\r\n              }))}\r\n              className=\"px-3 py-2 text-sm border rounded-lg\"\r\n            >\r\n              {INGREDIENT_CATEGORIES.map(cat => (\r\n                <option key={cat.value} value={cat.value}>\r\n                  {cat.icon} {t(`settings.ingredient.categories.${cat.value}`)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <input\r\n              type=\"number\"\r\n              value={customForm.moisture ?? ''}\r\n              onChange={(e) => setCustomForm(prev => ({\r\n                ...prev,\r\n                moisture: parseFloat(e.target.value) || undefined\r\n              }))}\r\n              placeholder={t('settings.ingredient.moisturePercent')}\r\n              className=\"px-3 py-2 text-sm border rounded-lg\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n            />\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={handleSaveCustom}\r\n                className=\"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm\"\r\n              >\r\n                <Save className=\"w-4 h-4\" />\r\n                {t('settings.ingredient.buttons.save')}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowCustomForm(false)}\r\n                className=\"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm\"\r\n              >\r\n                {t('settings.ingredient.buttons.cancel')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 검색 및 필터 */}\r\n      <div className=\"flex gap-3 items-center\">\r\n        <div className=\"relative flex-1\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            placeholder={t('settings.ingredient.searchPlaceholder')}\r\n            className=\"w-full pl-10 pr-4 py-2 border rounded-lg text-sm\"\r\n          />\r\n        </div>\r\n        <select\r\n          value={categoryFilter}\r\n          onChange={(e) => setCategoryFilter(e.target.value)}\r\n          className=\"px-3 py-2 border rounded-lg text-sm\"\r\n        >\r\n          <option value=\"all\">{t('settings.ingredient.allCategories')}</option>\r\n          {INGREDIENT_CATEGORIES.map(cat => (\r\n            <option key={cat.value} value={cat.value}>\r\n              {cat.icon} {t(`settings.ingredient.categories.${cat.value}`)}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <button\r\n          onClick={() => setShowOnlyModified(!showOnlyModified)}\r\n          className={`flex items-center gap-1 px-3 py-2 border rounded-lg text-sm ${\r\n            showOnlyModified\r\n              ? 'bg-amber-100 border-amber-300 text-amber-700'\r\n              : 'hover:bg-gray-50'\r\n          }`}\r\n        >\r\n          <Filter className=\"w-4 h-4\" />\r\n          {t('settings.ingredient.modified')} ({modifiedCount})\r\n        </button>\r\n      </div>\r\n\r\n      {/* 테이블 */}\r\n      <div className=\"border rounded-lg overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead className=\"bg-gray-50 border-b\">\r\n              <tr>\r\n                <th className=\"px-3 py-2 text-left font-medium text-gray-600 w-10\"></th>\r\n                <th className=\"px-3 py-2 text-left font-medium text-gray-600 min-w-[140px]\">{t('settings.ingredient.table.name')}</th>\r\n                <th className=\"px-3 py-2 text-left font-medium text-gray-600 w-24\">{t('settings.ingredient.table.category')}</th>\r\n                <th className=\"px-3 py-2 text-center font-medium text-gray-600 w-20\">\r\n                  <span className=\"flex items-center justify-center gap-1\">💧 {t('settings.ingredient.table.moisture')}</span>\r\n                </th>\r\n                <th className=\"px-3 py-2 text-center font-medium text-gray-600 w-28\">\r\n                  <span className=\"flex items-center justify-center gap-1\">💰 {t('settings.ingredient.table.cost')}</span>\r\n                </th>\r\n                <th className=\"px-3 py-2 text-center font-medium text-gray-600 w-24\">\r\n                  <span className=\"flex items-center justify-center gap-1\">🔥 {t('settings.ingredient.table.calories')}</span>\r\n                </th>\r\n                <th className=\"px-3 py-2 text-center font-medium text-gray-600 w-20\">\r\n                  <span className=\"flex items-center justify-center gap-1\">🔄 {t('settings.ingredient.table.substitutes')}</span>\r\n                </th>\r\n                <th className=\"px-3 py-2 text-center font-medium text-gray-600 w-16\">{t('settings.ingredient.table.edit')}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\">\r\n              {filteredIngredients.map(ing => {\r\n                const catInfo = getCategoryInfo(ing.category)\r\n                const isExpanded = expandedRows.has(ing.name)\r\n                const isEditing = editingRow === ing.name\r\n                const hasModifications = ing.moistureOverridden || ing.cost || ing.nutrition || ing.isCustom\r\n\r\n                return (\r\n                  <React.Fragment key={ing.name}>\r\n                  <tr\r\n                    className={`\r\n                      ${hasModifications ? 'bg-amber-50' : 'hover:bg-gray-50'}\r\n                      ${isEditing ? 'bg-blue-50' : ''}\r\n                    `}\r\n                  >\r\n                    {/* 확장 토글 */}\r\n                    <td className=\"px-2 py-2 text-center\">\r\n                      {(ing.substitutions.length > 0 || ing.defaultSubstitutions.length > 0) && (\r\n                        <button\r\n                          onClick={() => toggleRowExpand(ing.name)}\r\n                          className=\"p-1 hover:bg-gray-200 rounded\"\r\n                        >\r\n                          {isExpanded ? (\r\n                            <ChevronUp className=\"w-4 h-4 text-gray-500\" />\r\n                          ) : (\r\n                            <ChevronDown className=\"w-4 h-4 text-gray-500\" />\r\n                          )}\r\n                        </button>\r\n                      )}\r\n                    </td>\r\n\r\n                    {/* 재료명 */}\r\n                    <td className=\"px-3 py-2\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span>{catInfo.icon}</span>\r\n                        <div>\r\n                          <span className=\"font-medium text-gray-800\">{getIngredientDisplayName(ing.name)}</span>\r\n                          {ing.isCustom && (\r\n                            <span className=\"ml-1 px-1 py-0.5 bg-green-100 text-green-700 text-xs rounded\">\r\n                              {t('settings.ingredient.custom')}\r\n                            </span>\r\n                          )}\r\n                          {(() => {\r\n                            const alias = getIngredientAlias(ing.name, ing.originalData?.aliases)\r\n                            return alias && (\r\n                              <div className=\"text-xs text-gray-400 truncate max-w-[120px]\">\r\n                                {alias}\r\n                              </div>\r\n                            )\r\n                          })()}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n\r\n                    {/* 카테고리 */}\r\n                    <td className=\"px-3 py-2 text-gray-600\">\r\n                      <span className=\"text-xs\">{t(`settings.ingredient.categories.${ing.category}`)}</span>\r\n                    </td>\r\n\r\n                    {/* 수분함량 */}\r\n                    <td className=\"px-3 py-2 text-center\">\r\n                      {isEditing ? (\r\n                        <input\r\n                          type=\"number\"\r\n                          value={editForm.moisture ?? ''}\r\n                          onChange={(e) => setEditForm(prev => ({\r\n                            ...prev,\r\n                            moisture: parseFloat(e.target.value) || undefined\r\n                          }))}\r\n                          className=\"w-16 px-2 py-1 text-center border rounded text-xs font-mono\"\r\n                          min=\"0\"\r\n                          max=\"100\"\r\n                        />\r\n                      ) : (\r\n                        <span className={`font-mono text-xs ${ing.moistureOverridden ? 'text-amber-600 font-medium' : ''}`}>\r\n                          {ing.moisture !== undefined ? `${ing.moisture}%` : '-'}\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n\r\n                    {/* 원가 */}\r\n                    <td className=\"px-3 py-2 text-center\">\r\n                      {isEditing ? (\r\n                        <input\r\n                          type=\"number\"\r\n                          value={editForm.cost?.retailPrice ?? ''}\r\n                          onChange={(e) => setEditForm(prev => ({\r\n                            ...prev,\r\n                            cost: { ...prev.cost, retailPrice: parseFloat(e.target.value) || undefined }\r\n                          }))}\r\n                          placeholder=\"₩/kg\"\r\n                          className=\"w-20 px-2 py-1 text-center border rounded text-xs font-mono\"\r\n                        />\r\n                      ) : ing.cost ? (\r\n                        <span className=\"text-xs font-mono text-emerald-600\">\r\n                          ₩{(ing.cost.retailPrice || ing.cost.wholesalePrice || ing.cost.bulkPrice || 0).toLocaleString()}\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"text-gray-400 text-xs\">-</span>\r\n                      )}\r\n                    </td>\r\n\r\n                    {/* 열량 */}\r\n                    <td className=\"px-3 py-2 text-center\">\r\n                      {isEditing ? (\r\n                        <input\r\n                          type=\"number\"\r\n                          value={editForm.nutrition?.calories ?? ing.defaultNutrition?.calories ?? ''}\r\n                          onChange={(e) => setEditForm(prev => ({\r\n                            ...prev,\r\n                            nutrition: { ...prev.nutrition, calories: parseFloat(e.target.value) || undefined }\r\n                          }))}\r\n                          placeholder=\"kcal\"\r\n                          className=\"w-16 px-2 py-1 text-center border rounded text-xs font-mono\"\r\n                        />\r\n                      ) : ing.nutrition?.calories ? (\r\n                        <span className=\"text-xs font-mono text-purple-600\" title={t('settings.ingredient.userDefined')}>\r\n                          {ing.nutrition.calories}\r\n                        </span>\r\n                      ) : ing.defaultNutrition?.calories ? (\r\n                        <span className=\"text-xs font-mono text-gray-600\" title={t('settings.ingredient.defaultTooltip', { protein: ing.defaultNutrition.protein, carbs: ing.defaultNutrition.carbohydrates, fat: ing.defaultNutrition.fat })}>\r\n                          {ing.defaultNutrition.calories}\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"text-gray-400 text-xs\">-</span>\r\n                      )}\r\n                    </td>\r\n\r\n                    {/* 대체재료 수 */}\r\n                    <td className=\"px-3 py-2 text-center\">\r\n                      {(() => {\r\n                        const totalSubs = ing.substitutions.length + ing.defaultSubstitutions.length\r\n                        if (totalSubs > 0) {\r\n                          return (\r\n                            <button\r\n                              onClick={() => toggleRowExpand(ing.name)}\r\n                              className={`px-2 py-0.5 rounded text-xs font-medium hover:opacity-80 ${\r\n                                ing.substitutions.length > 0\r\n                                  ? 'bg-orange-100 text-orange-700'\r\n                                  : 'bg-blue-100 text-blue-700'\r\n                              }`}\r\n                              title={t('settings.ingredient.subsTooltip', { defaultCount: ing.defaultSubstitutions.length, userCount: ing.substitutions.length })}\r\n                            >\r\n                              {t('settings.ingredient.subsCount', { count: totalSubs })}\r\n                            </button>\r\n                          )\r\n                        }\r\n                        return (\r\n                          <button\r\n                            onClick={() => {\r\n                              setSubForm({ original: ing.name, substitute: '', ratio: 1, notes: '' })\r\n                              setShowSubForm(ing.name)\r\n                            }}\r\n                            className=\"px-2 py-0.5 bg-gray-100 text-gray-500 rounded text-xs hover:bg-gray-200\"\r\n                          >\r\n                            +\r\n                          </button>\r\n                        )\r\n                      })()}\r\n                    </td>\r\n\r\n                    {/* 편집 버튼 */}\r\n                    <td className=\"px-3 py-2 text-center\">\r\n                      {isEditing ? (\r\n                        <div className=\"flex gap-1 justify-center\">\r\n                          <button\r\n                            onClick={handleSaveEdit}\r\n                            className=\"p-1 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n                            title={t('settings.ingredient.buttons.save')}\r\n                          >\r\n                            <Save className=\"w-3 h-3\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={handleCancelEdit}\r\n                            className=\"p-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400\"\r\n                            title={t('settings.ingredient.buttons.cancel')}\r\n                          >\r\n                            <X className=\"w-3 h-3\" />\r\n                          </button>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"flex gap-1 justify-center\">\r\n                          <button\r\n                            onClick={() => handleStartEdit(ing.name)}\r\n                            className=\"p-1 text-gray-500 hover:bg-gray-200 rounded\"\r\n                            title={t('settings.ingredient.buttons.edit')}\r\n                          >\r\n                            <Edit3 className=\"w-3 h-3\" />\r\n                          </button>\r\n                          {hasModifications && (\r\n                            <button\r\n                              onClick={() => handleResetIngredient(ing.name)}\r\n                              className=\"p-1 text-amber-500 hover:bg-amber-100 rounded\"\r\n                              title={t('settings.ingredient.buttons.reset')}\r\n                            >\r\n                              <RefreshCw className=\"w-3 h-3\" />\r\n                            </button>\r\n                          )}\r\n                          {ing.isCustom && (\r\n                            <button\r\n                              onClick={() => {\r\n                                if (confirm(t('settings.ingredient.alerts.deleteConfirm', { name: getIngredientDisplayName(ing.name) }))) {\r\n                                  const custom = ingredient.customIngredients.find(c => c.name === ing.name)\r\n                                  if (custom) deleteCustomIngredient(custom.id)\r\n                                }\r\n                              }}\r\n                              className=\"p-1 text-red-500 hover:bg-red-100 rounded\"\r\n                              title={t('settings.ingredient.buttons.delete')}\r\n                            >\r\n                              <Trash2 className=\"w-3 h-3\" />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n\r\n                  {/* 확장된 대체재료 행 */}\r\n                  {isExpanded && (ing.substitutions.length > 0 || ing.defaultSubstitutions.length > 0) && (\r\n                    <tr className=\"bg-orange-50/50\">\r\n                      <td colSpan={8} className=\"px-6 py-2\">\r\n                        <div className=\"space-y-2\">\r\n                          {/* 기본 대체규칙 */}\r\n                          {ing.defaultSubstitutions.length > 0 && (\r\n                            <div className=\"flex flex-wrap gap-2 items-center\">\r\n                              <span className=\"text-xs text-blue-600 font-medium mr-2\">📚 {t('settings.ingredient.defaultRules')}</span>\r\n                              {ing.defaultSubstitutions.map((rule, idx) => (\r\n                                <div\r\n                                  key={`default-${idx}`}\r\n                                  className=\"flex items-center gap-1 px-2 py-1 bg-blue-50 border border-blue-200 rounded text-xs\"\r\n                                  title={currentLang === 'en' ? translateBakingNote(rule.notes || '', 'en') : (rule.notes || '')}\r\n                                >\r\n                                  <ArrowRight className=\"w-3 h-3 text-blue-400\" />\r\n                                  <span className=\"font-medium text-blue-700\">{getIngredientDisplayName(rule.substitute)}</span>\r\n                                  <span className=\"text-blue-500 font-mono\">×{rule.ratio}</span>\r\n                                  {rule.qualityImpact && rule.qualityImpact !== 'none' && (\r\n                                    <span className={`px-1 py-0.5 rounded text-[10px] ${\r\n                                      rule.qualityImpact === 'minor' ? 'bg-green-100 text-green-600' :\r\n                                      rule.qualityImpact === 'moderate' ? 'bg-yellow-100 text-yellow-600' :\r\n                                      'bg-red-100 text-red-600'\r\n                                    }`}>\r\n                                      {t(`settings.ingredient.qualityImpact.${rule.qualityImpact}`)} {t('settings.ingredient.impact')}\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* 사용자 정의 대체규칙 */}\r\n                          <div className=\"flex flex-wrap gap-2 items-center\">\r\n                            {ing.substitutions.length > 0 && (\r\n                              <>\r\n                                <span className=\"text-xs text-orange-600 font-medium mr-2\">✏️ {t('settings.ingredient.userRules')}</span>\r\n                                {ing.substitutions.map(sub => (\r\n                                  <div\r\n                                    key={sub.id}\r\n                                    className=\"flex items-center gap-1 px-2 py-1 bg-white border border-orange-200 rounded text-xs\"\r\n                                  >\r\n                                    <ArrowRight className=\"w-3 h-3 text-gray-400\" />\r\n                                    <span className=\"font-medium text-orange-700\">{getIngredientDisplayName(sub.substitute)}</span>\r\n                                    <span className=\"text-gray-500 font-mono\">×{sub.ratio}</span>\r\n                                    {sub.notes && <span className=\"text-gray-400 italic\">({currentLang === 'en' ? translateBakingNote(sub.notes, 'en') : sub.notes})</span>}\r\n                                    <button\r\n                                      onClick={() => {\r\n                                        if (confirm(t('settings.ingredient.alerts.deleteSubConfirm'))) {\r\n                                          deleteSubstitution(sub.id)\r\n                                        }\r\n                                      }}\r\n                                      className=\"ml-1 p-0.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded\"\r\n                                    >\r\n                                      <X className=\"w-3 h-3\" />\r\n                                    </button>\r\n                                  </div>\r\n                                ))}\r\n                              </>\r\n                            )}\r\n                            <button\r\n                              onClick={() => {\r\n                                setSubForm({ original: ing.name, substitute: '', ratio: 1, notes: '' })\r\n                                setShowSubForm(ing.name)\r\n                              }}\r\n                              className=\"px-2 py-1 text-orange-600 hover:bg-orange-100 rounded text-xs\"\r\n                            >\r\n                              {t('settings.ingredient.addSub')}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  </React.Fragment>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 대체재료 추가 폼 (플로팅) */}\r\n      {showSubForm && (\r\n        <div className=\"fixed inset-0 bg-black/30 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-xl p-4 w-96 space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h4 className=\"font-medium text-gray-800\">\r\n                🔄 {t('settings.ingredient.substitution.title', { name: getIngredientDisplayName(showSubForm) })}\r\n              </h4>\r\n              <button onClick={() => setShowSubForm(null)} className=\"p-1 hover:bg-gray-100 rounded\">\r\n                <X className=\"w-4 h-4 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"font-medium text-gray-700\">{getIngredientDisplayName(showSubForm)}</span>\r\n                <ArrowRight className=\"w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={subForm.substitute}\r\n                  onChange={(e) => setSubForm(prev => ({ ...prev, substitute: e.target.value }))}\r\n                  placeholder={t('settings.ingredient.substitution.substitute')}\r\n                  className=\"flex-1 px-3 py-2 text-sm border rounded-lg\"\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-3\">\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.ingredient.substitution.ratio')}</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={subForm.ratio}\r\n                    onChange={(e) => setSubForm(prev => ({ ...prev, ratio: parseFloat(e.target.value) || 1 }))}\r\n                    step=\"0.05\"\r\n                    min=\"0.1\"\r\n                    max=\"3\"\r\n                    className=\"w-full px-3 py-2 text-sm border rounded-lg font-mono\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-xs text-gray-500 mb-1\">{t('settings.ingredient.substitution.notes')}</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={subForm.notes || ''}\r\n                    onChange={(e) => setSubForm(prev => ({ ...prev, notes: e.target.value }))}\r\n                    placeholder={t('settings.ingredient.substitution.notesPlaceholder')}\r\n                    className=\"w-full px-3 py-2 text-sm border rounded-lg\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2 pt-2\">\r\n              <button\r\n                onClick={handleSaveSubstitution}\r\n                className=\"flex-1 flex items-center justify-center gap-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600\"\r\n              >\r\n                <Save className=\"w-4 h-4\" />\r\n                {t('settings.ingredient.buttons.save')}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowSubForm(null)}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n              >\r\n                {t('settings.ingredient.buttons.cancel')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 결과 없음 */}\r\n      {filteredIngredients.length === 0 && (\r\n        <div className=\"text-center py-8 text-gray-500\">\r\n          <Search className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\r\n          <p>{t('settings.ingredient.noResults')}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* 하단 안내 */}\r\n      <div className=\"text-xs text-gray-500 bg-gray-50 p-3 rounded-lg\">\r\n        <p className=\"font-medium mb-1\">💡 {t('settings.ingredient.tips.title')}</p>\r\n        <ul className=\"space-y-0.5\">\r\n          <li>• {t('settings.ingredient.tips.edit')}</li>\r\n          <li>• {t('settings.ingredient.tips.subs')}</li>\r\n          <li>• {t('settings.ingredient.tips.filter')}</li>\r\n          <li>• {t('settings.ingredient.tips.reset')}</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * 고급 설정 탭\r\n * 믹서 마찰열, 단위, 정밀도, 전문가 모드\r\n *\r\n * 적용: --persona-frontend (UX) + --persona-backend (계산 설정)\r\n */\r\n\r\nimport { useState, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore } from '@/stores/useSettingsStore'\r\nimport { AdvancedSettings } from '@/types/settings.types'\r\nimport {\r\n  Settings,\r\n  Zap,\r\n  Scale,\r\n  Thermometer,\r\n  Eye,\r\n  RotateCcw,\r\n  Info,\r\n  AlertCircle,\r\n  Hand,\r\n  Coffee\r\n} from 'lucide-react'\r\n\r\n// 믹서 타입 정보 (키와 아이콘만 정의, 라벨은 번역 사용)\r\nconst MIXER_TYPES: { key: keyof AdvancedSettings['mixerFriction']; icon: React.ReactNode; defaultValue: number }[] = [\r\n  { key: 'hand', icon: <Hand className=\"w-5 h-5\" />, defaultValue: 0 },\r\n  { key: 'stand', icon: <Coffee className=\"w-5 h-5\" />, defaultValue: 24 },\r\n  { key: 'spiral', icon: <Zap className=\"w-5 h-5\" />, defaultValue: 22 },\r\n  { key: 'planetary', icon: <Settings className=\"w-5 h-5\" />, defaultValue: 26 }\r\n]\r\n\r\n// 단위 옵션 (키만 정의, 라벨은 번역 사용)\r\nconst UNIT_OPTIONS = {\r\n  weight: ['g', 'oz'],\r\n  volume: ['ml', 'cup'],\r\n  temperature: ['C', 'F']\r\n}\r\n\r\n// 정밀도 옵션 (값만 정의, 라벨은 번역 사용)\r\nconst PRECISION_OPTIONS = [0, 1, 2]\r\n\r\ninterface AdvancedSettingsTabProps {\r\n  className?: string\r\n}\r\n\r\nexport default function AdvancedSettingsTab({ className = '' }: AdvancedSettingsTabProps) {\r\n  const { t } = useTranslation()\r\n  const {\r\n    advanced,\r\n    setMixerFriction,\r\n    setUnits,\r\n    setPrecision,\r\n    setExpertMode,\r\n    resetToDefaults\r\n  } = useSettingsStore()\r\n\r\n  const [showMixerInfo, setShowMixerInfo] = useState(false)\r\n\r\n  // 믹서 마찰열 변경\r\n  const handleMixerChange = useCallback((type: keyof AdvancedSettings['mixerFriction'], value: number) => {\r\n    setMixerFriction(type, value)\r\n  }, [setMixerFriction])\r\n\r\n  // 단위 변경\r\n  const handleUnitChange = useCallback((\r\n    unitType: 'weight' | 'volume' | 'temperature',\r\n    value: string\r\n  ) => {\r\n    setUnits({ [unitType]: value as 'g' | 'oz' | 'ml' | 'cup' | 'C' | 'F' })\r\n  }, [setUnits])\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* 헤더 */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-800 flex items-center gap-2\">\r\n            <Settings className=\"w-5 h-5 text-gray-500\" />\r\n            {t('settings.advanced.title')}\r\n          </h3>\r\n          <p className=\"text-sm text-gray-500 mt-1\">\r\n            {t('settings.advanced.titleDesc')}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => {\r\n            if (confirm(t('settings.advanced.resetConfirm'))) {\r\n              resetToDefaults('advanced')\r\n            }\r\n          }}\r\n          className=\"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700\"\r\n        >\r\n          <RotateCcw className=\"w-4 h-4\" />\r\n          {t('settings.advanced.resetToDefault')}\r\n        </button>\r\n      </div>\r\n\r\n      {/* 전문가 모드 */}\r\n      <div className=\"p-4 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-100 rounded-lg\">\r\n        <label className=\"flex items-center justify-between cursor-pointer\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-white rounded-lg shadow-sm\">\r\n              <Eye className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"font-medium text-gray-800\">{t('settings.advanced.expertMode.title')}</div>\r\n              <div className=\"text-xs text-gray-500\">\r\n                {t('settings.advanced.expertMode.description')}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={`w-14 h-7 rounded-full transition-colors ${\r\n              advanced.expertMode ? 'bg-purple-500' : 'bg-gray-300'\r\n            } relative cursor-pointer`}\r\n            onClick={() => setExpertMode(!advanced.expertMode)}\r\n          >\r\n            <div\r\n              className={`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${\r\n                advanced.expertMode ? 'translate-x-8' : 'translate-x-1'\r\n              }`}\r\n            />\r\n          </div>\r\n        </label>\r\n        {advanced.expertMode && (\r\n          <div className=\"mt-3 text-xs text-purple-600 flex items-center gap-1\">\r\n            <Info className=\"w-3 h-3\" />\r\n            {t('settings.advanced.expertMode.enabledInfo')}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 믹서 마찰열 설정 */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h4 className=\"font-medium text-gray-700 flex items-center gap-2\">\r\n              <Zap className=\"w-4 h-4 text-amber-500\" />\r\n              {t('settings.advanced.mixer.title')}\r\n            </h4>\r\n            <p className=\"text-xs text-gray-500 mt-0.5\">\r\n              {t('settings.advanced.mixer.titleDesc')}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={() => setShowMixerInfo(!showMixerInfo)}\r\n            className=\"text-xs text-blue-600 hover:text-blue-700\"\r\n          >\r\n            {showMixerInfo ? t('settings.advanced.mixer.showLess') : t('settings.advanced.mixer.showMore')}\r\n          </button>\r\n        </div>\r\n\r\n        {showMixerInfo && (\r\n          <div className=\"p-3 bg-amber-50 border border-amber-100 rounded-lg text-sm text-amber-700\">\r\n            <p className=\"font-medium mb-2\">{t('settings.advanced.mixer.infoTitle')}</p>\r\n            <p className=\"text-xs\">\r\n              {t('settings.advanced.mixer.infoDesc')}\r\n            </p>\r\n            <div className=\"mt-2 text-xs\">\r\n              <strong>{t('settings.advanced.mixer.formula')}</strong>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          {MIXER_TYPES.map(mixer => {\r\n            const currentValue = advanced.mixerFriction[mixer.key] ?? mixer.defaultValue\r\n            const isCustom = mixer.key === 'custom'\r\n\r\n            return (\r\n              <div\r\n                key={mixer.key}\r\n                className={`p-4 border rounded-lg ${\r\n                  isCustom ? 'bg-gray-50 border-gray-200' : 'bg-white border-gray-200'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center gap-2 mb-2 text-gray-600\">\r\n                  {mixer.icon}\r\n                  <span className=\"font-medium text-sm\">{t(`settings.advanced.mixer.types.${mixer.key}.name`)}</span>\r\n                </div>\r\n                <p className=\"text-xs text-gray-500 mb-3\">{t(`settings.advanced.mixer.types.${mixer.key}.description`)}</p>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <input\r\n                    type=\"number\"\r\n                    value={currentValue}\r\n                    onChange={(e) => handleMixerChange(mixer.key, parseInt(e.target.value) || 0)}\r\n                    min=\"0\"\r\n                    max=\"40\"\r\n                    className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-500\">°C</span>\r\n                </div>\r\n                {currentValue !== mixer.defaultValue && (\r\n                  <button\r\n                    onClick={() => handleMixerChange(mixer.key, mixer.defaultValue)}\r\n                    className=\"text-xs text-gray-400 hover:text-gray-600 mt-1\"\r\n                  >\r\n                    {t('settings.advanced.mixer.defaultValue', { value: mixer.defaultValue })}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n\r\n        {/* 커스텀 믹서 */}\r\n        {advanced.expertMode && (\r\n          <div className=\"p-4 border border-dashed border-gray-300 rounded-lg\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <Settings className=\"w-4 h-4 text-gray-400\" />\r\n              <span className=\"font-medium text-sm text-gray-600\">{t('settings.advanced.mixer.custom')}</span>\r\n            </div>\r\n            <p className=\"text-xs text-gray-500 mb-3\">\r\n              {t('settings.advanced.mixer.customDesc')}\r\n            </p>\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"number\"\r\n                value={advanced.mixerFriction.custom ?? ''}\r\n                onChange={(e) => handleMixerChange('custom', parseInt(e.target.value) || 0)}\r\n                placeholder={t('settings.advanced.mixer.customPlaceholder')}\r\n                min=\"0\"\r\n                max=\"40\"\r\n                className=\"w-full px-2 py-1.5 text-sm border rounded text-center font-mono\"\r\n              />\r\n              <span className=\"text-sm text-gray-500\">°C</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 단위 설정 */}\r\n      <div className=\"space-y-4\">\r\n        <h4 className=\"font-medium text-gray-700 flex items-center gap-2\">\r\n          <Scale className=\"w-4 h-4 text-blue-500\" />\r\n          {t('settings.advanced.units.title')}\r\n        </h4>\r\n\r\n        <div className=\"grid grid-cols-3 gap-4\">\r\n          {/* 무게 단위 */}\r\n          <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              {t('settings.advanced.units.weight')}\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {UNIT_OPTIONS.weight.map(opt => (\r\n                <label\r\n                  key={opt}\r\n                  className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\r\n                    advanced.units.weight === opt\r\n                      ? 'bg-blue-100 text-blue-700'\r\n                      : 'hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"weight-unit\"\r\n                    value={opt}\r\n                    checked={advanced.units.weight === opt}\r\n                    onChange={() => handleUnitChange('weight', opt)}\r\n                    className=\"sr-only\"\r\n                  />\r\n                  <div\r\n                    className={`w-4 h-4 rounded-full border-2 flex items-center justify-center ${\r\n                      advanced.units.weight === opt\r\n                        ? 'border-blue-500 bg-blue-500'\r\n                        : 'border-gray-300'\r\n                    }`}\r\n                  >\r\n                    {advanced.units.weight === opt && (\r\n                      <div className=\"w-2 h-2 bg-white rounded-full\" />\r\n                    )}\r\n                  </div>\r\n                  <span className=\"text-sm\">{t(`settings.advanced.units.options.${opt}`)}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* 부피 단위 */}\r\n          <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              {t('settings.advanced.units.volume')}\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {UNIT_OPTIONS.volume.map(opt => (\r\n                <label\r\n                  key={opt}\r\n                  className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\r\n                    advanced.units.volume === opt\r\n                      ? 'bg-blue-100 text-blue-700'\r\n                      : 'hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"volume-unit\"\r\n                    value={opt}\r\n                    checked={advanced.units.volume === opt}\r\n                    onChange={() => handleUnitChange('volume', opt)}\r\n                    className=\"sr-only\"\r\n                  />\r\n                  <div\r\n                    className={`w-4 h-4 rounded-full border-2 flex items-center justify-center ${\r\n                      advanced.units.volume === opt\r\n                        ? 'border-blue-500 bg-blue-500'\r\n                        : 'border-gray-300'\r\n                    }`}\r\n                  >\r\n                    {advanced.units.volume === opt && (\r\n                      <div className=\"w-2 h-2 bg-white rounded-full\" />\r\n                    )}\r\n                  </div>\r\n                  <span className=\"text-sm\">{t(`settings.advanced.units.options.${opt}`)}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* 온도 단위 */}\r\n          <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1\">\r\n              <Thermometer className=\"w-4 h-4\" />\r\n              {t('settings.advanced.units.temperature')}\r\n            </label>\r\n            <div className=\"space-y-2\">\r\n              {UNIT_OPTIONS.temperature.map(opt => (\r\n                <label\r\n                  key={opt}\r\n                  className={`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${\r\n                    advanced.units.temperature === opt\r\n                      ? 'bg-blue-100 text-blue-700'\r\n                      : 'hover:bg-gray-100'\r\n                  }`}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"temp-unit\"\r\n                    value={opt}\r\n                    checked={advanced.units.temperature === opt}\r\n                    onChange={() => handleUnitChange('temperature', opt)}\r\n                    className=\"sr-only\"\r\n                  />\r\n                  <div\r\n                    className={`w-4 h-4 rounded-full border-2 flex items-center justify-center ${\r\n                      advanced.units.temperature === opt\r\n                        ? 'border-blue-500 bg-blue-500'\r\n                        : 'border-gray-300'\r\n                    }`}\r\n                  >\r\n                    {advanced.units.temperature === opt && (\r\n                      <div className=\"w-2 h-2 bg-white rounded-full\" />\r\n                    )}\r\n                  </div>\r\n                  <span className=\"text-sm\">{t(`settings.advanced.units.options.${opt}`)}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 정밀도 설정 */}\r\n      <div className=\"space-y-4\">\r\n        <h4 className=\"font-medium text-gray-700\">{t('settings.advanced.precision.title')}</h4>\r\n\r\n        <div className=\"space-y-2\">\r\n          {PRECISION_OPTIONS.map(opt => (\r\n            <label\r\n              key={opt}\r\n              className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-all ${\r\n                advanced.precision === opt\r\n                  ? 'border-green-500 bg-green-50'\r\n                  : 'border-gray-200 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <div\r\n                  className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${\r\n                    advanced.precision === opt\r\n                      ? 'border-green-500 bg-green-500'\r\n                      : 'border-gray-300'\r\n                  }`}\r\n                >\r\n                  {advanced.precision === opt && (\r\n                    <div className=\"w-2.5 h-2.5 bg-white rounded-full\" />\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <div className=\"font-medium text-gray-800\">{t(`settings.advanced.precision.options.${opt}.label`)}</div>\r\n                  <div className=\"text-xs text-gray-500\">{t(`settings.advanced.precision.options.${opt}.description`)}</div>\r\n                </div>\r\n              </div>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"precision\"\r\n                value={opt}\r\n                checked={advanced.precision === opt}\r\n                onChange={() => setPrecision(opt as 0 | 1 | 2)}\r\n                className=\"sr-only\"\r\n              />\r\n            </label>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* 팁 */}\r\n      <div className=\"p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600\">\r\n        <div className=\"flex items-start gap-2\">\r\n          <AlertCircle className=\"w-4 h-4 mt-0.5 text-gray-400\" />\r\n          <div>\r\n            <p className=\"font-medium text-gray-700\">{t('settings.advanced.tips.title')}</p>\r\n            <ul className=\"text-xs mt-1 space-y-1\">\r\n              <li>• {t('settings.advanced.tips.mixer')}</li>\r\n              <li>• {t('settings.advanced.tips.hand')}</li>\r\n              <li>• {t('settings.advanced.tips.precision')}</li>\r\n              <li>• {t('settings.advanced.tips.expert')}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * 데이터 저장 설정 탭\r\n * File System Access API를 사용한 로컬 폴더 저장 설정\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore } from '@/stores/useSettingsStore'\r\nimport { useRecipeStore } from '@/stores/useRecipeStore'\r\nimport {\r\n  fileSystemStorage,\r\n  isFileSystemAccessSupported\r\n} from '@/utils/storage/fileSystemStorage'\r\nimport { toast } from '@/utils/toast'\r\nimport {\r\n  FolderOpen,\r\n  HardDrive,\r\n  Cloud,\r\n  Check,\r\n  AlertTriangle,\r\n  RefreshCw,\r\n  Download,\r\n  Upload,\r\n  Info\r\n} from 'lucide-react'\r\n\r\nexport default function StorageSettingsTab() {\r\n  const { t } = useTranslation()\r\n  const { storage, setStorageDirectory, setAutoSave, updateLastSaved } = useSettingsStore()\r\n  const { recipes, importRecipes, exportRecipes, resetToSampleRecipes } = useRecipeStore()\r\n\r\n  const [isSupported, setIsSupported] = useState(false)\r\n  const [isConnecting, setIsConnecting] = useState(false)\r\n  const [isInitialized, setIsInitialized] = useState(false)\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  // 브라우저 지원 여부 및 저장소 초기화\r\n  useEffect(() => {\r\n    const checkSupport = async () => {\r\n      const supported = isFileSystemAccessSupported()\r\n      setIsSupported(supported)\r\n\r\n      if (supported && storage.type === 'filesystem') {\r\n        // 이전에 선택한 폴더가 있으면 복원 시도\r\n        const initialized = await fileSystemStorage.initialize()\r\n        setIsInitialized(initialized)\r\n\r\n        if (!initialized && storage.directoryName) {\r\n          // 권한이 만료되었을 수 있음\r\n          toast.info(t('settings.storage.permissionExpiredToast'))\r\n        }\r\n      }\r\n    }\r\n\r\n    checkSupport()\r\n  }, [storage.type, storage.directoryName, t])\r\n\r\n  // 폴더 선택\r\n  const handleSelectFolder = useCallback(async () => {\r\n    setIsConnecting(true)\r\n    try {\r\n      const folderName = await fileSystemStorage.selectDirectory()\r\n      if (folderName) {\r\n        setStorageDirectory(folderName)\r\n        setIsInitialized(true)\r\n        toast.success(t('settings.storage.folderConnected', { name: folderName }))\r\n      }\r\n    } catch (error: any) {\r\n      toast.error(error.message || t('settings.storage.folderSelectFailed'))\r\n    } finally {\r\n      setIsConnecting(false)\r\n    }\r\n  }, [setStorageDirectory, t])\r\n\r\n  // 폴더 연결 해제\r\n  const handleDisconnect = useCallback(async () => {\r\n    if (window.confirm(t('settings.storage.disconnectConfirm'))) {\r\n      await fileSystemStorage.disconnect()\r\n      setStorageDirectory(null)\r\n      setIsInitialized(false)\r\n      toast.success(t('settings.storage.disconnected'))\r\n    }\r\n  }, [setStorageDirectory, t])\r\n\r\n  // 설정 데이터 가져오기 (storage 제외)\r\n  const settingsStore = useSettingsStore()\r\n  const getSettingsData = useCallback(() => {\r\n    const { pan, product, yieldLoss, method, environment, ingredient, advanced } = settingsStore\r\n    return { pan, product, yieldLoss, method, environment, ingredient, advanced }\r\n  }, [settingsStore])\r\n\r\n  // 수동 저장 (레시피 + 설정)\r\n  const handleManualSave = useCallback(async () => {\r\n    if (!isInitialized) {\r\n      toast.error(t('settings.storage.selectFolderFirst'))\r\n      return\r\n    }\r\n\r\n    try {\r\n      // 레시피 저장\r\n      await fileSystemStorage.writeFile('RECIPES', recipes)\r\n      // 설정 저장\r\n      await fileSystemStorage.writeFile('SETTINGS', getSettingsData())\r\n      updateLastSaved()\r\n      toast.success(t('settings.storage.savedSuccess'))\r\n    } catch (error: any) {\r\n      toast.error(error.message || t('settings.storage.saveFailed'))\r\n    }\r\n  }, [isInitialized, recipes, getSettingsData, updateLastSaved, t])\r\n\r\n  // 파일에서 불러오기 (레시피 + 설정)\r\n  const handleLoadFromFile = useCallback(async () => {\r\n    if (!isInitialized) {\r\n      toast.error(t('settings.storage.selectFolderFirst'))\r\n      return\r\n    }\r\n\r\n    try {\r\n      let loadedCount = 0\r\n\r\n      // 레시피 불러오기\r\n      const recipesData = await fileSystemStorage.readFile<any[]>('RECIPES')\r\n      if (recipesData && Array.isArray(recipesData)) {\r\n        await importRecipes(recipesData)\r\n        loadedCount += recipesData.length\r\n      }\r\n\r\n      // 설정 불러오기\r\n      const settingsData = await fileSystemStorage.readFile<any>('SETTINGS')\r\n      if (settingsData) {\r\n        settingsStore.importSettings(JSON.stringify(settingsData))\r\n      }\r\n\r\n      if (loadedCount > 0 || settingsData) {\r\n        toast.success(t('settings.storage.loadedSuccess', { count: loadedCount }))\r\n      } else {\r\n        toast.info(t('settings.storage.noSavedFiles'))\r\n      }\r\n    } catch (error: any) {\r\n      toast.error(error.message || t('settings.storage.loadFailed'))\r\n    }\r\n  }, [isInitialized, importRecipes, settingsStore, t])\r\n\r\n  // JSON 파일 내보내기 (다운로드)\r\n  const handleExportJson = useCallback(async () => {\r\n    try {\r\n      const blob = await exportRecipes()\r\n      const url = URL.createObjectURL(blob)\r\n      const link = document.createElement('a')\r\n      link.href = url\r\n      link.download = `recipes-${new Date().toISOString().split('T')[0]}.json`\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link)\r\n      URL.revokeObjectURL(url)\r\n      toast.success(t('settings.storage.exportedSuccess'))\r\n    } catch (error) {\r\n      toast.error(t('settings.storage.exportFailed'))\r\n    }\r\n  }, [exportRecipes, t])\r\n\r\n  // JSON 파일 가져오기 (업로드)\r\n  const handleImportJson = useCallback(async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (!file) return\r\n\r\n    try {\r\n      const text = await file.text()\r\n      const data = JSON.parse(text)\r\n\r\n      if (!Array.isArray(data)) {\r\n        throw new Error(t('settings.storage.invalidFileFormat'))\r\n      }\r\n\r\n      const recipesWithDates = data.map((recipe: any) => ({\r\n        ...recipe,\r\n        createdAt: recipe.createdAt ? new Date(recipe.createdAt) : new Date(),\r\n        updatedAt: recipe.updatedAt ? new Date(recipe.updatedAt) : new Date()\r\n      }))\r\n\r\n      await importRecipes(recipesWithDates)\r\n      toast.success(t('settings.storage.importedSuccess', { count: data.length }))\r\n    } catch (error) {\r\n      toast.error(t('settings.storage.invalidFileFormatError'))\r\n    } finally {\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = ''\r\n      }\r\n    }\r\n  }, [importRecipes, t])\r\n\r\n  // 샘플 레시피 불러오기\r\n  const handleResetToSamples = useCallback(() => {\r\n    if (window.confirm(t('settings.storage.resetSamplesConfirm'))) {\r\n      resetToSampleRecipes()\r\n      toast.success(t('settings.storage.samplesLoaded'))\r\n    }\r\n  }, [resetToSampleRecipes, t])\r\n\r\n  const lastSavedText = storage.lastSavedAt\r\n    ? new Date(storage.lastSavedAt).toLocaleString()\r\n    : t('settings.storage.none')\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* 저장소 타입 선택 */}\r\n      <section className=\"bg-white rounded-lg border border-gray-200 p-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\">\r\n          <HardDrive className=\"w-5 h-5 text-amber-600\" />\r\n          {t('settings.storage.title')}\r\n        </h3>\r\n\r\n        <div className=\"space-y-4\">\r\n          {/* 현재 상태 */}\r\n          <div className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg\">\r\n            {storage.type === 'filesystem' && isInitialized ? (\r\n              <>\r\n                <div className=\"p-2 bg-green-100 rounded-full\">\r\n                  <Check className=\"w-5 h-5 text-green-600\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <p className=\"font-medium text-gray-800\">\r\n                    {t('settings.storage.localFolder')}: {storage.directoryName}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {t('settings.storage.lastSaved')}: {lastSavedText}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={handleDisconnect}\r\n                  className=\"px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors\"\r\n                >\r\n                  {t('settings.storage.disconnect')}\r\n                </button>\r\n              </>\r\n            ) : storage.type === 'filesystem' && !isInitialized ? (\r\n              <>\r\n                <div className=\"p-2 bg-yellow-100 rounded-full\">\r\n                  <AlertTriangle className=\"w-5 h-5 text-yellow-600\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <p className=\"font-medium text-gray-800\">\r\n                    {t('settings.storage.folderNeeded')}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {t('settings.storage.permissionExpired')}\r\n                  </p>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div className=\"p-2 bg-blue-100 rounded-full\">\r\n                  <Cloud className=\"w-5 h-5 text-blue-600\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <p className=\"font-medium text-gray-800\">\r\n                    {t('settings.storage.browserStorage')}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {t('settings.storage.browserStorageDesc')}\r\n                  </p>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* 폴더 선택 버튼 */}\r\n          {isSupported ? (\r\n            <div className=\"flex flex-col gap-3\">\r\n              <button\r\n                onClick={handleSelectFolder}\r\n                disabled={isConnecting}\r\n                className=\"flex items-center justify-center gap-2 w-full px-4 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                {isConnecting ? (\r\n                  <RefreshCw className=\"w-5 h-5 animate-spin\" />\r\n                ) : (\r\n                  <FolderOpen className=\"w-5 h-5\" />\r\n                )}\r\n                {storage.type === 'filesystem' ? t('settings.storage.selectOtherFolder') : t('settings.storage.selectFolder')}\r\n              </button>\r\n\r\n              {storage.type === 'filesystem' && isInitialized && (\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={handleManualSave}\r\n                    className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors\"\r\n                  >\r\n                    <Download className=\"w-4 h-4\" />\r\n                    {t('settings.storage.saveToFolder')}\r\n                  </button>\r\n                  <button\r\n                    onClick={handleLoadFromFile}\r\n                    className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\r\n                  >\r\n                    <Upload className=\"w-4 h-4\" />\r\n                    {t('settings.storage.loadFromFolder')}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <AlertTriangle className=\"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"font-medium text-yellow-800\">\r\n                    {t('settings.storage.notSupported')}\r\n                  </p>\r\n                  <p className=\"text-sm text-yellow-700 mt-1\">\r\n                    {t('settings.storage.useChromeEdge')}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* 자동 저장 옵션 */}\r\n          <label className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={storage.autoSave}\r\n              onChange={(e) => setAutoSave(e.target.checked)}\r\n              className=\"w-5 h-5 rounded border-gray-300 text-amber-600 focus:ring-amber-500\"\r\n            />\r\n            <div>\r\n              <p className=\"font-medium text-gray-800\">{t('settings.storage.autoSave')}</p>\r\n              <p className=\"text-sm text-gray-500\">\r\n                {t('settings.storage.autoSaveDesc')}\r\n              </p>\r\n            </div>\r\n          </label>\r\n        </div>\r\n      </section>\r\n\r\n      {/* 수동 백업/복원 */}\r\n      <section className=\"bg-white rounded-lg border border-gray-200 p-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\">\r\n          <Download className=\"w-5 h-5 text-amber-600\" />\r\n          {t('settings.storage.backupRestore')}\r\n        </h3>\r\n\r\n        <p className=\"text-sm text-gray-600 mb-4\">\r\n          {t('settings.storage.backupRestoreDesc')}\r\n        </p>\r\n\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\".json\"\r\n            onChange={handleImportJson}\r\n            className=\"hidden\"\r\n          />\r\n\r\n          <button\r\n            onClick={handleExportJson}\r\n            disabled={recipes.length === 0}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n          >\r\n            <Download className=\"w-4 h-4\" />\r\n            {t('settings.storage.exportJson')}\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => fileInputRef.current?.click()}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\r\n          >\r\n            <Upload className=\"w-4 h-4\" />\r\n            {t('settings.storage.importJson')}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleResetToSamples}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n            {t('settings.storage.loadSamples')}\r\n          </button>\r\n        </div>\r\n\r\n        <p className=\"text-xs text-gray-400 mt-3\">\r\n          {t('settings.storage.currentRecipes')}: {recipes.length}\r\n        </p>\r\n      </section>\r\n\r\n      {/* 안내 */}\r\n      <section className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <Info className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\r\n          <div className=\"text-sm text-blue-800\">\r\n            <p className=\"font-medium mb-2\">{t('settings.storage.infoTitle')}</p>\r\n            <ul className=\"space-y-1 text-blue-700\">\r\n              <li>- {t('settings.storage.infoLine1')}</li>\r\n              <li>- {t('settings.storage.infoLine2')}</li>\r\n              <li className=\"ml-4\">• <code className=\"bg-blue-100 px-1 rounded\">recipes.json</code> - {t('settings.storage.infoRecipesFile')}</li>\r\n              <li className=\"ml-4\">• <code className=\"bg-blue-100 px-1 rounded\">settings.json</code> - {t('settings.storage.infoSettingsFile')}</li>\r\n              <li>- {t('settings.storage.infoLine3')}</li>\r\n              <li>- {t('settings.storage.infoLine4')}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","/**\r\n * 언어 및 단위 설정 탭\r\n * 국제화 관련 사용자 설정 UI\r\n */\r\n\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useLocaleStore } from '@/stores/useLocaleStore';\r\nimport { SUPPORTED_LANGUAGES, LANGUAGE_NAMES, UnitSystem, UNIT_SYSTEMS } from '@/i18n';\r\nimport { TemperatureUnit, WeightUnit, VolumeUnit, LengthUnit, UNIT_SYMBOLS } from '@/utils/unitConverter';\r\n\r\nexport default function LocaleSettingsTab() {\r\n  const { t } = useTranslation();\r\n  const {\r\n    language,\r\n    unitSystem,\r\n    temperature,\r\n    weight,\r\n    volume,\r\n    length,\r\n    decimalSeparator,\r\n    decimalPlaces,\r\n    showIngredientTranslation,\r\n    setLanguage,\r\n    setUnitSystem,\r\n    setTemperatureUnit,\r\n    setWeightUnit,\r\n    setVolumeUnit,\r\n    setLengthUnit,\r\n    setDecimalSeparator,\r\n    setDecimalPlaces,\r\n    setShowIngredientTranslation,\r\n    resetToDefaults\r\n  } = useLocaleStore();\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* 언어 설정 */}\r\n      <section className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n          <span className=\"text-xl\">🌐</span>\r\n          {t('settings.language')}\r\n        </h3>\r\n        <p className=\"text-sm text-gray-500 mb-4\">\r\n          {t('settings.languageDescription')}\r\n        </p>\r\n\r\n        <div className=\"grid grid-cols-2 gap-3\">\r\n          {SUPPORTED_LANGUAGES.map((lang) => (\r\n            <button\r\n              key={lang}\r\n              onClick={() => setLanguage(lang)}\r\n              className={`p-4 rounded-lg border-2 transition-all ${\r\n                language === lang\r\n                  ? 'border-bread-500 bg-bread-50 text-bread-700'\r\n                  : 'border-gray-200 hover:border-gray-300 text-gray-700'\r\n              }`}\r\n            >\r\n              <div className=\"text-2xl mb-1\">\r\n                {lang === 'ko' ? '🇰🇷' : '🇺🇸'}\r\n              </div>\r\n              <div className=\"font-medium\">{LANGUAGE_NAMES[lang]}</div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* 단위 시스템 */}\r\n      <section className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n          <span className=\"text-xl\">📏</span>\r\n          {t('settings.unitSystem')}\r\n        </h3>\r\n        <p className=\"text-sm text-gray-500 mb-4\">\r\n          {t('settings.unitSystemDescription')}\r\n        </p>\r\n\r\n        <div className=\"grid grid-cols-3 gap-3 mb-6\">\r\n          {(Object.keys(UNIT_SYSTEMS) as UnitSystem[]).map((system) => (\r\n            <button\r\n              key={system}\r\n              onClick={() => setUnitSystem(system)}\r\n              className={`p-4 rounded-lg border-2 transition-all text-left ${\r\n                unitSystem === system\r\n                  ? 'border-bread-500 bg-bread-50'\r\n                  : 'border-gray-200 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <div className=\"font-medium text-gray-900\">\r\n                {language === 'ko' ? UNIT_SYSTEMS[system].nameKo : UNIT_SYSTEMS[system].name}\r\n              </div>\r\n              <div className=\"text-xs text-gray-500 mt-1\">\r\n                {system === 'metric' && 'g, ml, °C'}\r\n                {system === 'imperial' && 'oz, cups, °F'}\r\n                {system === 'hybrid' && 'g, ml, °F'}\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* 개별 단위 설정 */}\r\n        <div className=\"border-t pt-4\">\r\n          <h4 className=\"text-sm font-medium text-gray-700 mb-3\">\r\n            {t('settings.individualUnitSettings')}\r\n          </h4>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {/* 온도 */}\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600 mb-1\">\r\n                {t('settings.temperatureUnit')}\r\n              </label>\r\n              <select\r\n                value={temperature}\r\n                onChange={(e) => setTemperatureUnit(e.target.value as TemperatureUnit)}\r\n                className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-bread-500 focus:border-bread-500\"\r\n              >\r\n                <option value=\"celsius\">°C (Celsius)</option>\r\n                <option value=\"fahrenheit\">°F (Fahrenheit)</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* 무게 */}\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600 mb-1\">\r\n                {t('settings.weightUnit')}\r\n              </label>\r\n              <select\r\n                value={weight}\r\n                onChange={(e) => setWeightUnit(e.target.value as WeightUnit)}\r\n                className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-bread-500 focus:border-bread-500\"\r\n              >\r\n                <option value=\"gram\">g (Gram)</option>\r\n                <option value=\"ounce\">oz (Ounce)</option>\r\n                <option value=\"pound\">lb (Pound)</option>\r\n                <option value=\"kilogram\">kg (Kilogram)</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* 부피 */}\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600 mb-1\">\r\n                {t('settings.volumeUnit')}\r\n              </label>\r\n              <select\r\n                value={volume}\r\n                onChange={(e) => setVolumeUnit(e.target.value as VolumeUnit)}\r\n                className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-bread-500 focus:border-bread-500\"\r\n              >\r\n                <option value=\"milliliter\">ml (Milliliter)</option>\r\n                <option value=\"cup\">cup (US Cup)</option>\r\n                <option value=\"liter\">L (Liter)</option>\r\n                <option value=\"fluidOunce\">fl oz (Fluid Ounce)</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* 길이 */}\r\n            <div>\r\n              <label className=\"block text-sm text-gray-600 mb-1\">\r\n                {t('settings.lengthUnit')}\r\n              </label>\r\n              <select\r\n                value={length}\r\n                onChange={(e) => setLengthUnit(e.target.value as LengthUnit)}\r\n                className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-bread-500 focus:border-bread-500\"\r\n              >\r\n                <option value=\"centimeter\">cm (Centimeter)</option>\r\n                <option value=\"inch\">in (Inch)</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* 숫자 포맷 */}\r\n      <section className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n          <span className=\"text-xl\">🔢</span>\r\n          {t('settings.numberFormat')}\r\n        </h3>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          {/* 소수점 구분자 */}\r\n          <div>\r\n            <label className=\"block text-sm text-gray-600 mb-1\">\r\n              {t('settings.decimalSeparator')}\r\n            </label>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => setDecimalSeparator('.')}\r\n                className={`flex-1 py-2 px-4 rounded-lg border-2 transition-all ${\r\n                  decimalSeparator === '.'\r\n                    ? 'border-bread-500 bg-bread-50 text-bread-700'\r\n                    : 'border-gray-200 text-gray-600'\r\n                }`}\r\n              >\r\n                {t('settings.dot')}\r\n              </button>\r\n              <button\r\n                onClick={() => setDecimalSeparator(',')}\r\n                className={`flex-1 py-2 px-4 rounded-lg border-2 transition-all ${\r\n                  decimalSeparator === ','\r\n                    ? 'border-bread-500 bg-bread-50 text-bread-700'\r\n                    : 'border-gray-200 text-gray-600'\r\n                }`}\r\n              >\r\n                {t('settings.comma')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 소수점 자릿수 */}\r\n          <div>\r\n            <label className=\"block text-sm text-gray-600 mb-1\">\r\n              {t('settings.decimalPlaces')}\r\n            </label>\r\n            <select\r\n              value={decimalPlaces}\r\n              onChange={(e) => setDecimalPlaces(Number(e.target.value))}\r\n              className=\"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-bread-500 focus:border-bread-500\"\r\n            >\r\n              <option value={0}>0 (100)</option>\r\n              <option value={1}>1 (100.5)</option>\r\n              <option value={2}>2 (100.55)</option>\r\n              <option value={3}>3 (100.555)</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* 재료 표시 옵션 */}\r\n      <section className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n          <span className=\"text-xl\">🥖</span>\r\n          {t('settings.ingredientDisplay')}\r\n        </h3>\r\n\r\n        <label className=\"flex items-center gap-3 cursor-pointer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={showIngredientTranslation}\r\n            onChange={(e) => setShowIngredientTranslation(e.target.checked)}\r\n            className=\"w-5 h-5 rounded border-gray-300 text-bread-500 focus:ring-bread-500\"\r\n          />\r\n          <span className=\"text-gray-700\">\r\n            {t('settings.showIngredientTranslation')}\r\n          </span>\r\n        </label>\r\n\r\n        <div className=\"mt-3 p-3 bg-gray-50 rounded-lg text-sm text-gray-600\">\r\n          <div className=\"font-medium mb-1\">\r\n            {t('settings.example')}\r\n          </div>\r\n          {showIngredientTranslation\r\n            ? t('settings.ingredientExampleWithTranslation')\r\n            : t('settings.ingredientExampleWithoutTranslation')}\r\n        </div>\r\n      </section>\r\n\r\n      {/* 미리보기 */}\r\n      <section className=\"bg-white rounded-lg shadow-sm border p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n          <span className=\"text-xl\">👁️</span>\r\n          {t('settings.preview')}\r\n        </h3>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n          <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-gray-500 mb-1\">\r\n              {t('recipe.bakingTemp')}\r\n            </div>\r\n            <div className=\"font-medium\">\r\n              {temperature === 'celsius' ? '180°C' : '356°F'}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-gray-500 mb-1\">\r\n              {t('ingredientCategory.flour')}\r\n            </div>\r\n            <div className=\"font-medium\">\r\n              {weight === 'gram' && '500g'}\r\n              {weight === 'ounce' && '17.6oz'}\r\n              {weight === 'pound' && '1.1lb'}\r\n              {weight === 'kilogram' && '0.5kg'}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-gray-500 mb-1\">\r\n              {t('ingredientCategory.liquid')}\r\n            </div>\r\n            <div className=\"font-medium\">\r\n              {volume === 'milliliter' && '300ml'}\r\n              {volume === 'cup' && '1.3 cups'}\r\n              {volume === 'liter' && '0.3L'}\r\n              {volume === 'fluidOunce' && '10.1 fl oz'}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-3 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-gray-500 mb-1\">\r\n              {t('settings.panDiameter')}\r\n            </div>\r\n            <div className=\"font-medium\">\r\n              {length === 'centimeter' ? '18cm' : '7in'}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* 초기화 버튼 */}\r\n      <div className=\"flex justify-end\">\r\n        <button\r\n          onClick={resetToDefaults}\r\n          className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n        >\r\n          {t('common.reset')}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * 설정 페이지 - 모든 설정 탭 통합\r\n * 사용자 커스터마이징을 위한 종합 설정 페이지\r\n *\r\n * 적용: --persona-frontend (UX) + --persona-architect (구조 설계)\r\n */\r\n\r\nimport { useState, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSettingsStore } from '@/stores/useSettingsStore'\r\nimport PanSettingsTab from './PanSettingsTab'\r\nimport ProductSettingsTab from './ProductSettingsTab'\r\nimport EnvironmentSettingsTab from './EnvironmentSettingsTab'\r\nimport MethodSettingsTab from './MethodSettingsTab'\r\nimport YieldLossSettingsTab from './YieldLossSettingsTab'\r\nimport IngredientSettingsTab from './IngredientSettingsTab'\r\nimport AdvancedSettingsTab from './AdvancedSettingsTab'\r\nimport StorageSettingsTab from './StorageSettingsTab'\r\nimport LocaleSettingsTab from './LocaleSettingsTab'\r\nimport {\r\n  Settings,\r\n  Box,\r\n  Thermometer,\r\n  FlaskConical,\r\n  TrendingDown,\r\n  Apple,\r\n  Cog,\r\n  Download,\r\n  Upload,\r\n  RotateCcw,\r\n  X,\r\n  Check,\r\n  AlertTriangle,\r\n  ChevronLeft,\r\n  Scale,\r\n  HardDrive,\r\n  Globe\r\n} from 'lucide-react'\r\n\r\n// 탭 정의 (번역 키 사용)\r\nconst TABS = [\r\n  {\r\n    id: 'locale',\r\n    nameKey: 'settingsTabs.locale',\r\n    icon: Globe,\r\n    color: 'text-indigo-500',\r\n    bgColor: 'bg-indigo-50',\r\n    borderColor: 'border-indigo-200',\r\n    descKey: 'settingsTabs.localeDesc'\r\n  },\r\n  {\r\n    id: 'storage',\r\n    nameKey: 'settingsTabs.storage',\r\n    icon: HardDrive,\r\n    color: 'text-purple-500',\r\n    bgColor: 'bg-purple-50',\r\n    borderColor: 'border-purple-200',\r\n    descKey: 'settingsTabs.storageDesc'\r\n  },\r\n  {\r\n    id: 'pan',\r\n    nameKey: 'settingsTabs.pan',\r\n    icon: Box,\r\n    color: 'text-orange-500',\r\n    bgColor: 'bg-orange-50',\r\n    borderColor: 'border-orange-200',\r\n    descKey: 'settingsTabs.panDesc'\r\n  },\r\n  {\r\n    id: 'product',\r\n    nameKey: 'settingsTabs.product',\r\n    icon: Scale,\r\n    color: 'text-amber-500',\r\n    bgColor: 'bg-amber-50',\r\n    borderColor: 'border-amber-200',\r\n    descKey: 'settingsTabs.productDesc'\r\n  },\r\n  {\r\n    id: 'environment',\r\n    nameKey: 'settingsTabs.environment',\r\n    icon: Thermometer,\r\n    color: 'text-blue-500',\r\n    bgColor: 'bg-blue-50',\r\n    borderColor: 'border-blue-200',\r\n    descKey: 'settingsTabs.environmentDesc'\r\n  },\r\n  {\r\n    id: 'method',\r\n    nameKey: 'settingsTabs.method',\r\n    icon: FlaskConical,\r\n    color: 'text-amber-500',\r\n    bgColor: 'bg-amber-50',\r\n    borderColor: 'border-amber-200',\r\n    descKey: 'settingsTabs.methodDesc'\r\n  },\r\n  {\r\n    id: 'yieldLoss',\r\n    nameKey: 'settingsTabs.yieldLoss',\r\n    icon: TrendingDown,\r\n    color: 'text-red-500',\r\n    bgColor: 'bg-red-50',\r\n    borderColor: 'border-red-200',\r\n    descKey: 'settingsTabs.yieldLossDesc'\r\n  },\r\n  {\r\n    id: 'ingredient',\r\n    nameKey: 'settingsTabs.ingredient',\r\n    icon: Apple,\r\n    color: 'text-green-500',\r\n    bgColor: 'bg-green-50',\r\n    borderColor: 'border-green-200',\r\n    descKey: 'settingsTabs.ingredientDesc'\r\n  },\r\n  {\r\n    id: 'advanced',\r\n    nameKey: 'settingsTabs.advanced',\r\n    icon: Cog,\r\n    color: 'text-gray-500',\r\n    bgColor: 'bg-gray-50',\r\n    borderColor: 'border-gray-200',\r\n    descKey: 'settingsTabs.advancedDesc'\r\n  }\r\n]\r\n\r\ninterface SettingsPageProps {\r\n  className?: string\r\n  onClose?: () => void\r\n  initialTab?: string\r\n}\r\n\r\nexport default function SettingsPage({\r\n  className = '',\r\n  onClose,\r\n  initialTab = 'locale'\r\n}: SettingsPageProps) {\r\n  const { t } = useTranslation()\r\n  const [activeTab, setActiveTab] = useState(initialTab)\r\n  const [showExportModal, setShowExportModal] = useState(false)\r\n  const [showImportModal, setShowImportModal] = useState(false)\r\n  const [importData, setImportData] = useState('')\r\n  const [importError, setImportError] = useState('')\r\n  const [importSuccess, setImportSuccess] = useState(false)\r\n\r\n  const { exportSettings, importSettings, resetAllSettings } = useSettingsStore()\r\n\r\n  // 내보내기 처리\r\n  const handleExport = useCallback(() => {\r\n    const data = exportSettings()\r\n    const blob = new Blob([data], { type: 'application/json' })\r\n    const url = URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = `recipe-settings-${new Date().toISOString().split('T')[0]}.json`\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    document.body.removeChild(a)\r\n    URL.revokeObjectURL(url)\r\n    setShowExportModal(false)\r\n  }, [exportSettings])\r\n\r\n  // 가져오기 처리\r\n  const handleImport = useCallback(() => {\r\n    setImportError('')\r\n    setImportSuccess(false)\r\n\r\n    if (!importData.trim()) {\r\n      setImportError(t('settings.modal.enterData'))\r\n      return\r\n    }\r\n\r\n    const success = importSettings(importData)\r\n    if (success) {\r\n      setImportSuccess(true)\r\n      setTimeout(() => {\r\n        setShowImportModal(false)\r\n        setImportData('')\r\n        setImportSuccess(false)\r\n      }, 1500)\r\n    } else {\r\n      setImportError(t('settings.modal.invalidFormat'))\r\n    }\r\n  }, [importData, importSettings, t])\r\n\r\n  // 파일로 가져오기\r\n  const handleFileImport = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (!file) return\r\n\r\n    const reader = new FileReader()\r\n    reader.onload = (event) => {\r\n      const content = event.target?.result as string\r\n      setImportData(content)\r\n    }\r\n    reader.readAsText(file)\r\n  }, [])\r\n\r\n  // 초기화 처리\r\n  const handleResetAll = useCallback(() => {\r\n    if (confirm(t('settings.modal.resetConfirm'))) {\r\n      if (confirm(t('settings.modal.resetConfirm2'))) {\r\n        resetAllSettings()\r\n      }\r\n    }\r\n  }, [resetAllSettings, t])\r\n\r\n  // 탭 콘텐츠 렌더링\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'locale':\r\n        return <LocaleSettingsTab />\r\n      case 'storage':\r\n        return <StorageSettingsTab />\r\n      case 'pan':\r\n        return <PanSettingsTab />\r\n      case 'product':\r\n        return <ProductSettingsTab />\r\n      case 'environment':\r\n        return <EnvironmentSettingsTab />\r\n      case 'method':\r\n        return <MethodSettingsTab />\r\n      case 'yieldLoss':\r\n        return <YieldLossSettingsTab />\r\n      case 'ingredient':\r\n        return <IngredientSettingsTab />\r\n      case 'advanced':\r\n        return <AdvancedSettingsTab />\r\n      default:\r\n        return <StorageSettingsTab />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen bg-gray-50 ${className}`}>\r\n      {/* 헤더 */}\r\n      <div className=\"sticky top-0 z-10 bg-white border-b shadow-sm\">\r\n        <div className=\"max-w-6xl mx-auto px-4\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center gap-4\">\r\n              {onClose && (\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <ChevronLeft className=\"w-5 h-5\" />\r\n                </button>\r\n              )}\r\n              <div className=\"flex items-center gap-2\">\r\n                <Settings className=\"w-6 h-6 text-gray-600\" />\r\n                <h1 className=\"text-xl font-bold text-gray-800\">{t('settings.title')}</h1>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setShowExportModal(true)}\r\n                className=\"flex items-center gap-1 px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                <Download className=\"w-4 h-4\" />\r\n                {t('common.export')}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowImportModal(true)}\r\n                className=\"flex items-center gap-1 px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                <Upload className=\"w-4 h-4\" />\r\n                {t('common.import')}\r\n              </button>\r\n              <button\r\n                onClick={handleResetAll}\r\n                className=\"flex items-center gap-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n              >\r\n                <RotateCcw className=\"w-4 h-4\" />\r\n                {t('common.reset')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-6xl mx-auto px-4 py-6\">\r\n        <div className=\"flex gap-6\">\r\n          {/* 사이드바 - 탭 네비게이션 */}\r\n          <div className=\"w-56 flex-shrink-0\">\r\n            <nav className=\"space-y-1 sticky top-24\">\r\n              {TABS.map(tab => {\r\n                const Icon = tab.icon\r\n                const isActive = activeTab === tab.id\r\n\r\n                return (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-all ${\r\n                      isActive\r\n                        ? `${tab.bgColor} ${tab.borderColor} border-2`\r\n                        : 'hover:bg-gray-100'\r\n                    }`}\r\n                  >\r\n                    <Icon className={`w-5 h-5 ${isActive ? tab.color : 'text-gray-400'}`} />\r\n                    <div>\r\n                      <div className={`font-medium ${isActive ? 'text-gray-800' : 'text-gray-600'}`}>\r\n                        {t(tab.nameKey)}\r\n                      </div>\r\n                      <div className=\"text-xs text-gray-500 truncate\">\r\n                        {t(tab.descKey)}\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                )\r\n              })}\r\n            </nav>\r\n          </div>\r\n\r\n          {/* 메인 콘텐츠 */}\r\n          <div className=\"flex-1 min-w-0\">\r\n            <div className=\"bg-white rounded-xl shadow-sm border p-6\">\r\n              {renderTabContent()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 내보내기 모달 */}\r\n      {showExportModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n          <div className=\"bg-white rounded-xl shadow-xl w-full max-w-md mx-4 p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold\">{t('settings.modal.exportTitle')}</h3>\r\n              <button\r\n                onClick={() => setShowExportModal(false)}\r\n                className=\"p-1 hover:bg-gray-100 rounded\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"text-sm text-gray-600 mb-4\">\r\n              {t('settings.modal.exportDesc')}\r\n            </p>\r\n            <div className=\"flex gap-2 justify-end\">\r\n              <button\r\n                onClick={() => setShowExportModal(false)}\r\n                className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\r\n              >\r\n                {t('common.cancel')}\r\n              </button>\r\n              <button\r\n                onClick={handleExport}\r\n                className=\"flex items-center gap-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\r\n              >\r\n                <Download className=\"w-4 h-4\" />\r\n                {t('common.download')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 가져오기 모달 */}\r\n      {showImportModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n          <div className=\"bg-white rounded-xl shadow-xl w-full max-w-lg mx-4 p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold\">{t('settings.modal.importTitle')}</h3>\r\n              <button\r\n                onClick={() => {\r\n                  setShowImportModal(false)\r\n                  setImportData('')\r\n                  setImportError('')\r\n                  setImportSuccess(false)\r\n                }}\r\n                className=\"p-1 hover:bg-gray-100 rounded\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {importSuccess ? (\r\n              <div className=\"flex items-center gap-2 p-4 bg-green-50 text-green-700 rounded-lg\">\r\n                <Check className=\"w-5 h-5\" />\r\n                {t('settings.modal.importSuccess')}\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    {t('settings.modal.selectFile')}\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".json\"\r\n                    onChange={handleFileImport}\r\n                    className=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    {t('settings.modal.orPaste')}\r\n                  </label>\r\n                  <textarea\r\n                    value={importData}\r\n                    onChange={(e) => setImportData(e.target.value)}\r\n                    placeholder='{\"pan\": {...}, \"method\": {...}, ...}'\r\n                    rows={6}\r\n                    className=\"w-full px-3 py-2 border rounded-lg text-sm font-mono resize-none\"\r\n                  />\r\n                </div>\r\n\r\n                {importError && (\r\n                  <div className=\"flex items-center gap-2 p-3 mb-4 bg-red-50 text-red-600 rounded-lg text-sm\">\r\n                    <AlertTriangle className=\"w-4 h-4\" />\r\n                    {importError}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex gap-2 justify-end\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowImportModal(false)\r\n                      setImportData('')\r\n                      setImportError('')\r\n                    }}\r\n                    className=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\r\n                  >\r\n                    {t('common.cancel')}\r\n                  </button>\r\n                  <button\r\n                    onClick={handleImport}\r\n                    disabled={!importData.trim()}\r\n                    className=\"flex items-center gap-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <Upload className=\"w-4 h-4\" />\r\n                    {t('common.import')}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":["Apple","createLucideIcon","d","key","Beaker","Box","ChevronLeft","Coffee","Cog","Eye","cx","cy","r","FlaskConical","FolderOpen","Hand","HardDrive","x1","x2","y1","y2","Leaf","Mountain","PenLine","Pen","Settings2","Snowflake","Star","Sun","Thermometer","Timer","Zap","PanScalingTS","calculateRoundPanVolume","diameter","height","radius","Math","PI","calculateSquarePanVolume","length","width","calculateLoafPanVolume","topLength","bottomLength","calculateChiffonPanVolume","outerDiameter","innerDiameter","this","calculatePanVolume","pan","type","dimensions","Error","weightToVolume","weight","density","volumeToWeight","volume","PAN_CATEGORIES","value","labelKey","PAN_TYPES","EMPTY_PAN_FORM","name","category","fillRatio","notes","isFavorite","PanSettingsTab","className","t","useTranslation","addPan","updatePan","deletePan","togglePanFavorite","useSettingsStore","getCategoryLabel","useCallback","categoryValue","cat","find","c","getPanDisplayName","panItem","DEFAULT_PAN_IDS","includes","id","defaultValue","typeValue","showForm","setShowForm","useState","editingId","setEditingId","formData","setFormData","searchQuery","setSearchQuery","filterCategory","setFilterCategory","showFavoritesOnly","setShowFavoritesOnly","expandedPanId","setExpandedPanId","filteredPans","useMemo","myPans","filter","p","query","toLowerCase","matchName","matchCategory","matchType","calculateVolume","data","roundCategories","chiffonCategories","squareCategories","e","calculatedVolume","resetForm","startEditing","_a","_b","_c","_d","_e","handleSave","alert","panData","duplicatePan","handleCategoryChange","types","other","prev","__spreadProps","__spreadValues","renderDimensionInputs","isRound","isChiffon","children","jsxs","Fragment","jsx","onChange","parseFloat","target","placeholder","step","onClick","Plus","Search","map","X","round","toLocaleString","AlertCircle","min","max","parseInt","toFixed","rows","checked","disabled","Save","isExpanded","dimensionStr","getDimensionString","stopPropagation","title","ChevronUp","ChevronDown","Edit2","Copy","confirm","Trash2","count","SEASON_ICONS","spring","summer","winter","EnvironmentSettingsTab","environment","setEnvironmentDefaults","addEnvironmentProfile","updateEnvironmentProfile","deleteEnvironmentProfile","setActiveProfile","showProfileForm","setShowProfileForm","editingProfileId","setEditingProfileId","profileForm","setProfileForm","temperature","humidity","altitude","activeProfile","activeProfileId","profiles","currentEnvironment","defaults","fermentationImpact","coefficient","calculateFermentationTimeCoefficient","percent","direction","message","altitudeImpact","alt","level","humidityImpact","hum","BUILTIN_PROFILE_IDS","getProfileDisplayName","profile","resetProfileForm","startEditingProfile","handleSaveProfile","trim","handleDefaultChange","field","Droplets","Info","Check","SeasonIcon","isActive","isBuiltIn","METHOD_META","straight","icon","color","sponge","poolish","biga","tangzhong","levain","coldFerment","retard","autolyse","MethodSettingsTab","method","updateMethod","setYeastConversion","setBaseTemperature","setBaseSaltPercent","resetToDefaults","expandedMethod","setExpandedMethod","editingMethod","setEditingMethod","editForm","setEditForm","sortedMethods","methodId","methods","m","flourRatio","waterRatio","yeastAdjustment","prefermentTime","prefermentTemp","mainDoughTime","description","handleCancel","yeastConversion","fresh","activeDry","instant","Clock","baseTemperature","baseSaltPercent","RotateCcw","meta","isEditing","split","renderMethodCard","DEFAULT_LOSS_RATES","bread","mixing","fermentation","dividing","shaping","baking","cooling","cake","pastry","cookie","PROCESS_STAGES","CATEGORIES","PRODUCTS","YieldLossSettingsTab","yieldLoss","setCategoryLossOverride","setProductLossOverride","setEnvironmentAdjustment","expandedCategory","setExpandedCategory","editingCategory","setEditingCategory","editingProduct","setEditingProduct","categoryEditForm","setCategoryEditForm","productEditForm","setProductEditForm","selectedProductCategory","setSelectedProductCategory","getCategoryRates","baseRates","overrides","categoryOverrides","getProductRates","product","categoryRates","productOverrides","calculateTotalLoss","rates","Object","values","reduce","sum","val","startEditingCategory","handleSaveCategory","startEditingProduct","handleSaveProduct","renderRateInputs","showDiff","stage","currentValue","baseValue","displayValue","isOverridden","isNaN","TrendingDown","enableEnvironmentAdjustment","totalLoss","hasOverrides","keys","productKey","hasOverride","Boolean","AlertTriangle","nutritionDatabase","nameKo","calories","protein","carbohydrates","fat","fiber","sugar","sodium","cholesterol","calcium","iron","saturatedFat","vitaminA","transFat","SUBSTITUTION_RULES","original","substitute","ratio","qualityImpact","bestFor","notRecommendedFor","INGREDIENT_CATEGORIES","IngredientSettingsTab","i18n","currentLang","language","getIngredientDisplayName","PRIMARY_INGREDIENT_NAMES","translated","translationData","findIngredientByKorean","en","getIngredientAlias","aliases","langAliases","ko","isEnglish","str","test","a","ingredient","addCustomIngredient","deleteCustomIngredient","setMoistureOverride","addSubstitution","deleteSubstitution","setCostOverride","deleteCostOverride","setNutritionOverride","deleteNutritionOverride","search","setSearch","categoryFilter","setCategoryFilter","showOnlyModified","setShowOnlyModified","editingRow","setEditingRow","showCustomForm","setShowCustomForm","customForm","setCustomForm","moisture","isFlour","showSubForm","setShowSubForm","subForm","setSubForm","expandedRows","setExpandedRows","Set","unifiedIngredients","result","ing","INGREDIENT_DATABASE","moistureOverride","moistureOverrides","cost","costOverrides","nutrition","nutritionOverrides","subs","substitutions","s","defaultNutrition","defaultSubs","rule","push","moistureOverridden","defaultSubstitutions","isCustom","originalData","custom","customIngredients","some","filteredIngredients","list","searchLower","nameMatch","aliasMatch","handleStartEdit","i","handleSaveEdit","cleaned","retailPrice","wholesalePrice","bulkPrice","handleCancelEdit","handleSaveCustom","handleSaveSubstitution","toggleRowExpand","next","has","delete","add","handleResetIngredient","modifiedCount","dbCount","customCount","Filter","catInfo","hasModifications","React","alias","_g","_f","_h","_i","carbs","totalSubs","defaultCount","userCount","Edit3","RefreshCw","colSpan","idx","translateBakingNote","ArrowRight","sub","MIXER_TYPES","Settings","UNIT_OPTIONS","PRECISION_OPTIONS","AdvancedSettingsTab","advanced","setMixerFriction","setUnits","setPrecision","setExpertMode","showMixerInfo","setShowMixerInfo","handleMixerChange","handleUnitChange","unitType","expertMode","mixer","mixerFriction","Scale","opt","units","precision","StorageSettingsTab","storage","setStorageDirectory","setAutoSave","updateLastSaved","recipes","importRecipes","exportRecipes","resetToSampleRecipes","useRecipeStore","isSupported","setIsSupported","isConnecting","setIsConnecting","isInitialized","setIsInitialized","fileInputRef","useRef","useEffect","__async","supported","isFileSystemAccessSupported","initialized","fileSystemStorage","initialize","directoryName","toast","info","checkSupport","handleSelectFolder","folderName","selectDirectory","success","error","handleDisconnect","window","disconnect","settingsStore","getSettingsData","handleManualSave","writeFile","handleLoadFromFile","loadedCount","recipesData","readFile","Array","isArray","settingsData","importSettings","JSON","stringify","handleExportJson","blob","url","URL","createObjectURL","link","document","createElement","href","download","Date","toISOString","body","appendChild","click","removeChild","revokeObjectURL","handleImportJson","event","file","files","text","parse","recipesWithDates","recipe","createdAt","updatedAt","current","handleResetToSamples","lastSavedText","lastSavedAt","Cloud","Download","Upload","autoSave","ref","accept","LocaleSettingsTab","unitSystem","decimalSeparator","decimalPlaces","showIngredientTranslation","setLanguage","setUnitSystem","setTemperatureUnit","setWeightUnit","setVolumeUnit","setLengthUnit","setDecimalSeparator","setDecimalPlaces","setShowIngredientTranslation","useLocaleStore","SUPPORTED_LANGUAGES","lang","LANGUAGE_NAMES","UNIT_SYSTEMS","system","Number","TABS","nameKey","Globe","bgColor","borderColor","descKey","SettingsPage","onClose","initialTab","activeTab","setActiveTab","showExportModal","setShowExportModal","showImportModal","setShowImportModal","importData","setImportData","importError","setImportError","importSuccess","setImportSuccess","exportSettings","resetAllSettings","handleExport","Blob","handleImport","setTimeout","handleFileImport","reader","FileReader","onload","content","readAsText","handleResetAll","tab","Icon","ProductSettingsTab","renderTabContent"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}